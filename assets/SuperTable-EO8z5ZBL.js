import{bd as la,bn as qa,l as z,N as q,bo as Te,U as Dt,P as ae,a1 as xe,bp as pn,bq as Pa,br as Et,bs as At,bt as Sa,I as V,a7 as pe,bu as Ta,L as re,O as _e,Z as De,bv as Za,aU as nt,aW as Se,bw as zt,Y as B,bx as gt,H as se,a3 as je,Q as ot,by as Ja,aX as Ce,bz as bn,aY as kn,m as Ie,aB as Xa,y as rt,b8 as Qa,q as te,T as ue,E as Ct,G as $a,z as Ge,A as U,aK as el,R as tl,a4 as wn,u as ne,a as s,bA as xn,b0 as na,aP as Ue,b1 as al,aQ as Mt,F as Y,a6 as Wt,bB as Vn,b6 as Oe,a_ as it,_ as me,o as w,c as I,w as x,b as de,bC as oa,bD as ra,e as $,h as le,t as ke,K as qe,bE as Kt,bF as ll,bG as Pn,k as G,b2 as vt,bH as Sn,bI as Tn,bJ as _t,bK as Ye,bL as Dn,ba as He,aZ as Pe,bM as Da,bN as Cn,bj as Mn,bk as ia,bO as _n,bm as On,bP as Fn,bQ as Q,aA as Be,bR as Bt,ax as Ve,b4 as sa,ay as ua,J as ze,aH as nl,aJ as ol,aV as In,bS as Rn,bT as En,b7 as Ca,bU as da,bV as An,az as Bn,bW as Ln,bX as pt,j as ie,i as N,r as ge,M as Nn,v as rl,bY as Hn,x as il,n as ca,bZ as Yn,C as Un,D as zn,b_ as Wn,b$ as Kn,a8 as Ne,c0 as sl,ae as Le,c1 as ma,c2 as jn,s as Gn,c3 as qn,aG as Zn,c4 as Ma,c5 as Jn,au as Xn,c6 as Qn,c7 as ft,a2 as fa,aC as $n,aL as eo,aR as to,c8 as ul,b5 as $e,bg as Xe,c9 as tt,ca as ao,cb as lo,cc as no,cd as oo,ce as _a,ad as Oa,cf as ro,f as Lt,cg as io,ch as so}from"./index-CW0TCznb.js";import{g as dl,B as Nt,b as Fa,n as cl,c as et,s as jt,f as st,d as uo,e as co,V as ve,m as ml,h as mo,u as fl,i as bt,j as fo,k as vo,l as ho,o as yo,p as go,q as po,a as bo}from"./VForm-CrmPL6g3.js";import{V as we,a as at,b as Fe,c as Re}from"./VCard-B72eJAMq.js";import{m as ko,b as wo,u as Ot,e as Ze,f as xo,g as Vo,c as vl,V as Gt,h as va,a as Po}from"./VList-DJJPp4CI.js";import{a as qt,V as Zt}from"./VRow-DBVE8aDt.js";const ht=new WeakMap;function So(e,t){Object.keys(t).forEach(a=>{if(la(a)){const n=qa(a),l=ht.get(e);if(t[a]==null)l==null||l.forEach(o=>{const[i,r]=o;i===n&&(e.removeEventListener(n,r),l.delete(o))});else if(!l||![...l].some(o=>o[0]===n&&o[1]===t[a])){e.addEventListener(n,t[a]);const o=l||new Set;o.add([n,t[a]]),ht.has(e)||ht.set(e,o)}}else t[a]==null?e.removeAttribute(a):e.setAttribute(a,t[a])})}function To(e,t){Object.keys(t).forEach(a=>{if(la(a)){const n=qa(a),l=ht.get(e);l==null||l.forEach(o=>{const[i,r]=o;i===n&&(e.removeEventListener(n,r),l.delete(o))})}else e.removeAttribute(a)})}function hl(e){if(typeof e.getRootNode!="function"){for(;e.parentNode;)e=e.parentNode;return e!==document?null:document}const t=e.getRootNode();return t!==document&&t.getRootNode({composed:!0})!==document?null:t}function Ia(e,t,a){return Object.keys(e).filter(n=>la(n)&&n.endsWith(t)).reduce((n,l)=>(n[l.slice(0,-t.length)]=o=>e[l](o,a(o)),n),{})}function yl(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;e;){if(t?Do(e):ha(e))return e;e=e.parentElement}return document.scrollingElement}function kt(e,t){const a=[];if(t&&e&&!t.contains(e))return a;for(;e&&(ha(e)&&a.push(e),e!==t);)e=e.parentElement;return a}function ha(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return t.overflowY==="scroll"||t.overflowY==="auto"&&e.scrollHeight>e.clientHeight}function Do(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return["scroll","auto"].includes(t.overflowY)}function Co(e){for(;e;){if(window.getComputedStyle(e).position==="fixed")return!0;e=e.offsetParent}return!1}function Ht(e,t){return{x:e.x+t.x,y:e.y+t.y}}function Mo(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ra(e,t){if(e.side==="top"||e.side==="bottom"){const{side:a,align:n}=e,l=n==="left"?0:n==="center"?t.width/2:n==="right"?t.width:n,o=a==="top"?0:a==="bottom"?t.height:a;return Ht({x:l,y:o},t)}else if(e.side==="left"||e.side==="right"){const{side:a,align:n}=e,l=a==="left"?0:a==="right"?t.width:a,o=n==="top"?0:n==="center"?t.height/2:n==="bottom"?t.height:n;return Ht({x:l,y:o},t)}return Ht({x:t.width/2,y:t.height/2},t)}const gl={static:Fo,connected:Ro},_o=z({locationStrategy:{type:[String,Function],default:"static",validator:e=>typeof e=="function"||e in gl},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function Oo(e,t){const a=q({}),n=q();Te&&Dt(()=>!!(t.isActive.value&&e.locationStrategy),o=>{var i,r;ae(()=>e.locationStrategy,o),xe(()=>{window.removeEventListener("resize",l),n.value=void 0}),window.addEventListener("resize",l,{passive:!0}),typeof e.locationStrategy=="function"?n.value=(i=e.locationStrategy(t,e,a))==null?void 0:i.updateLocation:n.value=(r=gl[e.locationStrategy](t,e,a))==null?void 0:r.updateLocation});function l(o){var i;(i=n.value)==null||i.call(n,o)}return{contentStyles:a,updateLocation:n}}function Fo(){}function Io(e,t){t?e.style.removeProperty("left"):e.style.removeProperty("right");const a=cl(e);return t?a.x+=parseFloat(e.style.right||0):a.x-=parseFloat(e.style.left||0),a.y-=parseFloat(e.style.top||0),a}function Ro(e,t,a){(Array.isArray(e.target.value)||Co(e.target.value))&&Object.assign(a.value,{position:"fixed",top:0,[e.isRtl.value?"right":"left"]:0});const{preferredAnchor:l,preferredOrigin:o}=pn(()=>{const b=Pa(t.location,e.isRtl.value),v=t.origin==="overlap"?b:t.origin==="auto"?Et(b):Pa(t.origin,e.isRtl.value);return b.side===v.side&&b.align===At(v).align?{preferredAnchor:Sa(b),preferredOrigin:Sa(v)}:{preferredAnchor:b,preferredOrigin:v}}),[i,r,u,d]=["minWidth","minHeight","maxWidth","maxHeight"].map(b=>V(()=>{const v=parseFloat(t[b]);return isNaN(v)?1/0:v})),f=V(()=>{if(Array.isArray(t.offset))return t.offset;if(typeof t.offset=="string"){const b=t.offset.split(" ").map(parseFloat);return b.length<2&&b.push(0),b}return typeof t.offset=="number"?[t.offset,0]:[0,0]});let c=!1;const m=new ResizeObserver(()=>{c&&h()});ae([e.target,e.contentEl],(b,v)=>{let[p,g]=b,[y,M]=v;y&&!Array.isArray(y)&&m.unobserve(y),p&&!Array.isArray(p)&&m.observe(p),M&&m.unobserve(M),g&&m.observe(g)},{immediate:!0}),xe(()=>{m.disconnect()});function h(){if(c=!1,requestAnimationFrame(()=>c=!0),!e.target.value||!e.contentEl.value)return;const b=dl(e.target.value),v=Io(e.contentEl.value,e.isRtl.value),p=kt(e.contentEl.value),g=12;p.length||(p.push(document.documentElement),e.contentEl.value.style.top&&e.contentEl.value.style.left||(v.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),v.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const y=p.reduce((S,F)=>{const _=F.getBoundingClientRect(),E=new Nt({x:F===document.documentElement?0:_.x,y:F===document.documentElement?0:_.y,width:F.clientWidth,height:F.clientHeight});return S?new Nt({x:Math.max(S.left,E.left),y:Math.max(S.top,E.top),width:Math.min(S.right,E.right)-Math.max(S.left,E.left),height:Math.min(S.bottom,E.bottom)-Math.max(S.top,E.top)}):E},void 0);y.x+=g,y.y+=g,y.width-=g*2,y.height-=g*2;let M={anchor:l.value,origin:o.value};function L(S){const F=new Nt(v),_=Ra(S.anchor,b),E=Ra(S.origin,F);let{x:W,y:K}=Mo(_,E);switch(S.anchor.side){case"top":K-=f.value[0];break;case"bottom":K+=f.value[0];break;case"left":W-=f.value[0];break;case"right":W+=f.value[0];break}switch(S.anchor.align){case"top":K-=f.value[1];break;case"bottom":K+=f.value[1];break;case"left":W-=f.value[1];break;case"right":W+=f.value[1];break}return F.x+=W,F.y+=K,F.width=Math.min(F.width,u.value),F.height=Math.min(F.height,d.value),{overflows:Fa(F,y),x:W,y:K}}let R=0,j=0;const P={x:0,y:0},T={x:!1,y:!1};let k=-1;for(;!(k++>10);){const{x:S,y:F,overflows:_}=L(M);R+=S,j+=F,v.x+=S,v.y+=F;{const E=Ta(M.anchor),W=_.x.before||_.x.after,K=_.y.before||_.y.after;let fe=!1;if(["x","y"].forEach(C=>{if(C==="x"&&W&&!T.x||C==="y"&&K&&!T.y){const D={anchor:{...M.anchor},origin:{...M.origin}},H=C==="x"?E==="y"?At:Et:E==="y"?Et:At;D.anchor=H(D.anchor),D.origin=H(D.origin);const{overflows:X}=L(D);(X[C].before<=_[C].before&&X[C].after<=_[C].after||X[C].before+X[C].after<(_[C].before+_[C].after)/2)&&(M=D,fe=T[C]=!0)}}),fe)continue}_.x.before&&(R+=_.x.before,v.x+=_.x.before),_.x.after&&(R-=_.x.after,v.x-=_.x.after),_.y.before&&(j+=_.y.before,v.y+=_.y.before),_.y.after&&(j-=_.y.after,v.y-=_.y.after);{const E=Fa(v,y);P.x=y.width-E.x.before-E.x.after,P.y=y.height-E.y.before-E.y.after,R+=E.x.before,v.x+=E.x.before,j+=E.y.before,v.y+=E.y.before}break}const O=Ta(M.anchor);return Object.assign(a.value,{"--v-overlay-anchor-origin":`${M.anchor.side} ${M.anchor.align}`,transformOrigin:`${M.origin.side} ${M.origin.align}`,top:re(Yt(j)),left:e.isRtl.value?void 0:re(Yt(R)),right:e.isRtl.value?re(Yt(-R)):void 0,minWidth:re(O==="y"?Math.min(i.value,b.width):i.value),maxWidth:re(Ea(_e(P.x,i.value===1/0?0:i.value,u.value))),maxHeight:re(Ea(_e(P.y,r.value===1/0?0:r.value,d.value)))}),{available:P,contentBox:v}}return ae(()=>[l.value,o.value,t.offset,t.minWidth,t.minHeight,t.maxWidth,t.maxHeight],()=>h()),pe(()=>{const b=h();if(!b)return;const{available:v,contentBox:p}=b;p.height>v.y&&requestAnimationFrame(()=>{h(),requestAnimationFrame(()=>{h()})})}),{updateLocation:h}}function Yt(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}function Ea(e){return Math.ceil(e*devicePixelRatio)/devicePixelRatio}let Jt=!0;const wt=[];function Eo(e){!Jt||wt.length?(wt.push(e),Xt()):(Jt=!1,e(),Xt())}let Aa=-1;function Xt(){cancelAnimationFrame(Aa),Aa=requestAnimationFrame(()=>{const e=wt.shift();e&&e(),wt.length?Xt():Jt=!0})}const yt={none:null,close:Lo,block:No,reposition:Ho},Ao=z({scrollStrategy:{type:[String,Function],default:"block",validator:e=>typeof e=="function"||e in yt}},"VOverlay-scroll-strategies");function Bo(e,t){if(!Te)return;let a;De(async()=>{a==null||a.stop(),t.isActive.value&&e.scrollStrategy&&(a=Za(),await new Promise(n=>setTimeout(n)),a.active&&a.run(()=>{var n;typeof e.scrollStrategy=="function"?e.scrollStrategy(t,e,a):(n=yt[e.scrollStrategy])==null||n.call(yt,t,e,a)}))}),xe(()=>{a==null||a.stop()})}function Lo(e){function t(a){e.isActive.value=!1}pl(e.targetEl.value??e.contentEl.value,t)}function No(e,t){var i;const a=(i=e.root.value)==null?void 0:i.offsetParent,n=[...new Set([...kt(e.targetEl.value,t.contained?a:void 0),...kt(e.contentEl.value,t.contained?a:void 0)])].filter(r=>!r.classList.contains("v-overlay-scroll-blocked")),l=window.innerWidth-document.documentElement.offsetWidth,o=(r=>ha(r)&&r)(a||document.documentElement);o&&e.root.value.classList.add("v-overlay--scroll-blocked"),n.forEach((r,u)=>{r.style.setProperty("--v-body-scroll-x",re(-r.scrollLeft)),r.style.setProperty("--v-body-scroll-y",re(-r.scrollTop)),r!==document.documentElement&&r.style.setProperty("--v-scrollbar-offset",re(l)),r.classList.add("v-overlay-scroll-blocked")}),xe(()=>{n.forEach((r,u)=>{const d=parseFloat(r.style.getPropertyValue("--v-body-scroll-x")),f=parseFloat(r.style.getPropertyValue("--v-body-scroll-y")),c=r.style.scrollBehavior;r.style.scrollBehavior="auto",r.style.removeProperty("--v-body-scroll-x"),r.style.removeProperty("--v-body-scroll-y"),r.style.removeProperty("--v-scrollbar-offset"),r.classList.remove("v-overlay-scroll-blocked"),r.scrollLeft=-d,r.scrollTop=-f,r.style.scrollBehavior=c}),o&&e.root.value.classList.remove("v-overlay--scroll-blocked")})}function Ho(e,t,a){let n=!1,l=-1,o=-1;function i(r){Eo(()=>{var f,c;const u=performance.now();(c=(f=e.updateLocation).value)==null||c.call(f,r),n=(performance.now()-u)/(1e3/60)>2})}o=(typeof requestIdleCallback>"u"?r=>r():requestIdleCallback)(()=>{a.run(()=>{pl(e.targetEl.value??e.contentEl.value,r=>{n?(cancelAnimationFrame(l),l=requestAnimationFrame(()=>{l=requestAnimationFrame(()=>{i(r)})})):i(r)})})}),xe(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(o),cancelAnimationFrame(l)})}function pl(e,t){const a=[document,...kt(e)];a.forEach(n=>{n.addEventListener("scroll",t,{passive:!0})}),xe(()=>{a.forEach(n=>{n.removeEventListener("scroll",t)})})}const Qt=Symbol.for("vuetify:v-menu"),Yo=z({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...ko()},"VOverlay-activator");function Uo(e,t){let{isActive:a,isTop:n}=t;const l=nt("useActivator"),o=q();let i=!1,r=!1,u=!0;const d=V(()=>e.openOnFocus||e.openOnFocus==null&&e.openOnHover),f=V(()=>e.openOnClick||e.openOnClick==null&&!e.openOnHover&&!d.value),{runOpenDelay:c,runCloseDelay:m}=wo(e,P=>{P===(e.openOnHover&&i||d.value&&r)&&!(e.openOnHover&&a.value&&!n.value)&&(a.value!==P&&(u=!0),a.value=P)}),h=q(),b={onClick:P=>{P.stopPropagation(),o.value=P.currentTarget||P.target,a.value||(h.value=[P.clientX,P.clientY]),a.value=!a.value},onMouseenter:P=>{var T;(T=P.sourceCapabilities)!=null&&T.firesTouchEvents||(i=!0,o.value=P.currentTarget||P.target,c())},onMouseleave:P=>{i=!1,m()},onFocus:P=>{gt(P.target,":focus-visible")!==!1&&(r=!0,P.stopPropagation(),o.value=P.currentTarget||P.target,c())},onBlur:P=>{r=!1,P.stopPropagation(),m()}},v=V(()=>{const P={};return f.value&&(P.onClick=b.onClick),e.openOnHover&&(P.onMouseenter=b.onMouseenter,P.onMouseleave=b.onMouseleave),d.value&&(P.onFocus=b.onFocus,P.onBlur=b.onBlur),P}),p=V(()=>{const P={};if(e.openOnHover&&(P.onMouseenter=()=>{i=!0,c()},P.onMouseleave=()=>{i=!1,m()}),d.value&&(P.onFocusin=()=>{r=!0,c()},P.onFocusout=()=>{r=!1,m()}),e.closeOnContentClick){const T=Se(Qt,null);P.onClick=()=>{a.value=!1,T==null||T.closeParents()}}return P}),g=V(()=>{const P={};return e.openOnHover&&(P.onMouseenter=()=>{u&&(i=!0,u=!1,c())},P.onMouseleave=()=>{i=!1,m()}),P});ae(n,P=>{P&&(e.openOnHover&&!i&&(!d.value||!r)||d.value&&!r&&(!e.openOnHover||!i))&&(a.value=!1)}),ae(a,P=>{P||setTimeout(()=>{h.value=void 0})},{flush:"post"});const y=zt();De(()=>{y.value&&pe(()=>{o.value=y.el})});const M=zt(),L=V(()=>e.target==="cursor"&&h.value?h.value:M.value?M.el:bl(e.target,l)||o.value),R=V(()=>Array.isArray(L.value)?void 0:L.value);let j;return ae(()=>!!e.activator,P=>{P&&Te?(j=Za(),j.run(()=>{zo(e,l,{activatorEl:o,activatorEvents:v})})):j&&j.stop()},{flush:"post",immediate:!0}),xe(()=>{j==null||j.stop()}),{activatorEl:o,activatorRef:y,target:L,targetEl:R,targetRef:M,activatorEvents:v,contentEvents:p,scrimEvents:g}}function zo(e,t,a){let{activatorEl:n,activatorEvents:l}=a;ae(()=>e.activator,(u,d)=>{if(d&&u!==d){const f=r(d);f&&i(f)}u&&pe(()=>o())},{immediate:!0}),ae(()=>e.activatorProps,()=>{o()}),xe(()=>{i()});function o(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r(),d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;u&&So(u,B(l.value,d))}function i(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r(),d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;u&&To(u,B(l.value,d))}function r(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activator;const d=bl(u,t);return n.value=(d==null?void 0:d.nodeType)===Node.ELEMENT_NODE?d:void 0,n.value}}function bl(e,t){var n,l;if(!e)return;let a;if(e==="parent"){let o=(l=(n=t==null?void 0:t.proxy)==null?void 0:n.$el)==null?void 0:l.parentNode;for(;o!=null&&o.hasAttribute("data-no-activator");)o=o.parentNode;a=o}else typeof e=="string"?a=document.querySelector(e):"$el"in e?a=e.$el:a=e;return a}function Wo(){if(!Te)return se(!1);const{ssr:e}=je();if(e){const t=se(!1);return ot(()=>{t.value=!0}),t}else return se(!0)}const kl=z({eager:Boolean},"lazy");function wl(e,t){const a=se(!1),n=V(()=>a.value||e.eager||t.value);ae(t,()=>a.value=!0);function l(){e.eager||(a.value=!1)}return{isBooted:a,hasContent:n,onAfterLeave:l}}const Ba=Symbol.for("vuetify:stack"),Qe=Ja([]);function Ko(e,t,a){const n=nt("useStack"),l=!a,o=Se(Ba,void 0),i=Ja({activeChildren:new Set});Ce(Ba,i);const r=se(+t.value);Dt(e,()=>{var c;const f=(c=Qe.at(-1))==null?void 0:c[1];r.value=f?f+10:+t.value,l&&Qe.push([n.uid,r.value]),o==null||o.activeChildren.add(n.uid),xe(()=>{if(l){const m=kn(Qe).findIndex(h=>h[0]===n.uid);Qe.splice(m,1)}o==null||o.activeChildren.delete(n.uid)})});const u=se(!0);l&&De(()=>{var c;const f=((c=Qe.at(-1))==null?void 0:c[0])===n.uid;setTimeout(()=>u.value=f)});const d=V(()=>!i.activeChildren.size);return{globalTop:bn(u),localTop:d,stackStyles:V(()=>({zIndex:r.value}))}}function jo(e){return{teleportTarget:V(()=>{const a=e.value;if(a===!0||!Te)return;const n=a===!1?document.body:typeof a=="string"?document.querySelector(a):a;if(n==null)return;let l=n.querySelector(":scope > .v-overlay-container");return l||(l=document.createElement("div"),l.className="v-overlay-container",n.appendChild(l)),l})}}function Go(){return!0}function xl(e,t,a){if(!e||Vl(e,a)===!1)return!1;const n=hl(t);if(typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&n.host===e.target)return!1;const l=(typeof a.value=="object"&&a.value.include||(()=>[]))();return l.push(t),!l.some(o=>o==null?void 0:o.contains(e.target))}function Vl(e,t){return(typeof t.value=="object"&&t.value.closeConditional||Go)(e)}function qo(e,t,a){const n=typeof a.value=="function"?a.value:a.value.handler;t._clickOutside.lastMousedownWasOutside&&xl(e,t,a)&&setTimeout(()=>{Vl(e,a)&&n&&n(e)},0)}function La(e,t){const a=hl(e);t(document),typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&t(a)}const Zo={mounted(e,t){const a=l=>qo(l,e,t),n=l=>{e._clickOutside.lastMousedownWasOutside=xl(l,e,t)};La(e,l=>{l.addEventListener("click",a,!0),l.addEventListener("mousedown",n,!0)}),e._clickOutside||(e._clickOutside={lastMousedownWasOutside:!1}),e._clickOutside[t.instance.$.uid]={onClick:a,onMousedown:n}},unmounted(e,t){e._clickOutside&&(La(e,a=>{var o;if(!a||!((o=e._clickOutside)!=null&&o[t.instance.$.uid]))return;const{onClick:n,onMousedown:l}=e._clickOutside[t.instance.$.uid];a.removeEventListener("click",n,!0),a.removeEventListener("mousedown",l,!0)}),delete e._clickOutside[t.instance.$.uid])}};function Jo(e){const{modelValue:t,color:a,...n}=e;return s(Wt,{name:"fade-transition",appear:!0},{default:()=>[e.modelValue&&s("div",B({class:["v-overlay__scrim",e.color.backgroundColorClasses.value],style:e.color.backgroundColorStyles.value},n),null)]})}const Ft=z({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...Yo(),...Ie(),...Xa(),...kl(),..._o(),...Ao(),...rt(),...Qa()},"VOverlay"),We=te()({name:"VOverlay",directives:{ClickOutside:Zo},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...Ft()},emits:{"click:outside":e=>!0,"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{slots:a,attrs:n,emit:l}=t;const o=ue(e,"modelValue"),i=V({get:()=>o.value,set:A=>{A&&e.disabled||(o.value=A)}}),{teleportTarget:r}=jo(V(()=>e.attach||e.contained)),{themeClasses:u}=Ct(e),{rtlClasses:d,isRtl:f}=$a(),{hasContent:c,onAfterLeave:m}=wl(e,i),h=Ge(V(()=>typeof e.scrim=="string"?e.scrim:null)),{globalTop:b,localTop:v,stackStyles:p}=Ko(i,U(e,"zIndex"),e._disableGlobalStack),{activatorEl:g,activatorRef:y,target:M,targetEl:L,targetRef:R,activatorEvents:j,contentEvents:P,scrimEvents:T}=Uo(e,{isActive:i,isTop:v}),{dimensionStyles:k}=el(e),O=Wo(),{scopeId:S}=Ot();ae(()=>e.disabled,A=>{A&&(i.value=!1)});const F=q(),_=q(),E=q(),{contentStyles:W,updateLocation:K}=Oo(e,{isRtl:f,contentEl:E,target:M,isActive:i});Bo(e,{root:F,contentEl:E,targetEl:L,isActive:i,updateLocation:K});function fe(A){l("click:outside",A),e.persistent?ee():i.value=!1}function C(A){return i.value&&b.value&&(!e.scrim||A.target===_.value)}Te&&ae(i,A=>{A?window.addEventListener("keydown",D):window.removeEventListener("keydown",D)},{immediate:!0}),tl(()=>{Te&&window.removeEventListener("keydown",D)});function D(A){var J,ce;A.key==="Escape"&&b.value&&(e.persistent?ee():(i.value=!1,(J=E.value)!=null&&J.contains(document.activeElement)&&((ce=g.value)==null||ce.focus())))}const H=wn();Dt(()=>e.closeOnBack,()=>{Vn(H,A=>{b.value&&i.value?(A(!1),e.persistent?ee():i.value=!1):A()})});const X=q();ae(()=>i.value&&(e.absolute||e.contained)&&r.value==null,A=>{if(A){const J=yl(F.value);J&&J!==document.scrollingElement&&(X.value=J.scrollTop)}});function ee(){e.noClickAnimation||E.value&&et(E.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:jt})}function Z(){l("afterEnter")}function oe(){m(),l("afterLeave")}return ne(()=>{var A;return s(Y,null,[(A=a.activator)==null?void 0:A.call(a,{isActive:i.value,targetRef:R,props:B({ref:y},j.value,e.activatorProps)}),O.value&&c.value&&s(xn,{disabled:!r.value,to:r.value},{default:()=>[s("div",B({class:["v-overlay",{"v-overlay--absolute":e.absolute||e.contained,"v-overlay--active":i.value,"v-overlay--contained":e.contained},u.value,d.value,e.class],style:[p.value,{"--v-overlay-opacity":e.opacity,top:re(X.value)},e.style],ref:F},S,n),[s(Jo,B({color:h,modelValue:i.value&&!!e.scrim,ref:_},T.value),null),s(na,{appear:!0,persisted:!0,transition:e.transition,target:M.value,onAfterEnter:Z,onAfterLeave:oe},{default:()=>{var J;return[Ue(s("div",B({ref:E,class:["v-overlay__content",e.contentClass],style:[k.value,W.value]},P.value,e.contentProps),[(J=a.default)==null?void 0:J.call(a,{isActive:i})]),[[al,i.value],[Mt("click-outside"),{handler:fe,closeConditional:C,include:()=>[g.value]}]])]}})])]})])}),{activatorEl:g,scrimEl:_,target:M,animateClick:ee,contentEl:E,globalTop:b,localTop:v,updateLocation:K}}}),Xo=z({id:String,text:String,...Oe(Ft({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"VTooltip"),Qo=te()({name:"VTooltip",props:Xo(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const n=ue(e,"modelValue"),{scopeId:l}=Ot(),o=it(),i=V(()=>e.id||`v-tooltip-${o}`),r=q(),u=V(()=>e.location.split(" ").length>1?e.location:e.location+" center"),d=V(()=>e.origin==="auto"||e.origin==="overlap"||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center"),f=V(()=>e.transition?e.transition:n.value?"scale-transition":"fade-transition"),c=V(()=>B({"aria-describedby":i.value},e.activatorProps));return ne(()=>{const m=We.filterProps(e);return s(We,B({ref:r,class:["v-tooltip",e.class],style:e.style,id:i.value},m,{modelValue:n.value,"onUpdate:modelValue":h=>n.value=h,transition:f.value,absolute:!0,location:u.value,origin:d.value,persistent:!0,role:"tooltip",activatorProps:c.value,_disableGlobalStack:!0},l),{activator:a.activator,default:function(){var p;for(var h=arguments.length,b=new Array(h),v=0;v<h;v++)b[v]=arguments[v];return((p=a.default)==null?void 0:p.call(a,...b))??e.text}})}),st({},r)}}),$o={name:"CreateButton",props:{superOptions:{type:Object,default(){return{headers:[],modelFields:[],displayMapField:!1,model:{},canEdit:!1,currentParentRecord:{},user:{}}}}},computed:{canCreate(){var t,a,n,l;let e=!1;return(l=(n=(a=(t=this.superOptions.currentParentRel)==null?void 0:t.field)==null?void 0:a.fieldExtras)==null?void 0:n.relationRules)!=null&&l.creatable&&(e=this.superOptions.currentParentRel.field.fieldExtras.relationRules.creatable(this.superOptions.user,this.superOptions.currentParentRel.currentParentRecord.item)),e},canCreateMsgType(){var t,a,n;let e="";return(t=this.superOptions.currentParentRel)!=null&&t.currentParentRecord&&(((a=this.superOptions.currentParentRel)==null?void 0:a.currentParentRecord.model.name)=="DBProviderGroup"?e="provider":((n=this.superOptions.currentParentRel)==null?void 0:n.currentParentRecord.model.name)=="DBCustomerGroup"&&(e="customer")),e},canCreatePart2(){var t;let e=this.canCreate;return(t=this.superOptions.currentParentRel)!=null&&t.currentParentRecord&&this.superOptions.currentParentRel.currentParentRecord.relationType=="relChildrenChildrenApplicationType"&&(e=this.canCreate||!!this.customerGroupsAssociatedWithUser.length),e},canCreateMsg(){var t;let e=this.getMsg(this.canCreateMsgType);return(t=this.superOptions.currentParentRel)!=null&&t.currentParentRecord&&this.superOptions.currentParentRel.currentParentRecord.relationType=="relChildrenChildrenApplicationType"&&(e=this.getMsg("customer")),e}},methods:{getMsg(e){let t="";return Array.isArray(e)?e.length>1&&(t=`To create first set your active ${e[0]} group and  active ${e[1]}  group`):t=`To create first set your active ${e} group`,t}},mounted(){}};function er(e,t,a,n,l,o){return w(),I("div",null,[s(Qo,{bottom:"",disabled:o.canCreatePart2},{activator:x(({props:i})=>[de("div",oa(ra(i)),[s($,{onClick:t[0]||(t[0]=r=>{e.$emit("createItem",r)}),disabled:!o.canCreatePart2},{default:x(()=>[le("Create")]),_:1},8,["disabled"])],16)]),default:x(()=>[de("span",null,ke(o.canCreateMsg),1)]),_:1},8,["disabled"])])}const tr=me($o,[["render",er]]),ar=z({target:[Object,Array]},"v-dialog-transition"),ya=te()({name:"VDialogTransition",props:ar(),setup(e,t){let{slots:a}=t;const n={onBeforeEnter(l){l.style.pointerEvents="none",l.style.visibility="hidden"},async onEnter(l,o){var m;await new Promise(h=>requestAnimationFrame(h)),await new Promise(h=>requestAnimationFrame(h)),l.style.visibility="";const{x:i,y:r,sx:u,sy:d,speed:f}=Ha(e.target,l),c=et(l,[{transform:`translate(${i}px, ${r}px) scale(${u}, ${d})`,opacity:0},{}],{duration:225*f,easing:uo});(m=Na(l))==null||m.forEach(h=>{et(h,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*f,easing:jt})}),c.finished.then(()=>o())},onAfterEnter(l){l.style.removeProperty("pointer-events")},onBeforeLeave(l){l.style.pointerEvents="none"},async onLeave(l,o){var m;await new Promise(h=>requestAnimationFrame(h));const{x:i,y:r,sx:u,sy:d,speed:f}=Ha(e.target,l);et(l,[{},{transform:`translate(${i}px, ${r}px) scale(${u}, ${d})`,opacity:0}],{duration:125*f,easing:co}).finished.then(()=>o()),(m=Na(l))==null||m.forEach(h=>{et(h,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*f,easing:jt})})},onAfterLeave(l){l.style.removeProperty("pointer-events")}};return()=>e.target?s(Wt,B({name:"dialog-transition"},n,{css:!1}),a):s(Wt,{name:"dialog-transition"},a)}});function Na(e){var a;const t=(a=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:a.children;return t&&[...t]}function Ha(e,t){const a=dl(e),n=cl(t),[l,o]=getComputedStyle(t).transformOrigin.split(" ").map(g=>parseFloat(g)),[i,r]=getComputedStyle(t).getPropertyValue("--v-overlay-anchor-origin").split(" ");let u=a.left+a.width/2;i==="left"||r==="left"?u-=a.width/2:(i==="right"||r==="right")&&(u+=a.width/2);let d=a.top+a.height/2;i==="top"||r==="top"?d-=a.height/2:(i==="bottom"||r==="bottom")&&(d+=a.height/2);const f=a.width/n.width,c=a.height/n.height,m=Math.max(1,f,c),h=f/m||0,b=c/m||0,v=n.width*n.height/(window.innerWidth*window.innerHeight),p=v>.12?Math.min(1.5,(v-.12)*10+1):1;return{x:u-(l+n.left),y:d-(o+n.top),sx:h,sy:b,speed:p}}const lr=z({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...Ft({origin:"center center",scrollStrategy:"block",transition:{component:ya},zIndex:2400})},"VDialog"),ye=te()({name:"VDialog",props:lr(),emits:{"update:modelValue":e=>!0,afterLeave:()=>!0},setup(e,t){let{emit:a,slots:n}=t;const l=ue(e,"modelValue"),{scopeId:o}=Ot(),i=q();function r(f){var h,b;const c=f.relatedTarget,m=f.target;if(c!==m&&((h=i.value)!=null&&h.contentEl)&&((b=i.value)!=null&&b.globalTop)&&![document,i.value.contentEl].includes(m)&&!i.value.contentEl.contains(m)){const v=Kt(i.value.contentEl);if(!v.length)return;const p=v[0],g=v[v.length-1];c===p?g.focus():p.focus()}}Te&&ae(()=>l.value&&e.retainFocus,f=>{f?document.addEventListener("focusin",r):document.removeEventListener("focusin",r)},{immediate:!0});function u(){var f;(f=i.value)!=null&&f.contentEl&&!i.value.contentEl.contains(document.activeElement)&&i.value.contentEl.focus({preventScroll:!0})}function d(){a("afterLeave")}return ae(l,async f=>{var c;f||(await pe(),(c=i.value.activatorEl)==null||c.focus({preventScroll:!0}))}),ne(()=>{const f=We.filterProps(e),c=B({"aria-haspopup":"dialog","aria-expanded":String(l.value)},e.activatorProps),m=B({tabindex:-1},e.contentProps);return s(We,B({ref:i,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},f,{modelValue:l.value,"onUpdate:modelValue":h=>l.value=h,"aria-modal":"true",activatorProps:c,contentProps:m,role:"dialog",onAfterEnter:u,onAfterLeave:d},o),{activator:n.activator,default:function(){for(var h=arguments.length,b=new Array(h),v=0;v<h;v++)b[v]=arguments[v];return s(qe,{root:"VDialog"},{default:()=>{var p;return[(p=n.default)==null?void 0:p.call(n,...b)]}})}})}),st({},i)}}),nr={name:"RelationComponent",components:{SuperTable:()=>ll(()=>Promise.resolve().then(()=>gn),void 0)},props:{configs:{type:Object,default(){return{}}},lookup:{type:Number,default(){return null}},modelValue:{type:Number,default(){return null}},readonly:{type:Boolean,default(){return!1}}},data(){return{showRelationDialog:!1,newlookup:{}}},computed:{isNullable(){return this.configs.meta.relatedModel.fields()[this.foreignKey].isNullable},displayNameField(){const e=this.configs.meta.relatedModel.fields();return Object.keys(e).find(t=>t!=="id"&&e[t]instanceof Pn)},computedValue(){let e="";const t=this.configs.meta.relatedModel.query().whereId(+this.modelValue).get();return t.length&&(e=t[0][this.configs.meta.lookupDisplayField]),e}},methods:{input(e){this.newlookup=e,this.showRelationDialog=!1,this.$emit("update:modelValue",e.id)},click(){this.readonly||(this.showRelationDialog=!0)}},mounted(){}};function or(e,t,a,n,l,o){const i=G("SuperTable");return w(),I("div",null,[s(ve,{onClick:o.click,label:a.configs.label,modelValue:o.computedValue,rules:a.configs.meta.rules,readonly:"",disabled:a.readonly,variant:"underlined"},null,8,["onClick","label","modelValue","rules","disabled"]),s(ye,{modelValue:l.showRelationDialog,"onUpdate:modelValue":t[0]||(t[0]=r=>l.showRelationDialog=r),"max-width":"800px"},{default:x(()=>[s(we,null,{default:x(()=>[s(at,null,{default:x(()=>[le(" Select Item ")]),_:1}),s(Fe,null,{default:x(()=>[s(i,{isForSelectingRelation:!0,canEdit:!1,modelValue:a.modelValue,"onUpdate:modelValue":o.input,model:a.configs.meta.relatedModel},null,8,["modelValue","onUpdate:modelValue","model"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const rr=me(nr,[["render",or]]),Pl=z({active:{type:[String,Array],default:void 0},disabled:{type:[Boolean,String,Array],default:!1},nextIcon:{type:[String],default:"$next"},prevIcon:{type:[String],default:"$prev"},modeIcon:{type:[String],default:"$subgroup"},text:String,viewMode:{type:String,default:"month"}},"VDatePickerControls"),Ya=te()({name:"VDatePickerControls",props:Pl(),emits:{"click:year":()=>!0,"click:month":()=>!0,"click:prev":()=>!0,"click:next":()=>!0,"click:text":()=>!0},setup(e,t){let{emit:a}=t;const n=V(()=>Array.isArray(e.disabled)?e.disabled.includes("text"):!!e.disabled),l=V(()=>Array.isArray(e.disabled)?e.disabled.includes("mode"):!!e.disabled),o=V(()=>Array.isArray(e.disabled)?e.disabled.includes("prev"):!!e.disabled),i=V(()=>Array.isArray(e.disabled)?e.disabled.includes("next"):!!e.disabled);function r(){a("click:prev")}function u(){a("click:next")}function d(){a("click:year")}function f(){a("click:month")}return ne(()=>s("div",{class:["v-date-picker-controls"]},[s($,{class:"v-date-picker-controls__month-btn",disabled:n.value,text:e.text,variant:"text",rounded:!0,onClick:f},null),s($,{key:"mode-btn",class:"v-date-picker-controls__mode-btn",disabled:l.value,density:"comfortable",icon:e.modeIcon,variant:"text",onClick:d},null),s(Ze,{key:"mode-spacer"},null),s("div",{key:"month-buttons",class:"v-date-picker-controls__month"},[s($,{disabled:o.value,icon:e.prevIcon,variant:"text",onClick:r},null),s($,{disabled:i.value,icon:e.nextIcon,variant:"text",onClick:u},null)])])),{}}}),ir=z({appendIcon:String,color:String,header:String,transition:String,onClick:vt()},"VDatePickerHeader"),Ua=te()({name:"VDatePickerHeader",props:ir(),emits:{click:()=>!0,"click:append":()=>!0},setup(e,t){let{emit:a,slots:n}=t;const{backgroundColorClasses:l,backgroundColorStyles:o}=Ge(e,"color");function i(){a("click")}function r(){a("click:append")}return ne(()=>{const u=!!(n.default||e.header),d=!!(n.append||e.appendIcon);return s("div",{class:["v-date-picker-header",{"v-date-picker-header--clickable":!!e.onClick},l.value],style:o.value,onClick:i},[n.prepend&&s("div",{key:"prepend",class:"v-date-picker-header__prepend"},[n.prepend()]),u&&s(na,{key:"content",name:e.transition},{default:()=>{var f;return[s("div",{key:e.header,class:"v-date-picker-header__content"},[((f=n.default)==null?void 0:f.call(n))??e.header])]}}),d&&s("div",{class:"v-date-picker-header__append"},[n.append?s(qe,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VBtn:{icon:e.appendIcon,variant:"text"}}},{default:()=>{var f;return[(f=n.append)==null?void 0:f.call(n)]}}):s($,{key:"append-btn",icon:e.appendIcon,variant:"text",onClick:r},null)])])}),{}}}),Sl=z({color:String,hideWeekdays:Boolean,multiple:[Boolean,Number,String],showWeek:Boolean,transition:{type:String,default:"picker-transition"},reverseTransition:{type:String,default:"picker-reverse-transition"},...Sn()},"VDatePickerMonth"),za=te()({name:"VDatePickerMonth",props:Sl(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0},setup(e,t){let{emit:a,slots:n}=t;const l=q(),{daysInMonth:o,model:i,weekNumbers:r}=Tn(e),u=_t(),d=se(),f=se(),c=se(!1),m=V(()=>c.value?e.reverseTransition:e.transition);e.multiple==="range"&&i.value.length>0&&(d.value=i.value[0],i.value.length>1&&(f.value=i.value[i.value.length-1]));const h=V(()=>{const g=["number","string"].includes(typeof e.multiple)?Number(e.multiple):1/0;return i.value.length>=g});ae(o,(g,y)=>{y&&(c.value=u.isBefore(g[0].date,y[0].date))});function b(g){const y=u.startOfDay(g);if(!d.value)d.value=y,i.value=[d.value];else if(f.value)d.value=g,f.value=void 0,i.value=[d.value];else{if(u.isSameDay(y,d.value)){d.value=void 0,i.value=[];return}else u.isBefore(y,d.value)?(f.value=u.endOfDay(d.value),d.value=y):f.value=u.endOfDay(y);const M=u.getDiff(f.value,d.value,"days"),L=[d.value];for(let R=1;R<M;R++){const j=u.addDays(d.value,R);L.push(j)}L.push(f.value),i.value=L}}function v(g){const y=i.value.findIndex(M=>u.isSameDay(M,g));if(y===-1)i.value=[...i.value,g];else{const M=[...i.value];M.splice(y,1),i.value=M}}function p(g){e.multiple==="range"?b(g):e.multiple?v(g):i.value=[g]}return()=>s("div",{class:"v-date-picker-month"},[e.showWeek&&s("div",{key:"weeks",class:"v-date-picker-month__weeks"},[!e.hideWeekdays&&s("div",{key:"hide-week-days",class:"v-date-picker-month__day"},[le(" ")]),r.value.map(g=>s("div",{class:["v-date-picker-month__day","v-date-picker-month__day--adjacent"]},[g]))]),s(na,{name:m.value},{default:()=>{var g;return[s("div",{ref:l,key:(g=o.value[0].date)==null?void 0:g.toString(),class:"v-date-picker-month__days"},[!e.hideWeekdays&&u.getWeekdays().map(y=>s("div",{class:["v-date-picker-month__day","v-date-picker-month__weekday"]},[y])),o.value.map((y,M)=>{const L={props:{onClick:()=>p(y.date)},item:y,i:M};return h.value&&!y.isSelected&&(y.isDisabled=!0),s("div",{class:["v-date-picker-month__day",{"v-date-picker-month__day--adjacent":y.isAdjacent,"v-date-picker-month__day--hide-adjacent":y.isHidden,"v-date-picker-month__day--selected":y.isSelected,"v-date-picker-month__day--week-end":y.isWeekEnd,"v-date-picker-month__day--week-start":y.isWeekStart}],"data-v-date":y.isDisabled?void 0:y.isoDate},[(e.showAdjacentMonths||!y.isAdjacent)&&s(qe,{defaults:{VBtn:{class:"v-date-picker-month__day-btn",color:(y.isSelected||y.isToday)&&!y.isDisabled?e.color:void 0,disabled:y.isDisabled,icon:!0,ripple:!1,text:y.localized,variant:y.isDisabled?y.isToday?"outlined":"text":y.isToday&&!y.isSelected?"outlined":"flat",onClick:()=>p(y.date)}}},{default:()=>{var R;return[((R=n.day)==null?void 0:R.call(n,L))??s($,L.props,null)]}})])})])]}})])}}),Tl=z({color:String,height:[String,Number],modelValue:Number},"VDatePickerMonths"),Wa=te()({name:"VDatePickerMonths",props:Tl(),emits:{"update:modelValue":e=>!0},setup(e,t){let{emit:a,slots:n}=t;const l=_t(),o=ue(e,"modelValue"),i=V(()=>{let r=l.startOfYear(l.date());return Ye(12).map(u=>{const d=l.format(r,"monthShort");return r=l.getNextMonth(r),{text:d,value:u}})});return De(()=>{o.value=o.value??l.getMonth(l.date())}),ne(()=>s("div",{class:"v-date-picker-months",style:{height:re(e.height)}},[s("div",{class:"v-date-picker-months__content"},[i.value.map((r,u)=>{var c;const d={active:o.value===u,color:o.value===u?e.color:void 0,rounded:!0,text:r.text,variant:o.value===r.value?"flat":"text",onClick:()=>f(u)};function f(m){if(o.value===m){a("update:modelValue",o.value);return}o.value=m}return((c=n.month)==null?void 0:c.call(n,{month:r,i:u,props:d}))??s($,B({key:"month"},d),null)})])])),{}}}),Dl=z({color:String,height:[String,Number],min:null,max:null,modelValue:Number},"VDatePickerYears"),Ka=te()({name:"VDatePickerYears",props:Dl(),emits:{"update:modelValue":e=>!0},setup(e,t){let{emit:a,slots:n}=t;const l=_t(),o=ue(e,"modelValue"),i=V(()=>{const u=l.getYear(l.date());let d=u-100,f=u+52;e.min&&(d=l.getYear(l.date(e.min))),e.max&&(f=l.getYear(l.date(e.max)));let c=l.startOfYear(l.date());return c=l.setYear(c,d),Ye(f-d+1,d).map(m=>{const h=l.format(c,"year");return c=l.setYear(c,l.getYear(c)+1),{text:h,value:m}})});De(()=>{o.value=o.value??l.getYear(l.date())});const r=zt();return ot(async()=>{var u;await pe(),(u=r.el)==null||u.scrollIntoView({block:"center"})}),ne(()=>s("div",{class:"v-date-picker-years",style:{height:re(e.height)}},[s("div",{class:"v-date-picker-years__content"},[i.value.map((u,d)=>{var c;const f={ref:o.value===u.value?r:void 0,active:o.value===u.value,color:o.value===u.value?e.color:void 0,rounded:!0,text:u.text,variant:o.value===u.value?"flat":"text",onClick:()=>{if(o.value===u.value){a("update:modelValue",o.value);return}o.value=u.value}};return((c=n.year)==null?void 0:c.call(n,{year:u,i:d,props:f}))??s($,B({key:"month"},f),null)})])])),{}}}),sr=z({header:{type:String,default:"$vuetify.datePicker.header"},...Pl(),...Sl({weeksInMonth:"static"}),...Oe(Tl(),["modelValue"]),...Oe(Dl(),["modelValue"]),...Dn({title:"$vuetify.datePicker.title"}),modelValue:null},"VDatePicker"),$t=te()({name:"VDatePicker",props:sr(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0,"update:viewMode":e=>!0},setup(e,t){let{emit:a,slots:n}=t;const l=_t(),{t:o}=He(),i=ue(e,"modelValue",void 0,k=>Pe(k),k=>e.multiple?k:k[0]),r=ue(e,"viewMode"),u=V(()=>{var O;const k=l.date((O=i.value)==null?void 0:O[0]);return k&&l.isValid(k)?k:l.date()}),d=q(Number(e.month??l.getMonth(l.startOfMonth(u.value)))),f=q(Number(e.year??l.getYear(l.startOfYear(l.setMonth(u.value,d.value))))),c=se(!1),m=V(()=>e.multiple&&i.value.length>1?o("$vuetify.datePicker.itemsSelected",i.value.length):i.value[0]&&l.isValid(i.value[0])?l.format(l.date(i.value[0]),"normalDateWithWeekday"):o(e.header)),h=V(()=>{let k=l.date();return k=l.setDate(k,1),k=l.setMonth(k,d.value),k=l.setYear(k,f.value),l.format(k,"monthAndYear")}),b=V(()=>`date-picker-header${c.value?"-reverse":""}-transition`),v=V(()=>{const k=l.date(e.min);return e.min&&l.isValid(k)?k:null}),p=V(()=>{const k=l.date(e.max);return e.max&&l.isValid(k)?k:null}),g=V(()=>{if(e.disabled)return!0;const k=[];if(r.value!=="month")k.push("prev","next");else{let O=l.date();if(O=l.setYear(O,f.value),O=l.setMonth(O,d.value),v.value){const S=l.addDays(l.startOfMonth(O),-1);l.isAfter(v.value,S)&&k.push("prev")}if(p.value){const S=l.addDays(l.endOfMonth(O),1);l.isAfter(S,p.value)&&k.push("next")}}return k});function y(){d.value<11?d.value++:(f.value++,d.value=0,T(f.value)),P(d.value)}function M(){d.value>0?d.value--:(f.value--,d.value=11,T(f.value)),P(d.value)}function L(){r.value="month"}function R(){r.value=r.value==="months"?"month":"months"}function j(){r.value=r.value==="year"?"month":"year"}function P(k){r.value==="months"&&R(),a("update:month",k)}function T(k){r.value==="year"&&j(),a("update:year",k)}return ae(i,(k,O)=>{const S=l.date(Pe(O)[O.length-1]),F=l.date(Pe(k)[k.length-1]),_=l.getMonth(F),E=l.getYear(F);_!==d.value&&(d.value=_,P(d.value)),E!==f.value&&(f.value=E,T(f.value)),c.value=l.isBefore(S,F)}),ne(()=>{const k=Da.filterProps(e),O=Ya.filterProps(e),S=Ua.filterProps(e),F=za.filterProps(e),_=Oe(Wa.filterProps(e),["modelValue"]),E=Oe(Ka.filterProps(e),["modelValue"]),W={header:m.value,transition:b.value};return s(Da,B(k,{class:["v-date-picker",`v-date-picker--${r.value}`,{"v-date-picker--show-week":e.showWeek},e.class],style:e.style}),{title:()=>{var K;return((K=n.title)==null?void 0:K.call(n))??s("div",{class:"v-date-picker__title"},[o(e.title)])},header:()=>n.header?s(qe,{defaults:{VDatePickerHeader:{...W}}},{default:()=>{var K;return[(K=n.header)==null?void 0:K.call(n,W)]}}):s(Ua,B({key:"header"},S,W,{onClick:r.value!=="month"?L:void 0}),{...n,default:void 0}),default:()=>s(Y,null,[s(Ya,B(O,{disabled:g.value,text:h.value,"onClick:next":y,"onClick:prev":M,"onClick:month":R,"onClick:year":j}),null),s(Cn,{hideOnLeave:!0},{default:()=>[r.value==="months"?s(Wa,B({key:"date-picker-months"},_,{modelValue:d.value,"onUpdate:modelValue":[K=>d.value=K,P],min:v.value,max:p.value}),null):r.value==="year"?s(Ka,B({key:"date-picker-years"},E,{modelValue:f.value,"onUpdate:modelValue":[K=>f.value=K,T],min:v.value,max:p.value}),null):s(za,B({key:"date-picker-month"},F,{modelValue:i.value,"onUpdate:modelValue":K=>i.value=K,month:d.value,"onUpdate:month":[K=>d.value=K,P],year:f.value,"onUpdate:year":[K=>f.value=K,T],min:v.value,max:p.value}),null)]})]),actions:n.actions})}),{}}}),ur=z({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...ml(),...mo()},"VTextarea"),Cl=te()({name:"VTextarea",directives:{Intersect:Mn},inheritAttrs:!1,props:ur(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:a,emit:n,slots:l}=t;const o=ue(e,"modelValue"),{isFocused:i,focus:r,blur:u}=fl(e),d=V(()=>typeof e.counterValue=="function"?e.counterValue(o.value):(o.value||"").toString().length),f=V(()=>{if(a.maxlength)return a.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function c(S,F){var _,E;!e.autofocus||!S||(E=(_=F[0].target)==null?void 0:_.focus)==null||E.call(_)}const m=q(),h=q(),b=se(""),v=q(),p=V(()=>e.persistentPlaceholder||i.value||e.active);function g(){var S;v.value!==document.activeElement&&((S=v.value)==null||S.focus()),i.value||r()}function y(S){g(),n("click:control",S)}function M(S){n("mousedown:control",S)}function L(S){S.stopPropagation(),g(),pe(()=>{o.value="",On(e["onClick:clear"],S)})}function R(S){var _;const F=S.target;if(o.value=F.value,(_=e.modelModifiers)!=null&&_.trim){const E=[F.selectionStart,F.selectionEnd];pe(()=>{F.selectionStart=E[0],F.selectionEnd=E[1]})}}const j=q(),P=q(+e.rows),T=V(()=>["plain","underlined"].includes(e.variant));De(()=>{e.autoGrow||(P.value=+e.rows)});function k(){e.autoGrow&&pe(()=>{if(!j.value||!h.value)return;const S=getComputedStyle(j.value),F=getComputedStyle(h.value.$el),_=parseFloat(S.getPropertyValue("--v-field-padding-top"))+parseFloat(S.getPropertyValue("--v-input-padding-top"))+parseFloat(S.getPropertyValue("--v-field-padding-bottom")),E=j.value.scrollHeight,W=parseFloat(S.lineHeight),K=Math.max(parseFloat(e.rows)*W+_,parseFloat(F.getPropertyValue("--v-input-control-height"))),fe=parseFloat(e.maxRows)*W+_||1/0,C=_e(E??0,K,fe);P.value=Math.floor((C-_)/W),b.value=re(C)})}ot(k),ae(o,k),ae(()=>e.rows,k),ae(()=>e.maxRows,k),ae(()=>e.density,k);let O;return ae(j,S=>{S?(O=new ResizeObserver(k),O.observe(j.value)):O==null||O.disconnect()}),tl(()=>{O==null||O.disconnect()}),ne(()=>{const S=!!(l.counter||e.counter||e.counterValue),F=!!(S||l.details),[_,E]=ia(a),{modelValue:W,...K}=bt.filterProps(e),fe=fo(e);return s(bt,B({ref:m,modelValue:o.value,"onUpdate:modelValue":C=>o.value=C,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":T.value},e.class],style:e.style},_,K,{centerAffix:P.value===1&&!T.value,focused:i.value}),{...l,default:C=>{let{id:D,isDisabled:H,isDirty:X,isReadonly:ee,isValid:Z}=C;return s(vo,B({ref:h,style:{"--v-textarea-control-height":b.value},onClick:y,onMousedown:M,"onClick:clear":L,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},fe,{id:D.value,active:p.value||X.value,centerAffix:P.value===1&&!T.value,dirty:X.value||e.dirty,disabled:H.value,focused:i.value,error:Z.value===!1}),{...l,default:oe=>{let{props:{class:A,...J}}=oe;return s(Y,null,[e.prefix&&s("span",{class:"v-text-field__prefix"},[e.prefix]),Ue(s("textarea",B({ref:v,class:A,value:o.value,onInput:R,autofocus:e.autofocus,readonly:ee.value,disabled:H.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:g,onBlur:u},J,E),null),[[Mt("intersect"),{handler:c},null,{once:!0}]]),e.autoGrow&&Ue(s("textarea",{class:[A,"v-textarea__sizer"],id:`${J.id}-sizer`,"onUpdate:modelValue":ce=>o.value=ce,ref:j,readonly:!0,"aria-hidden":"true"},null),[[_n,o.value]]),e.suffix&&s("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:F?C=>{var D;return s(Y,null,[(D=l.details)==null?void 0:D.call(l,C),S&&s(Y,null,[s("span",null,null),s(ho,{active:e.persistentCounter||i.value,value:d.value,max:f.value,disabled:e.disabled},l.counter)])])}:void 0})}),st({},m,h,v)}}),dr={data(){return{showDialog:!1,showStartDatePicker:!1,showEndDatePicker:!1,showStartTimePicker:!1,showEndTimePicker:!1,startDate:null,endDate:null,startTime:null,endTime:null,selectedTimezone:"Africa/Johannesburg",duration:120}},props:{modelValue:{type:Fn,default:null}},computed:{formattedValue(){let e="";return this.formattedStartDate&&this.formattedStartTime&&this.formattedEndTime&&(this.startDate===this.endDate?e=`${this.formattedStartDate} 
${this.formattedStartTime} - ${this.formattedEndTime} (${this.selectedTimezone})`:e=`${this.formattedStartDate} ${this.formattedStartTime} -
${this.formattedEndDate} ${this.formattedEndTime} (${this.selectedTimezone})`),e},formattedStartDate(){return this.startDate?Q.tz(this.startDate,this.selectedTimezone).format("dddd, MMMM D, YYYY"):""},formattedEndDate(){return this.endDate?Q.tz(this.endDate,this.selectedTimezone).format("dddd, MMMM D, YYYY"):""},formattedStartTime(){return this.startTime?Q.tz(this.startTime,"HH:mm:ss",this.selectedTimezone).format("h:mm A"):""},formattedEndTime(){return this.endTime?Q.tz(this.endTime,"HH:mm:ss",this.selectedTimezone).format("h:mm A"):""},dateTimeRange(){return this.formattedStartDate&&this.formattedStartTime&&this.formattedEndTime?`${this.formattedStartDate} 
 ${this.formattedStartTime} - ${this.formattedEndTime} (Africa/Johannesburg)`:null},pgDateTimeRange(){const e=Q(`${this.startDate} ${this.startTime}`).format("YYYY-MM-DD HH:mm:ssZZ"),t=Q(`${this.endDate} ${this.endTime}`).format("YYYY-MM-DD HH:mm:ssZZ");return`"[${e},${t}]"`}},methods:{parseTstzrange(e){const t=e.match(/\[(.*?),(.*)\]/);if(t){const a=Q.tz(t[1],this.selectedTimezone),n=Q.tz(t[2],this.selectedTimezone);this.detectDuration(a.format("HH:mm:ss"),n.format("HH:mm:ss")),this.startDate=a.format("YYYY-MM-DD"),this.startTime=a.format("HH:mm:ss"),this.endDate=n.format("YYYY-MM-DD"),this.endTime=n.format("HH:mm:ss")}},setDefaultStartTime(){this.showStartDatePicker=!1;const e=Q.tz(this.selectedTimezone);e.minutes(0).seconds(0).milliseconds(0).add(1,"hours"),this.startTime=e.format("HH:mm:ss"),this.endDate=this.startDate},getTimestampsForDatabase(){const e=Q.tz(`${this.startDate} ${this.startTime}`,this.selectedTimezone).toISOString(),t=Q.tz(`${this.endDate} ${this.endTime}`,this.selectedTimezone).toISOString();return`[${e}, ${t}]`},finalizeDateTimeRange(){const e=this.getTimestampsForDatabase();this.$emit("update:modelValue",e),this.showDialog=!1},manuallyChangedEndTime(e){this.detectDuration(this.startTime,e)},detectDuration(e,t){this.duration=Q(t,"HH:mm:ss").diff(Q(e,"HH:mm:ss"),"minutes")}},watch:{startTime(e){this.endTime=Q(e,"HH:mm:ss").add(this.duration,"minutes").format("HH:mm:ss")}},mounted(){this.parseTstzrange(this.modelValue)}},cr=de("h3",null,"Start",-1),mr=de("h3",null,"End",-1);function fr(e,t,a,n,l,o){const i=G("v-time-picker");return w(),I("div",null,[s(Cl,{label:"Select Date Range",readonly:"",onClick:t[0]||(t[0]=r=>l.showDialog=!0),modelValue:o.formattedValue,rows:"2"},{append:x(()=>[s(Be,null,{default:x(()=>[le("mdi-calendar")]),_:1})]),_:1},8,["modelValue"]),s(ye,{modelValue:l.showDialog,"onUpdate:modelValue":t[17]||(t[17]=r=>l.showDialog=r),"max-width":"500px"},{default:x(()=>[s(we,{class:"pa-4"},{default:x(()=>[de("div",null,[cr,s(ve,{label:"Start Date",modelValue:o.formattedStartDate,"onUpdate:modelValue":t[1]||(t[1]=r=>o.formattedStartDate=r),readonly:"",onClick:t[2]||(t[2]=r=>l.showStartDatePicker=!0),variant:"underlined"},null,8,["modelValue"]),s(ye,{modelValue:l.showStartDatePicker,"onUpdate:modelValue":t[4]||(t[4]=r=>l.showStartDatePicker=r),"max-width":"290px"},{default:x(()=>[s($t,{modelValue:l.startDate,"onUpdate:modelValue":[t[3]||(t[3]=r=>l.startDate=r),o.setDefaultStartTime]},null,8,["modelValue","onUpdate:modelValue"])]),_:1},8,["modelValue"]),s(ve,{label:"Start Time",modelValue:o.formattedStartTime,"onUpdate:modelValue":t[5]||(t[5]=r=>o.formattedStartTime=r),readonly:"",onClick:t[6]||(t[6]=r=>l.showStartTimePicker=!0),variant:"underlined"},null,8,["modelValue"]),s(ye,{modelValue:l.showStartTimePicker,"onUpdate:modelValue":t[8]||(t[8]=r=>l.showStartTimePicker=r),"max-width":"290px"},{default:x(()=>[s(i,{modelValue:l.startTime,"onUpdate:modelValue":t[7]||(t[7]=r=>l.startTime=r)},null,8,["modelValue"])]),_:1},8,["modelValue"])]),de("div",null,[mr,s(ve,{label:"End Date",modelValue:o.formattedEndDate,"onUpdate:modelValue":t[9]||(t[9]=r=>o.formattedEndDate=r),readonly:"",onClick:t[10]||(t[10]=r=>l.showEndDatePicker=!0),variant:"underlined"},null,8,["modelValue"]),s(ye,{modelValue:l.showEndDatePicker,"onUpdate:modelValue":t[12]||(t[12]=r=>l.showEndDatePicker=r),"max-width":"290px"},{default:x(()=>[s($t,{modelValue:l.endDate,"onUpdate:modelValue":t[11]||(t[11]=r=>l.endDate=r)},null,8,["modelValue"])]),_:1},8,["modelValue"]),s(ve,{label:"End Time",modelValue:o.formattedEndTime,"onUpdate:modelValue":t[13]||(t[13]=r=>o.formattedEndTime=r),readonly:"",onClick:t[14]||(t[14]=r=>l.showEndTimePicker=!0),variant:"underlined"},null,8,["modelValue"]),s(ye,{modelValue:l.showEndTimePicker,"onUpdate:modelValue":t[16]||(t[16]=r=>l.showEndTimePicker=r),"max-width":"290px"},{default:x(()=>[s(i,{modelValue:l.endTime,"onUpdate:modelValue":[t[15]||(t[15]=r=>l.endTime=r),o.manuallyChangedEndTime]},null,8,["modelValue","onUpdate:modelValue"])]),_:1},8,["modelValue"])]),s(Re,null,{default:x(()=>[s(Ze),s($,{color:"primary",onClick:o.finalizeDateTimeRange},{default:x(()=>[le("OK")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const vr=me(dr,[["render",fr]]),hr={name:"DateAndTimePicker",data(){return{showDialog:!1,showDatePicker:!1,showTimePicker:!1,selectedDate:null,selectedTime:null,selectedTimezone:"Africa/Johannesburg"}},props:{modelValue:{type:String,default:null},label:{type:String,default:""},disabled:{type:Boolean,default:!1}},computed:{formattedValue(){return this.formattedDate&&this.formattedTime?`${this.formattedDate} ${this.formattedTime} (${this.selectedTimezone})`:""},formattedDate(){return this.selectedDate?Q.tz(this.selectedDate,this.selectedTimezone).format("dddd, MMMM D, YYYY"):""},formattedTime(){return this.selectedTime?Q.tz(this.selectedTime,"HH:mm:ss",this.selectedTimezone).format("h:mm A"):""}},methods:{click(){this.disabled||(this.showDialog=!0)},setDefaultStartTime(){const e=Q.tz(this.selectedTimezone);e.minutes(0).seconds(0).milliseconds(0).add(1,"hours"),this.selectedTime=e.format("HH:mm:ss")},parseTimestamptz(e){if(e){const t=Q.tz(e,this.selectedTimezone);this.selectedDate=t.format("YYYY-MM-DD"),this.selectedTime=t.format("HH:mm:ss")}},getTimestampForDatabase(){return Q.tz(`${this.selectedDate} ${this.selectedTime}`,this.selectedTimezone).toISOString()},finalizeDateTime(){const e=this.getTimestampForDatabase();this.$emit("update:modelValue",e),this.showDialog=!1}},watch:{modelValue(){this.parseTimestamptz(this.modelValue)}}},yr=de("h3",null,"Select Date & Time",-1),gr={class:"pa-4",style:{"text-align":"right"}},pr={class:"pa-4",style:{"text-align":"right"}};function br(e,t,a,n,l,o){const i=G("v-time-picker");return w(),I("div",null,[s(Cl,{label:a.label,readonly:"",onClick:o.click,modelValue:o.formattedValue,rows:"1",disabled:a.disabled,variant:"underlined"},{append:x(()=>[s(Be,null,{default:x(()=>[le("mdi-calendar")]),_:1})]),_:1},8,["label","onClick","modelValue","disabled"]),s(ye,{modelValue:l.showDialog,"onUpdate:modelValue":t[10]||(t[10]=r=>l.showDialog=r),"max-width":"500px"},{default:x(()=>[s(we,{class:"pa-4"},{default:x(()=>[yr,s(ve,{label:"Date",modelValue:o.formattedDate,"onUpdate:modelValue":t[0]||(t[0]=r=>o.formattedDate=r),readonly:"",onClick:t[1]||(t[1]=r=>l.showDatePicker=!0),variant:"underlined"},null,8,["modelValue"]),s(ye,{modelValue:l.showDatePicker,"onUpdate:modelValue":t[4]||(t[4]=r=>l.showDatePicker=r),"max-width":"290px"},{default:x(()=>[s(we,{class:""},{default:x(()=>[s($t,{modelValue:l.selectedDate,"onUpdate:modelValue":[t[2]||(t[2]=r=>l.selectedDate=r),o.setDefaultStartTime]},null,8,["modelValue","onUpdate:modelValue"]),de("div",gr,[s($,{color:"primary",onClick:t[3]||(t[3]=r=>l.showDatePicker=!1)},{default:x(()=>[le("OK")]),_:1})])]),_:1})]),_:1},8,["modelValue"]),s(ve,{label:"Time",modelValue:o.formattedTime,"onUpdate:modelValue":t[5]||(t[5]=r=>o.formattedTime=r),readonly:"",onClick:t[6]||(t[6]=r=>l.showTimePicker=!0),variant:"underlined"},null,8,["modelValue"]),s(ye,{modelValue:l.showTimePicker,"onUpdate:modelValue":t[9]||(t[9]=r=>l.showTimePicker=r),"max-width":"290px"},{default:x(()=>[s(we,{class:""},{default:x(()=>[s(i,{modelValue:l.selectedTime,"onUpdate:modelValue":t[7]||(t[7]=r=>l.selectedTime=r)},null,8,["modelValue"]),de("div",pr,[s($,{color:"primary",onClick:t[8]||(t[8]=r=>l.showTimePicker=!1)},{default:x(()=>[le("OK")]),_:1})])]),_:1})]),_:1},8,["modelValue"]),s(Re,null,{default:x(()=>[s(Ze),s($,{color:"primary",onClick:o.finalizeDateTime},{default:x(()=>[le("OK")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const kr=me(hr,[["render",br]]),wr={name:"SearchGooglePlace",props:{modelValue:{type:String,default(){return null}},configs:{type:Object,default(){return{}}}},data(){return{showDialog:!1,retries:0,place:0}},computed:{},methods:{},watch:{},mounted(){}},xr=de("h3",null,"Search Place",-1),Vr={style:{display:"none"}};function Pr(e,t,a,n,l,o){const i=G("GMapAutocomplete");return w(),I("div",null,[s(ve,{label:a.configs.label,modelValue:a.modelValue,onClick:t[0]||(t[0]=r=>l.showDialog=!0),readonly:"",variant:"underlined"},null,8,["label","modelValue"]),s(ye,{modelValue:l.showDialog,"onUpdate:modelValue":t[2]||(t[2]=r=>l.showDialog=r),"max-width":"500px",class:"xxxxxx"},{default:x(()=>[s(we,{class:"pa-4"},{default:x(()=>[xr,s(ve,{class:"CustomPlaceSearch",label:"Place",modelValue:a.modelValue,ref:"autocompleteInput",variant:"underlined"},null,8,["modelValue"]),s(Re,null,{default:x(()=>[s(Ze),s($,{color:"primary",onClick:t[1]||(t[1]=r=>l.showDialog=!1)},{default:x(()=>[le("OK")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),de("div",Vr,[s(i,{placeholder:"This is a placeholder",onPlace_changed:t[3]||(t[3]=r=>e.$emit("change",l.place))})])])}const Sr=me(wr,[["render",Pr]]);class be{static quickListsIsMobile(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}static mapPlaceFields(){return[{flag:"mapExtraFormattedAddress",googleType:"simple",googleName:"formatted_address"},{flag:"mapExtraPlaceID",googleType:"simple",googleName:"place_id"},{flag:"mapExtraGeoLocLong",googleType:"mapGeoLoc",googleName:"lng"},{flag:"mapExtraGeoLocLat",googleType:"mapGeoLoc",googleName:"lat"},{flag:"relForeignKeyMapExtraRelCountry",googleType:"components",googleName:"country"},{flag:"relForeignKeyMapExtraRelAdminArea1",googleType:"components",googleName:"administrative_area_level_1"},{flag:"relForeignKeyMapExtraRelAdminArea2",googleType:"components",googleName:"administrative_area_level_2"},{flag:"relForeignKeyMapExtraRelLocality",googleType:"components",googleName:"locality"},{flag:"relForeignKeyMapExtraRelSublocality",googleType:"components",googleName:["sublocality_level_1","sublocality_level_2"]}]}static quickListsGetIfMatchesAllChecks(t,a){for(const[n,l]of Object.entries(a))if(typeof l=="object"&&!Array.isArray(l)&&l!==null){if(l!=null&&l.value&&l.usageType==="timeRangeStart"&&l.value.range.start){const o=new Date(l.value.range.start),i=new Date(l.value.range.end),r=new Date(t[n]);return o<r&&r<i}}else if(l!==null)return t[n]==l;return!0}static computedAttrs(t,a=[]){let n=Bt.find(t.entity);return n||(Bt.Generate(t),n=Bt.find(t.entity)),this.computedAttrs2(n.fields,a)}static computedAttrs2(t,a=[]){let n=[];for(const l of t)l.usageType.startsWith("relForeignKey"),n.push(l);return n}static SupaerTableHeaders(t,a=[],n,l=!1){let o=[];const i=this.computedAttrs(t,a);for(const r of i)if(!r.usageType.startsWith("relForeignKey"))if(r.usageType.startsWith("relLookup")){const u=this.computedAttrs(r.meta.relatedModel,a);let d=[];for(const f of u)f.important==!0&&(f.usageType.startsWith("relForeignKey")||d.push({title:f.label,key:f.name,usageType:f.usageType,dataType:f.dataType,meta:f.meta,sortable:!0}));o.push({title:r.label,key:r.name,usageType:r.usageType,dataType:r.dataType,meta:r.meta,headerChildren:d,sortable:!0})}else o.push({title:r.label,key:r.name,usageType:r.usageType,dataType:r.dataType,meta:r.meta,sortable:!0});return n&&o.push({title:"Actions",key:"actions",usageType:"actions",dataType:"actions"}),o=o.filter(r=>{if(l){if(!r.usageType.startsWith("relForeignKey"))return!0}else return!r.usageType.startsWith("relForeignKey")&&!r.usageType.startsWith("relLookupMapExtra")&&!r.usageType.startsWith("mapExtra")}),o}static preparePayload(t,a){let n=[];for(const l of a)typeof(t==null?void 0:t[l.name])<"u"&&(l.usageType.startsWith("relForeignKey")?n[l.meta.foreignKey]=t[l.meta.foreignKey]:l.usageType.startsWith("relLookup")||l.usageType.startsWith("relChildren")||(["timestampType","readOnlyTimestampType","timeRangeStart","timeRangeEnd"].includes(l.usageType)?t[l.name]&&(n[l.name]=t[l.name]):n[l.name]=t[l.name]));return delete n.$id,n}}const Ml=Symbol.for("vuetify:selection-control-group"),_l=z({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:Ve,trueIcon:Ve,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:sa},...Ie(),...ua(),...rt()},"SelectionControlGroup"),Tr=z({..._l({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup");te()({name:"VSelectionControlGroup",props:Tr(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const n=ue(e,"modelValue"),l=it(),o=V(()=>e.id||`v-selection-control-group-${l}`),i=V(()=>e.name||o.value),r=new Set;return Ce(Ml,{modelValue:n,forceUpdate:()=>{r.forEach(u=>u())},onForceUpdate:u=>{r.add(u),xe(()=>{r.delete(u)})}}),ze({[e.defaultsTarget]:{color:U(e,"color"),disabled:U(e,"disabled"),density:U(e,"density"),error:U(e,"error"),inline:U(e,"inline"),modelValue:n,multiple:V(()=>!!e.multiple||e.multiple==null&&Array.isArray(n.value)),name:i,falseIcon:U(e,"falseIcon"),trueIcon:U(e,"trueIcon"),readonly:U(e,"readonly"),ripple:U(e,"ripple"),type:U(e,"type"),valueComparator:U(e,"valueComparator")}}),ne(()=>{var u;return s("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":e.inline},e.class],style:e.style,role:e.type==="radio"?"radiogroup":void 0},[(u=a.default)==null?void 0:u.call(a)])}),{}}});const Ol=z({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...Ie(),..._l()},"VSelectionControl");function Dr(e){const t=Se(Ml,void 0),{densityClasses:a}=ol(e),n=ue(e,"modelValue"),l=V(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),o=V(()=>e.falseValue!==void 0?e.falseValue:!1),i=V(()=>!!e.multiple||e.multiple==null&&Array.isArray(n.value)),r=V({get(){const h=t?t.modelValue.value:n.value;return i.value?Pe(h).some(b=>e.valueComparator(b,l.value)):e.valueComparator(h,l.value)},set(h){if(e.readonly)return;const b=h?l.value:o.value;let v=b;i.value&&(v=h?[...Pe(n.value),b]:Pe(n.value).filter(p=>!e.valueComparator(p,l.value))),t?t.modelValue.value=v:n.value=v}}),{textColorClasses:u,textColorStyles:d}=In(V(()=>{if(!(e.error||e.disabled))return r.value?e.color:e.baseColor})),{backgroundColorClasses:f,backgroundColorStyles:c}=Ge(V(()=>r.value&&!e.error&&!e.disabled?e.color:e.baseColor)),m=V(()=>r.value?e.trueIcon:e.falseIcon);return{group:t,densityClasses:a,trueValue:l,falseValue:o,model:r,textColorClasses:u,textColorStyles:d,backgroundColorClasses:f,backgroundColorStyles:c,icon:m}}const ja=te()({name:"VSelectionControl",directives:{Ripple:nl},inheritAttrs:!1,props:Ol(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:a,slots:n}=t;const{group:l,densityClasses:o,icon:i,model:r,textColorClasses:u,textColorStyles:d,backgroundColorClasses:f,backgroundColorStyles:c,trueValue:m}=Dr(e),h=it(),b=se(!1),v=se(!1),p=q(),g=V(()=>e.id||`input-${h}`),y=V(()=>!e.disabled&&!e.readonly);l==null||l.onForceUpdate(()=>{p.value&&(p.value.checked=r.value)});function M(P){y.value&&(b.value=!0,gt(P.target,":focus-visible")!==!1&&(v.value=!0))}function L(){b.value=!1,v.value=!1}function R(P){P.stopPropagation()}function j(P){y.value&&(e.readonly&&l&&pe(()=>l.forceUpdate()),r.value=P.target.checked)}return ne(()=>{var S,F;const P=n.label?n.label({label:e.label,props:{for:g.value}}):e.label,[T,k]=ia(a),O=s("input",B({ref:p,checked:r.value,disabled:!!e.disabled,id:g.value,onBlur:L,onFocus:M,onInput:j,"aria-disabled":!!e.disabled,"aria-label":e.label,type:e.type,value:m.value,name:e.name,"aria-checked":e.type==="checkbox"?r.value:void 0},k),null);return s("div",B({class:["v-selection-control",{"v-selection-control--dirty":r.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":b.value,"v-selection-control--focus-visible":v.value,"v-selection-control--inline":e.inline},o.value,e.class]},T,{style:e.style}),[s("div",{class:["v-selection-control__wrapper",u.value],style:d.value},[(S=n.default)==null?void 0:S.call(n,{backgroundColorClasses:f,backgroundColorStyles:c}),Ue(s("div",{class:["v-selection-control__input"]},[((F=n.input)==null?void 0:F.call(n,{model:r,textColorClasses:u,textColorStyles:d,backgroundColorClasses:f,backgroundColorStyles:c,inputNode:O,icon:i.value,props:{onFocus:M,onBlur:L,id:g.value}}))??s(Y,null,[i.value&&s(Be,{key:"icon",icon:i.value},null),O])]),[[Mt("ripple"),e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),P&&s(yo,{for:g.value,onClick:R},{default:()=>[P]})])}),{isFocused:b,input:p}}}),Fl=z({indeterminate:Boolean,indeterminateIcon:{type:Ve,default:"$checkboxIndeterminate"},...Ol({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),Ke=te()({name:"VCheckboxBtn",props:Fl(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,t){let{slots:a}=t;const n=ue(e,"indeterminate"),l=ue(e,"modelValue");function o(u){n.value&&(n.value=!1)}const i=V(()=>n.value?e.indeterminateIcon:e.falseIcon),r=V(()=>n.value?e.indeterminateIcon:e.trueIcon);return ne(()=>{const u=Oe(ja.filterProps(e),["modelValue"]);return s(ja,B(u,{modelValue:l.value,"onUpdate:modelValue":[d=>l.value=d,o],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:i.value,trueIcon:r.value,"aria-checked":n.value?"mixed":void 0}),a)}),{}}}),Cr=z({...ml(),...Oe(Fl(),["inline"])},"VCheckbox"),Mr=te()({name:"VCheckbox",inheritAttrs:!1,props:Cr(),emits:{"update:modelValue":e=>!0,"update:focused":e=>!0},setup(e,t){let{attrs:a,slots:n}=t;const l=ue(e,"modelValue"),{isFocused:o,focus:i,blur:r}=fl(e),u=it(),d=V(()=>e.id||`checkbox-${u}`);return ne(()=>{const[f,c]=ia(a),m=bt.filterProps(e),h=Ke.filterProps(e);return s(bt,B({class:["v-checkbox",e.class]},f,m,{modelValue:l.value,"onUpdate:modelValue":b=>l.value=b,id:d.value,focused:o.value,style:e.style}),{...n,default:b=>{let{id:v,messagesId:p,isDisabled:g,isReadonly:y,isValid:M}=b;return s(Ke,B(h,{id:v.value,"aria-describedby":p.value,disabled:g.value,readonly:y.value},c,{error:M.value===!1,modelValue:l.value,"onUpdate:modelValue":L=>l.value=L,onFocus:i,onBlur:r}),n)}})}),{}}}),_r=z({id:String,...Oe(Ft({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:ya}}),["absolute"])},"VMenu"),ga=te()({name:"VMenu",props:_r(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const n=ue(e,"modelValue"),{scopeId:l}=Ot(),o=it(),i=V(()=>e.id||`v-menu-${o}`),r=q(),u=Se(Qt,null),d=se(0);Ce(Qt,{register(){++d.value},unregister(){--d.value},closeParents(v){setTimeout(()=>{!d.value&&(v==null||v&&!Rn(v,r.value.contentEl))&&(n.value=!1,u==null||u.closeParents())},40)}});async function f(v){var y,M,L;const p=v.relatedTarget,g=v.target;await pe(),n.value&&p!==g&&((y=r.value)!=null&&y.contentEl)&&((M=r.value)!=null&&M.globalTop)&&![document,r.value.contentEl].includes(g)&&!r.value.contentEl.contains(g)&&((L=Kt(r.value.contentEl)[0])==null||L.focus())}ae(n,v=>{v?(u==null||u.register(),document.addEventListener("focusin",f,{once:!0})):(u==null||u.unregister(),document.removeEventListener("focusin",f))});function c(v){u==null||u.closeParents(v)}function m(v){var p,g,y;e.disabled||(v.key==="Tab"||v.key==="Enter"&&!e.closeOnContentClick?(v.key==="Enter"&&v.preventDefault(),En(Kt((p=r.value)==null?void 0:p.contentEl,!1),v.shiftKey?"prev":"next",L=>L.tabIndex>=0)||(n.value=!1,(y=(g=r.value)==null?void 0:g.activatorEl)==null||y.focus())):["Enter"," "].includes(v.key)&&e.closeOnContentClick&&(n.value=!1,u==null||u.closeParents()))}function h(v){var g;if(e.disabled)return;const p=(g=r.value)==null?void 0:g.contentEl;p&&n.value?v.key==="ArrowDown"?(v.preventDefault(),Ca(p,"next")):v.key==="ArrowUp"&&(v.preventDefault(),Ca(p,"prev")):["ArrowDown","ArrowUp"].includes(v.key)&&(n.value=!0,v.preventDefault(),setTimeout(()=>setTimeout(()=>h(v))))}const b=V(()=>B({"aria-haspopup":"menu","aria-expanded":String(n.value),"aria-owns":i.value,onKeydown:h},e.activatorProps));return ne(()=>{const v=We.filterProps(e);return s(We,B({ref:r,id:i.value,class:["v-menu",e.class],style:e.style},v,{modelValue:n.value,"onUpdate:modelValue":p=>n.value=p,absolute:!0,activatorProps:b.value,"onClick:outside":c,onKeydown:m},l),{activator:a.activator,default:function(){for(var p=arguments.length,g=new Array(p),y=0;y<p;y++)g[y]=arguments[y];return s(qe,{root:"VMenu"},{default:()=>{var M;return[(M=a.default)==null?void 0:M.call(a,...g)]}})}})}),st({id:i,ΨopenChildren:d},r)}}),Or=z({renderless:Boolean,...Ie()},"VVirtualScrollItem"),Fr=te()({name:"VVirtualScrollItem",inheritAttrs:!1,props:Or(),emits:{"update:height":e=>!0},setup(e,t){let{attrs:a,emit:n,slots:l}=t;const{resizeRef:o,contentRect:i}=da(void 0,"border");ae(()=>{var r;return(r=i.value)==null?void 0:r.height},r=>{r!=null&&n("update:height",r)}),ne(()=>{var r,u;return e.renderless?s(Y,null,[(r=l.default)==null?void 0:r.call(l,{itemRef:o})]):s("div",B({ref:o,class:["v-virtual-scroll__item",e.class],style:e.style},a),[(u=l.default)==null?void 0:u.call(l)])})}}),Ir=-1,Rr=1,Ut=100,Er=z({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function Ar(e,t){const a=je(),n=se(0);De(()=>{n.value=parseFloat(e.itemHeight||0)});const l=se(0),o=se(Math.ceil((parseInt(e.height)||a.height.value)/(n.value||16))||1),i=se(0),r=se(0),u=q(),d=q();let f=0;const{resizeRef:c,contentRect:m}=da();De(()=>{c.value=u.value});const h=V(()=>{var D;return u.value===document.documentElement?a.height.value:((D=m.value)==null?void 0:D.height)||parseInt(e.height)||0}),b=V(()=>!!(u.value&&d.value&&h.value&&n.value));let v=Array.from({length:t.value.length}),p=Array.from({length:t.value.length});const g=se(0);let y=-1;function M(D){return v[D]||n.value}const L=An(()=>{const D=performance.now();p[0]=0;const H=t.value.length;for(let X=1;X<=H-1;X++)p[X]=(p[X-1]||0)+M(X-1);g.value=Math.max(g.value,performance.now()-D)},g),R=ae(b,D=>{D&&(R(),f=d.value.offsetTop,L.immediate(),W(),~y&&pe(()=>{Te&&window.requestAnimationFrame(()=>{fe(y),y=-1})}))});xe(()=>{L.clear()});function j(D,H){const X=v[D],ee=n.value;n.value=ee?Math.min(n.value,H):H,(X!==H||ee!==n.value)&&(v[D]=H,L())}function P(D){return D=_e(D,0,t.value.length-1),p[D]||0}function T(D){return Br(p,D)}let k=0,O=0,S=0;ae(h,(D,H)=>{H&&(W(),D<H&&requestAnimationFrame(()=>{O=0,W()}))});function F(){if(!u.value||!d.value)return;const D=u.value.scrollTop,H=performance.now();H-S>500?(O=Math.sign(D-k),f=d.value.offsetTop):O=D-k,k=D,S=H,W()}function _(){!u.value||!d.value||(O=0,S=0,W())}let E=-1;function W(){cancelAnimationFrame(E),E=requestAnimationFrame(K)}function K(){if(!u.value||!h.value)return;const D=k-f,H=Math.sign(O),X=Math.max(0,D-Ut),ee=_e(T(X),0,t.value.length),Z=D+h.value+Ut,oe=_e(T(Z)+1,ee+1,t.value.length);if((H!==Ir||ee<l.value)&&(H!==Rr||oe>o.value)){const A=P(l.value)-P(ee),J=P(oe)-P(o.value);Math.max(A,J)>Ut?(l.value=ee,o.value=oe):(ee<=0&&(l.value=ee),oe>=t.value.length&&(o.value=oe))}i.value=P(l.value),r.value=P(t.value.length)-P(o.value)}function fe(D){const H=P(D);!u.value||D&&!H?y=D:u.value.scrollTop=H}const C=V(()=>t.value.slice(l.value,o.value).map((D,H)=>({raw:D,index:H+l.value})));return ae(t,()=>{v=Array.from({length:t.value.length}),p=Array.from({length:t.value.length}),L.immediate(),W()},{deep:!0}),{containerRef:u,markerRef:d,computedItems:C,paddingTop:i,paddingBottom:r,scrollToIndex:fe,handleScroll:F,handleScrollend:_,handleItemResize:j}}function Br(e,t){let a=e.length-1,n=0,l=0,o=null,i=-1;if(e[a]<t)return a;for(;n<=a;)if(l=n+a>>1,o=e[l],o>t)a=l-1;else if(o<t)i=l,n=l+1;else return o===t?l:n;return i}const Lr=z({items:{type:Array,default:()=>[]},renderless:Boolean,...Er(),...Ie(),...Xa()},"VVirtualScroll"),Nr=te()({name:"VVirtualScroll",props:Lr(),setup(e,t){let{slots:a}=t;const n=nt("VVirtualScroll"),{dimensionStyles:l}=el(e),{containerRef:o,markerRef:i,handleScroll:r,handleScrollend:u,handleItemResize:d,scrollToIndex:f,paddingTop:c,paddingBottom:m,computedItems:h}=Ar(e,U(e,"items"));return Dt(()=>e.renderless,()=>{function b(){var g,y;const p=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";o.value===document.documentElement?(document[p]("scroll",r,{passive:!0}),document[p]("scrollend",u)):((g=o.value)==null||g[p]("scroll",r,{passive:!0}),(y=o.value)==null||y[p]("scrollend",u))}ot(()=>{o.value=yl(n.vnode.el,!0),b(!0)}),xe(b)}),ne(()=>{const b=h.value.map(v=>s(Fr,{key:v.index,renderless:e.renderless,"onUpdate:height":p=>d(v.index,p)},{default:p=>{var g;return(g=a.default)==null?void 0:g.call(a,{item:v.raw,index:v.index,...p})}}));return e.renderless?s(Y,null,[s("div",{ref:i,class:"v-virtual-scroll__spacer",style:{paddingTop:re(c.value)}},null),b,s("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:re(m.value)}},null)]):s("div",{ref:o,class:["v-virtual-scroll",e.class],onScrollPassive:r,onScrollend:u,style:[l.value,e.style]},[s("div",{ref:i,class:"v-virtual-scroll__container",style:{paddingTop:re(c.value),paddingBottom:re(m.value)}},[b])])}),{scrollToIndex:f}}});function Hr(e,t){const a=se(!1);let n;function l(r){cancelAnimationFrame(n),a.value=!0,n=requestAnimationFrame(()=>{n=requestAnimationFrame(()=>{a.value=!1})})}async function o(){await new Promise(r=>requestAnimationFrame(r)),await new Promise(r=>requestAnimationFrame(r)),await new Promise(r=>requestAnimationFrame(r)),await new Promise(r=>{if(a.value){const u=ae(a,()=>{u(),r()})}else r()})}async function i(r){var f,c;if(r.key==="Tab"&&((f=t.value)==null||f.focus()),!["PageDown","PageUp","Home","End"].includes(r.key))return;const u=(c=e.value)==null?void 0:c.$el;if(!u)return;(r.key==="Home"||r.key==="End")&&u.scrollTo({top:r.key==="Home"?0:u.scrollHeight,behavior:"smooth"}),await o();const d=u.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(r.key==="PageDown"||r.key==="Home"){const m=u.getBoundingClientRect().top;for(const h of d)if(h.getBoundingClientRect().top>=m){h.focus();break}}else{const m=u.getBoundingClientRect().bottom;for(const h of[...d].reverse())if(h.getBoundingClientRect().bottom<=m){h.focus();break}}}return{onListScroll:l,onListKeydown:i}}const Yr=z({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:Ve,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...xo({itemChildren:!1})},"Select"),Ur=z({...Yr(),...Oe(go({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Qa({transition:{component:ya}})},"VSelect"),Me=te()({name:"VSelect",props:Ur(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:a}=t;const{t:n}=He(),l=q(),o=q(),i=q(),r=ue(e,"menu"),u=V({get:()=>r.value,set:C=>{var D;r.value&&!C&&((D=o.value)!=null&&D.ΨopenChildren)||(r.value=C)}}),{items:d,transformIn:f,transformOut:c}=Vo(e),m=ue(e,"modelValue",[],C=>f(C===null?[null]:Pe(C)),C=>{const D=c(C);return e.multiple?D:D[0]??null}),h=V(()=>typeof e.counterValue=="function"?e.counterValue(m.value):typeof e.counterValue=="number"?e.counterValue:m.value.length),b=po(),v=V(()=>m.value.map(C=>C.value)),p=se(!1),g=V(()=>u.value?e.closeText:e.openText);let y="",M;const L=V(()=>e.hideSelected?d.value.filter(C=>!m.value.some(D=>D===C)):d.value),R=V(()=>e.hideNoData&&!L.value.length||e.readonly||(b==null?void 0:b.isReadonly.value)),j=V(()=>{var C;return{...e.menuProps,activatorProps:{...((C=e.menuProps)==null?void 0:C.activatorProps)||{},"aria-haspopup":"listbox"}}}),P=q(),{onListScroll:T,onListKeydown:k}=Hr(P,l);function O(C){e.openOnClear&&(u.value=!0)}function S(){R.value||(u.value=!u.value)}function F(C){var Z,oe;if(!C.key||e.readonly||b!=null&&b.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(C.key)&&C.preventDefault(),["Enter","ArrowDown"," "].includes(C.key)&&(u.value=!0),["Escape","Tab"].includes(C.key)&&(u.value=!1),C.key==="Home"?(Z=P.value)==null||Z.focus("first"):C.key==="End"&&((oe=P.value)==null||oe.focus("last"));const D=1e3;function H(A){const J=A.key.length===1,ce=!A.ctrlKey&&!A.metaKey&&!A.altKey;return J&&ce}if(e.multiple||!H(C))return;const X=performance.now();X-M>D&&(y=""),y+=C.key.toLowerCase(),M=X;const ee=d.value.find(A=>A.title.toLowerCase().startsWith(y));if(ee!==void 0){m.value=[ee];const A=L.value.indexOf(ee);Te&&window.requestAnimationFrame(()=>{var J;A>=0&&((J=i.value)==null||J.scrollToIndex(A))})}}function _(C){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!C.props.disabled)if(e.multiple){const H=m.value.findIndex(ee=>e.valueComparator(ee.value,C.value)),X=D??!~H;if(~H){const ee=X?[...m.value,C]:[...m.value];ee.splice(H,1),m.value=ee}else X&&(m.value=[...m.value,C])}else{const H=D!==!1;m.value=H?[C]:[],pe(()=>{u.value=!1})}}function E(C){var D;(D=P.value)!=null&&D.$el.contains(C.relatedTarget)||(u.value=!1)}function W(){var C;p.value&&((C=l.value)==null||C.focus())}function K(C){p.value=!0}function fe(C){if(C==null)m.value=[];else if(gt(l.value,":autofill")||gt(l.value,":-webkit-autofill")){const D=d.value.find(H=>H.title===C);D&&_(D)}else l.value&&(l.value.value="")}return ae(u,()=>{if(!e.hideSelected&&u.value&&m.value.length){const C=L.value.findIndex(D=>m.value.some(H=>e.valueComparator(H.value,D.value)));Te&&window.requestAnimationFrame(()=>{var D;C>=0&&((D=i.value)==null||D.scrollToIndex(C))})}}),ae(()=>e.items,(C,D)=>{u.value||p.value&&!D.length&&C.length&&(u.value=!0)}),ne(()=>{const C=!!(e.chips||a.chip),D=!!(!e.hideNoData||L.value.length||a["prepend-item"]||a["append-item"]||a["no-data"]),H=m.value.length>0,X=ve.filterProps(e),ee=H||!p.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return s(ve,B({ref:l},X,{modelValue:m.value.map(Z=>Z.props.value).join(", "),"onUpdate:modelValue":fe,focused:p.value,"onUpdate:focused":Z=>p.value=Z,validationValue:m.externalValue,counterValue:h.value,dirty:H,class:["v-select",{"v-select--active-menu":u.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":m.value.length,"v-select--selection-slot":!!a.selection},e.class],style:e.style,inputmode:"none",placeholder:ee,"onClick:clear":O,"onMousedown:control":S,onBlur:E,onKeydown:F,"aria-label":n(g.value),title:n(g.value)}),{...a,default:()=>s(Y,null,[s(ga,B({ref:o,modelValue:u.value,"onUpdate:modelValue":Z=>u.value=Z,activator:"parent",contentClass:"v-select__content",disabled:R.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:W},j.value),{default:()=>[D&&s(vl,B({ref:P,selected:v.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:Z=>Z.preventDefault(),onKeydown:k,onFocusin:K,onScrollPassive:T,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},e.listProps),{default:()=>{var Z,oe,A;return[(Z=a["prepend-item"])==null?void 0:Z.call(a),!L.value.length&&!e.hideNoData&&(((oe=a["no-data"])==null?void 0:oe.call(a))??s(Gt,{title:n(e.noDataText)},null)),s(Nr,{ref:i,renderless:!0,items:L.value},{default:J=>{var Je;let{item:ce,index:Ee,itemRef:he}=J;const Ae=B(ce.props,{ref:he,key:Ee,onClick:()=>_(ce,null)});return((Je=a.item)==null?void 0:Je.call(a,{item:ce,index:Ee,props:Ae}))??s(Gt,B(Ae,{role:"option"}),{prepend:ct=>{let{isSelected:mt}=ct;return s(Y,null,[e.multiple&&!e.hideSelected?s(Ke,{key:ce.value,modelValue:mt,ripple:!1,tabindex:"-1"},null):void 0,ce.props.prependAvatar&&s(Bn,{image:ce.props.prependAvatar},null),ce.props.prependIcon&&s(Be,{icon:ce.props.prependIcon},null)])}})}}),(A=a["append-item"])==null?void 0:A.call(a)]}})]}),m.value.map((Z,oe)=>{function A(he){he.stopPropagation(),he.preventDefault(),_(Z,!1)}const J={"onClick:close":A,onKeydown(he){he.key!=="Enter"&&he.key!==" "||(he.preventDefault(),he.stopPropagation(),A(he))},onMousedown(he){he.preventDefault(),he.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},ce=C?!!a.chip:!!a.selection,Ee=ce?Ln(C?a.chip({item:Z,index:oe,props:J}):a.selection({item:Z,index:oe})):void 0;if(!(ce&&!Ee))return s("div",{key:Z.value,class:"v-select__selection"},[C?a.chip?s(qe,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:Z.title}}},{default:()=>[Ee]}):s(pt,B({key:"chip",closable:e.closableChips,size:"small",text:Z.title,disabled:Z.props.disabled},J),null):Ee??s("span",{class:"v-select__selection-text"},[Z.title,e.multiple&&oe<m.value.length-1&&s("span",{class:"v-select__selection-comma"},[le(",")])])])})]),"append-inner":function(){var J;for(var Z=arguments.length,oe=new Array(Z),A=0;A<Z;A++)oe[A]=arguments[A];return s(Y,null,[(J=a["append-inner"])==null?void 0:J.call(a,...oe),e.menuIcon?s(Be,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),st({isFocused:p,menu:u,select:_},l)}}),zr={name:"SuperSelect",components:{},props:{modelValue:{type:[Number,Object],default(){return null}},filters:{type:String,default(){return"{}"}},model:{type:[Object,Function],required:!0},disabled:{type:Boolean,default(){return!1}},modelField:{type:Object,default(){return{}}},displayMapField:{type:Boolean,default(){return!1}},excludedCols:{type:Array,default(){return[]}},readonly:{type:Boolean,default(){return!1}},variant:{type:String,default(){return"outlined"}},density:{type:String,default(){return"compact"}},allowAll:{type:Boolean,default(){return!1}},user:{type:Object,default(){return{}}}},data(){return{search:"",pagination:{page:1,limit:5},loading:!1,noMoreShowMore:!1,fetchedItems:[]}},computed:{disabledComp(){return!!(this.disabled||this.readonly)},showMoreButtonVisible(){let e=!0;return(this.pagination.limit>=this.items.length||this.noMoreShowMore)&&(e=!1),e},quickListsIsMobile(){return be.quickListsIsMobile()},title(){return this.headers.find(t=>t.key!=="id")},headers(){return be.SupaerTableHeaders(this.model,this.excludedCols,!1,this.displayMapField)},items(){let e=[];if(!this.disabled){this.allowAll&&e.push({[this.title.value]:"All",id:null});const t=this.fetchedItems;e=[...e,...t]}return e},filtersComp(){const e=JSON.parse(this.filters);let t=e;return this.title.value&&this.search&&(t={...e,[this.title.value]:this.search}),t}},methods:{showMore(){this.pagination.page=this.pagination.page+1,this.fetchData()},quickListsGetIfMatchesAllChecks(e,t){return be.quickListsGetIfMatchesAllChecks(e,t)},async fetchData(){var a,n;let e=[];(n=(a=this.modelField.fieldExtras)==null?void 0:a.relationRules)!=null&&n.linkables&&(e=this.modelField.fieldExtras.relationRules.linkables(this.user)),this.loading=!0;const t=await this.model.FetchAll([],{...e,order:"id.desc"},{Prefer:"count=exact"},{page:this.pagination.page,limit:this.pagination.limit,filters:this.filtersComp,clearPrimaryModelOnly:!1});t.response.data.length==0&&(this.noMoreShowMore=!0),this.fetchedItems=t.response.data.data,this.loading=!1}},watch:{filters(){this.disabled||this.fetchData()},search(){this.disabled||this.fetchData()}},mounted(){this.disabled||this.fetchData()}};function Wr(e,t,a,n,l,o){return w(),I("div",null,[s(Me,{"menu-props":{offsetY:!0},modelValue:a.modelValue,"onUpdate:modelValue":t[2]||(t[2]=i=>{e.$emit("update:modelValue",i)}),variant:a.variant,density:a.density,items:o.items,label:a.modelField.label,"item-title":o.title.value,"item-value":"id",disabled:o.disabledComp,loading:l.loading,readonly:a.readonly},{"prepend-item":x(()=>[s(ve,{modelValue:l.search,"onUpdate:modelValue":t[0]||(t[0]=i=>l.search=i),label:"Search",density:"compact",variant:"outlined","single-line":"","hide-details":"",class:"ma-2 mt-0 pa-0"},null,8,["modelValue"]),s(va,{class:"mt-2"})]),"append-item":x(()=>[o.showMoreButtonVisible?(w(),I("div",{key:0,onClick:t[1]||(t[1]=(...i)=>o.showMore&&o.showMore(...i)),class:"text-center pa-2"}," Show More ")):ie("",!0)]),_:1},8,["modelValue","variant","density","items","label","item-title","disabled","loading","readonly"])])}const pa=me(zr,[["render",Wr]]),Kr={name:"CreateEditForm",components:{SuperSelect:pa,SearchGooglePlace:Sr,DateAndTimePicker:kr,DateAndTimeRangePicker:vr,RelationComponent:rr},props:{title:{type:String,default(){return""}},modelValue:{type:Object,default(){return{}}},superOptions:{type:Object,default(){return{headers:[],modelFields:[],displayMapField:!1,model:{},canEdit:!1,currentParentRecord:{},user:{}}}}},data(){return{itemData:{},loading:!1}},computed:{placeFieldsWithFieldNames(){let e=[];if(this.superOptions.modelFields.find(a=>a.usageType=="mapName"))for(const a of be.mapPlaceFields()){const n=this.superOptions.modelFields.find(l=>l.usageType==a.flag);n&&e.push({...a,fieldNames:n.name})}return e}},methods:{cancel(){this.$emit("cancel")},editItemSubmit(){this.$refs.editForm.validate()&&this.$emit("submit")},setDefaultForEndTime(e){const t=this.superOptions.modelFields.find(a=>a.usageType=="timeRangeEnd");this.itemData[t.name]=Q(e).add(2,"hours").toISOString()},async upsertAndGetEntityIds(e){},async searchGooglePlace(e){}},mounted(){this.itemData=this.modelValue,this.superOptions.modelFields.find(e=>e.usageType=="relForeignKeyCreatorType")},watch:{}};function jr(e,t,a,n,l,o){const i=G("SuperSelect"),r=G("RelationComponent"),u=G("DateAndTimeRangePicker"),d=G("DateAndTimePicker"),f=G("SearchGooglePlace");return w(),N(we,null,{default:x(()=>[s(at,null,{default:x(()=>[le(ke(a.title),1)]),_:1}),s(Fe,null,{default:x(()=>[s(bo,{ref:"editForm"},{default:x(()=>[(w(!0),I(Y,null,ge(a.superOptions.modelFields,c=>(w(),I("div",{key:c.name},[c.dataType==="uid"?(w(),I(Y,{key:0},[],64)):c.usageType.startsWith("rel")?(w(),I(Y,{key:1},[c.usageType.startsWith("relLookup")?(w(),I(Y,{key:0},[],64)):c.usageType.startsWith("relForeignKeyNormal")?(w(),N(i,{key:1,modelField:c,modelValue:l.itemData[c.name],"onUpdate:modelValue":m=>l.itemData[c.name]=m,model:c.meta.relatedModel,variant:"underlined",density:"default",user:a.superOptions.user},null,8,["modelField","modelValue","onUpdate:modelValue","model","user"])):c.usageType.startsWith("relForeignKeyMapExtraRel")?(w(),N(r,{key:2,configs:c,modelValue:l.itemData[c.name],"onUpdate:modelValue":m=>l.itemData[c.name]=m,readonly:""},null,8,["configs","modelValue","onUpdate:modelValue"])):c.usageType=="relForeignKeyOwnerAppliedToProviderType"?(w(),N(i,{key:3,modelField:c,modelValue:l.itemData[c.name],"onUpdate:modelValue":m=>l.itemData[c.name]=m,model:c.meta.relatedModel,readonly:"",variant:"underlined",density:"default",user:a.superOptions.user},null,8,["modelField","modelValue","onUpdate:modelValue","model","user"])):c.usageType.startsWith("relChildren")?(w(),I(Y,{key:4},[],64)):(w(),N(r,{key:5,configs:c,modelValue:l.itemData[c.name],"onUpdate:modelValue":m=>l.itemData[c.name]=m},null,8,["configs","modelValue","onUpdate:modelValue"]))],64)):c.usageType=="timeRangeType"?(w(),N(u,{key:2,label:c.label,modelValue:l.itemData[c.name],"onUpdate:modelValue":m=>l.itemData[c.name]=m,rules:c.meta.rules},null,8,["label","modelValue","onUpdate:modelValue","rules"])):c.usageType=="timeRangeStart"?(w(),N(d,{key:3,label:c.label,modelValue:l.itemData[c.name],"onUpdate:modelValue":[m=>l.itemData[c.name]=m,o.setDefaultForEndTime],rules:c.meta.rules},null,8,["label","modelValue","onUpdate:modelValue","rules"])):c.usageType=="timeRangeEnd"?(w(),N(d,{key:4,label:c.label,modelValue:l.itemData[c.name],"onUpdate:modelValue":m=>l.itemData[c.name]=m,rules:c.meta.rules},null,8,["label","modelValue","onUpdate:modelValue","rules"])):c.usageType=="timestampType"?(w(),N(d,{key:5,label:c.label,modelValue:l.itemData[c.name],"onUpdate:modelValue":m=>l.itemData[c.name]=m,rules:c.meta.rules},null,8,["label","modelValue","onUpdate:modelValue","rules"])):c.usageType=="readOnlyTimestampType"?(w(),N(d,{key:6,label:c.label,modelValue:l.itemData[c.name],"onUpdate:modelValue":m=>l.itemData[c.name]=m,rules:c.meta.rules,disabled:""},null,8,["label","modelValue","onUpdate:modelValue","rules"])):c.usageType==="mapName"?(w(),N(f,{key:7,configs:c,modelValue:l.itemData[c.name],"onUpdate:modelValue":m=>l.itemData[c.name]=m,onChange:o.searchGooglePlace},null,8,["configs","modelValue","onUpdate:modelValue","onChange"])):c.usageType.startsWith("mapExtra")?(w(),N(ve,{key:8,label:c.label,modelValue:l.itemData[c.name],"onUpdate:modelValue":m=>l.itemData[c.name]=m,rules:c.meta.rules,disabled:"",style:{display:"none"},variant:"underlined"},null,8,["label","modelValue","onUpdate:modelValue","rules"])):c.usageType=="normal"?(w(),I(Y,{key:9},[c.dataType==="string"?(w(),N(ve,{key:0,label:c.label,modelValue:l.itemData[c.name],"onUpdate:modelValue":m=>l.itemData[c.name]=m,rules:c.meta.rules,variant:"underlined"},null,8,["label","modelValue","onUpdate:modelValue","rules"])):c.dataType==="boolean"?(w(),N(Mr,{key:1,label:c.label,modelValue:l.itemData[c.name],"onUpdate:modelValue":m=>l.itemData[c.name]=m,rules:c.meta.rules},null,8,["label","modelValue","onUpdate:modelValue","rules"])):c.dataType==="number"?(w(),N(ve,{key:2,label:c.label,modelValue:l.itemData[c.name],"onUpdate:modelValue":m=>l.itemData[c.name]=m,rules:c.meta.rules,type:"number",variant:"underlined"},null,8,["label","modelValue","onUpdate:modelValue","rules"])):c.dataType==="attr"?(w(),N(ve,{key:3,label:c.label,modelValue:l.itemData[c.name],"onUpdate:modelValue":m=>l.itemData[c.name]=m,rules:c.meta.rules,variant:"underlined"},null,8,["label","modelValue","onUpdate:modelValue","rules"])):ie("",!0)],64)):(w(),N(ve,{key:10,label:c.label,modelValue:l.itemData[c.name],"onUpdate:modelValue":m=>l.itemData[c.name]=m,rules:c.meta.rules,variant:"underlined"},null,8,["label","modelValue","onUpdate:modelValue","rules"]))]))),128))]),_:1},512)]),_:1}),s(Re,null,{default:x(()=>[s($,{onClick:o.cancel},{default:x(()=>[le("Cancel")]),_:1},8,["onClick"]),s($,{onClick:o.editItemSubmit,disabled:l.loading},{default:x(()=>[le("Save")]),_:1},8,["onClick","disabled"])]),_:1})]),_:1})}const ba=me(Kr,[["render",jr]]),Il=z({...Ie(),...kl()},"VExpansionPanelText"),ea=te()({name:"VExpansionPanelText",props:Il(),setup(e,t){let{slots:a}=t;const n=Se(lt);if(!n)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:l,onAfterLeave:o}=wl(e,n.isSelected);return ne(()=>s(Nn,{onAfterLeave:o},{default:()=>{var i;return[Ue(s("div",{class:["v-expansion-panel-text",e.class],style:e.style},[a.default&&l.value&&s("div",{class:"v-expansion-panel-text__wrapper"},[(i=a.default)==null?void 0:i.call(a)])]),[[al,n.isSelected.value]])]}})),{}}}),Rl=z({color:String,expandIcon:{type:Ve,default:"$expand"},collapseIcon:{type:Ve,default:"$collapse"},hideActions:Boolean,focusable:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...Ie()},"VExpansionPanelTitle"),ta=te()({name:"VExpansionPanelTitle",directives:{Ripple:nl},props:Rl(),setup(e,t){let{slots:a}=t;const n=Se(lt);if(!n)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:l,backgroundColorStyles:o}=Ge(e,"color"),i=V(()=>({collapseIcon:e.collapseIcon,disabled:n.disabled.value,expanded:n.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly}));return ne(()=>{var r;return Ue(s("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":n.isSelected.value,"v-expansion-panel-title--focusable":e.focusable,"v-expansion-panel-title--static":e.static},l.value,e.class],style:[o.value,e.style],type:"button",tabindex:n.disabled.value?-1:void 0,disabled:n.disabled.value,"aria-expanded":n.isSelected.value,onClick:e.readonly?void 0:n.toggle},[s("span",{class:"v-expansion-panel-title__overlay"},null),(r=a.default)==null?void 0:r.call(a,i.value),!e.hideActions&&s("span",{class:"v-expansion-panel-title__icon"},[a.actions?a.actions(i.value):s(Be,{icon:n.isSelected.value?e.collapseIcon:e.expandIcon},null)])]),[[Mt("ripple"),e.ripple]])}),{}}}),El=z({title:String,text:String,bgColor:String,...rl(),...Hn(),...il(),...ca(),...Rl(),...Il()},"VExpansionPanel"),Gr=te()({name:"VExpansionPanel",props:El(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:a}=t;const n=Yn(e,lt),{backgroundColorClasses:l,backgroundColorStyles:o}=Ge(e,"bgColor"),{elevationClasses:i}=Un(e),{roundedClasses:r}=zn(e),u=V(()=>(n==null?void 0:n.disabled.value)||e.disabled),d=V(()=>n.group.items.value.reduce((m,h,b)=>(n.group.selected.value.includes(h.id)&&m.push(b),m),[])),f=V(()=>{const m=n.group.items.value.findIndex(h=>h.id===n.id);return!n.isSelected.value&&d.value.some(h=>h-m===1)}),c=V(()=>{const m=n.group.items.value.findIndex(h=>h.id===n.id);return!n.isSelected.value&&d.value.some(h=>h-m===-1)});return Ce(lt,n),ne(()=>{const m=!!(a.text||e.text),h=!!(a.title||e.title),b=ta.filterProps(e),v=ea.filterProps(e);return s(e.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":n.isSelected.value,"v-expansion-panel--before-active":f.value,"v-expansion-panel--after-active":c.value,"v-expansion-panel--disabled":u.value},r.value,l.value,e.class],style:[o.value,e.style]},{default:()=>{var p;return[s("div",{class:["v-expansion-panel__shadow",...i.value]},null),h&&s(ta,B({key:"title"},b),{default:()=>[a.title?a.title():e.title]}),m&&s(ea,B({key:"text"},v),{default:()=>[a.text?a.text():e.text]}),(p=a.default)==null?void 0:p.call(a)]}})}),{}}}),lt=Symbol.for("vuetify:v-expansion-panel"),qr=["default","accordion","inset","popout"],Zr=z({flat:Boolean,...Wn(),...El(),...rt(),variant:{type:String,default:"default",validator:e=>qr.includes(e)}},"VExpansionPanels"),Jr=te()({name:"VExpansionPanels",props:Zr(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;Kn(e,lt);const{themeClasses:n}=Ct(e),l=V(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return ze({VExpansionPanel:{bgColor:U(e,"bgColor"),collapseIcon:U(e,"collapseIcon"),color:U(e,"color"),eager:U(e,"eager"),elevation:U(e,"elevation"),expandIcon:U(e,"expandIcon"),focusable:U(e,"focusable"),hideActions:U(e,"hideActions"),readonly:U(e,"readonly"),ripple:U(e,"ripple"),rounded:U(e,"rounded"),static:U(e,"static")}}),ne(()=>s(e.tag,{class:["v-expansion-panels",{"v-expansion-panels--flat":e.flat,"v-expansion-panels--tile":e.tile},n.value,l.value,e.class],style:e.style},a)),{}}}),Xr={name:"DestructableExpansionPanels",props:{destroy:{type:Boolean,default(){return!1}},title:{type:String,default(){return""}}}};function Qr(e,t,a,n,l,o){return w(),I("div",null,[a.destroy?Ne(e.$slots,"default",{key:0}):(w(),N(Jr,{key:1},{default:x(()=>[s(Gr,null,{default:x(()=>[s(ta,null,{default:x(()=>[le(ke(a.title),1)]),_:1}),s(ea,null,{default:x(()=>[Ne(e.$slots,"default")]),_:3})]),_:3})]),_:3}))])}const $r=me(Xr,[["render",Qr]]),ei={name:"FormattedColumn",components:{CreateEditForm:ba},props:{isTag:{type:Boolean,default(){return!1}},header:{type:Object,default(){return{}}},item:{type:Object,default(){return{}}},superOptions:{type:Object,default(){return{headers:[],modelFields:[],displayMapField:!1,model:{},canEdit:!1,currentParentRecord:{},user:{}}}}},data(){return{deleteItemData:{showModal:!1,data:null},editItemData:{showModal:!1,data:null}}},computed:{},methods:{clickParent(e,t){const a=t.meta.relatedModel;a.openRecord(e[a.primaryKey])},truncateStr(e){let t="";return e&&(t=e.length>40?e.substring(0,40)+"...":e),t},disabled(){var t;let e=!1;return(t=this.superOptions.model.rules)!=null&&t.editable&&(e=this.superOptions.model.rules.editable(this.superOptions.user,this.item)),!e},deleteItem(e){this.deleteItemData.data=e,this.deleteItemData.showModal=!0},deleteItemSubmit(){this.superOptions.model.Delete(this.deleteItemData.data.id).then(()=>{this.fetchData()}),this.deleteItemData.showModal=!1},editItem(e){this.editItemData.data={...e},this.editItemData.showModal=!0},editItemSubmit(){const e=be.preparePayload(this.editItemData.data,this.superOptions.modelFields);this.superOptions.model.Update(e).then(()=>{this.fetchData()}),this.editItemData.showModal=!1},formatTimestamp(e){return e?sl.tz(e,"YYYY-MM-DDTHH:mm:ss.SSSSSSZ","UTC").tz("Africa/Johannesburg").format("dddd, MMMM D, YYYY h:mm A"):null}}},ti={key:3,style:{"min-height":"32px"}},ai=["title"];function li(e,t,a,n,l,o){var r,u;const i=G("CreateEditForm");return w(),I("div",null,[a.header.usageType.startsWith("relChildren")?(w(),I(Y,{key:0},[],64)):a.header.usageType=="readOnlyTimestampType"||a.header.usageType=="timestampType"||a.header.usageType=="timeRangeStart"||a.header.usageType=="timeRangeEnd"?(w(),I(Y,{key:1},[le(ke(o.formatTimestamp(a.item[a.header.key])),1)],64)):a.header.usageType=="actions"?(w(),I(Y,{key:2},[de("div",{onClick:t[2]||(t[2]=Le(()=>{},["stop"])),style:ma(o.disabled()?"cursor: default;":"")},[s($,{onClick:t[0]||(t[0]=Le(d=>o.editItem(a.item),["stop"])),disabled:o.disabled(),color:"grey",icon:"mdi-pencil",variant:"plain",height:"36px",width:"36px"},null,8,["disabled"]),s($,{onClick:t[1]||(t[1]=Le(d=>o.deleteItem(a.item),["stop"])),disabled:o.disabled(),color:"grey",icon:"mdi-delete",variant:"plain",height:"36px",width:"36px"},null,8,["disabled"])],4),a.superOptions.canEdit?(w(),I(Y,{key:0},[s(ye,{modelValue:l.editItemData.showModal,"onUpdate:modelValue":t[5]||(t[5]=d=>l.editItemData.showModal=d),"max-width":"800px",scrollable:""},{default:x(()=>[l.editItemData.showModal?(w(),N(i,{key:0,title:"Edit Item",modelValue:l.editItemData.data,"onUpdate:modelValue":t[3]||(t[3]=d=>l.editItemData.data=d),onSubmit:o.editItemSubmit,onCancel:t[4]||(t[4]=d=>l.editItemData.showModal=!1),superOptions:a.superOptions},null,8,["modelValue","onSubmit","superOptions"])):ie("",!0)]),_:1},8,["modelValue"]),s(ye,{modelValue:l.deleteItemData.showModal,"onUpdate:modelValue":t[7]||(t[7]=d=>l.deleteItemData.showModal=d),"max-width":"600px"},{default:x(()=>[s(we,null,{default:x(()=>[s(at,null,{default:x(()=>[le(" Delete Item ")]),_:1}),s(Fe,null,{default:x(()=>[le(" Delete item? ")]),_:1}),s(Re,null,{default:x(()=>[s($,{onClick:t[6]||(t[6]=d=>l.deleteItemData.showModal=!1)},{default:x(()=>[le("Cancel")]),_:1}),s($,{onClick:o.deleteItemSubmit},{default:x(()=>[le("Delete")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)):ie("",!0)],64)):a.header.usageType.startsWith("relLookup")?(w(),I("div",ti,[(u=(r=a.item)==null?void 0:r[a.header.key])!=null&&u[a.header.meta.lookupDisplayField]?(w(),N(pt,{key:0,onClick:t[8]||(t[8]=Le(d=>{var f;return o.clickParent((f=a.item)==null?void 0:f[a.header.key],a.header)},["stop"]))},{default:x(()=>{var d,f;return[le(ke((f=(d=a.item)==null?void 0:d[a.header.key])==null?void 0:f[a.header.meta.lookupDisplayField]),1)]}),_:1})):ie("",!0)])):(w(),I(Y,{key:4},[a.isTag?(w(),I(Y,{key:0},[a.isTag?(w(),N(pt,{key:0,onClick:t[9]||(t[9]=Le(d=>o.clickParent(a.item),["stop"]))},{default:x(()=>[le(ke(a.item[a.header.key]),1)]),_:1})):ie("",!0)],64)):(w(),I("div",{key:1,title:a.item[a.header.key]},ke(o.truncateStr(a.item[a.header.key])),9,ai))],64))])}const ut=me(ei,[["render",li]]);function ni(){const e=q([]);jn(()=>e.value=[]);function t(a,n){e.value[n]=a}return{refs:e,updateRef:t}}const oi=z({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:Ve,default:"$first"},prevIcon:{type:Ve,default:"$prev"},nextIcon:{type:Ve,default:"$next"},lastIcon:{type:Ve,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...Gn(),...Ie(),...ua(),...rl(),...il(),...qn(),...ca({tag:"nav"}),...rt(),...Zn({variant:"text"})},"VPagination"),Ga=te()({name:"VPagination",props:oi(),emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,t){let{slots:a,emit:n}=t;const l=ue(e,"modelValue"),{t:o,n:i}=He(),{isRtl:r}=$a(),{themeClasses:u}=Ct(e),{width:d}=je(),f=se(-1);ze(void 0,{scoped:!0});const{resizeRef:c}=da(T=>{if(!T.length)return;const{target:k,contentRect:O}=T[0],S=k.querySelector(".v-pagination__list > *");if(!S)return;const F=O.width,_=S.offsetWidth+parseFloat(getComputedStyle(S).marginRight)*2;f.value=v(F,_)}),m=V(()=>parseInt(e.length,10)),h=V(()=>parseInt(e.start,10)),b=V(()=>e.totalVisible!=null?parseInt(e.totalVisible,10):f.value>=0?f.value:v(d.value,58));function v(T,k){const O=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(+((T-k*O)/k).toFixed(2)))}const p=V(()=>{if(m.value<=0||isNaN(m.value)||m.value>Number.MAX_SAFE_INTEGER)return[];if(b.value<=0)return[];if(b.value===1)return[l.value];if(m.value<=b.value)return Ye(m.value,h.value);const T=b.value%2===0,k=T?b.value/2:Math.floor(b.value/2),O=T?k:k+1,S=m.value-k;if(O-l.value>=0)return[...Ye(Math.max(1,b.value-1),h.value),e.ellipsis,m.value];if(l.value-S>=(T?1:0)){const F=b.value-1,_=m.value-F+h.value;return[h.value,e.ellipsis,...Ye(F,_)]}else{const F=Math.max(1,b.value-3),_=F===1?l.value:l.value-Math.ceil(F/2)+h.value;return[h.value,e.ellipsis,...Ye(F,_),e.ellipsis,m.value]}});function g(T,k,O){T.preventDefault(),l.value=k,O&&n(O,k)}const{refs:y,updateRef:M}=ni();ze({VPaginationBtn:{color:U(e,"color"),border:U(e,"border"),density:U(e,"density"),size:U(e,"size"),variant:U(e,"variant"),rounded:U(e,"rounded"),elevation:U(e,"elevation")}});const L=V(()=>p.value.map((T,k)=>{const O=S=>M(S,k);if(typeof T=="string")return{isActive:!1,key:`ellipsis-${k}`,page:T,props:{ref:O,ellipsis:!0,icon:!0,disabled:!0}};{const S=T===l.value;return{isActive:S,key:T,page:i(T),props:{ref:O,ellipsis:!1,icon:!0,disabled:!!e.disabled||+e.length<2,color:S?e.activeColor:e.color,"aria-current":S,"aria-label":o(S?e.currentPageAriaLabel:e.pageAriaLabel,T),onClick:F=>g(F,T)}}}})),R=V(()=>{const T=!!e.disabled||l.value<=h.value,k=!!e.disabled||l.value>=h.value+m.value-1;return{first:e.showFirstLastPage?{icon:r.value?e.lastIcon:e.firstIcon,onClick:O=>g(O,h.value,"first"),disabled:T,"aria-label":o(e.firstAriaLabel),"aria-disabled":T}:void 0,prev:{icon:r.value?e.nextIcon:e.prevIcon,onClick:O=>g(O,l.value-1,"prev"),disabled:T,"aria-label":o(e.previousAriaLabel),"aria-disabled":T},next:{icon:r.value?e.prevIcon:e.nextIcon,onClick:O=>g(O,l.value+1,"next"),disabled:k,"aria-label":o(e.nextAriaLabel),"aria-disabled":k},last:e.showFirstLastPage?{icon:r.value?e.firstIcon:e.lastIcon,onClick:O=>g(O,h.value+m.value-1,"last"),disabled:k,"aria-label":o(e.lastAriaLabel),"aria-disabled":k}:void 0}});function j(){var k;const T=l.value-h.value;(k=y.value[T])==null||k.$el.focus()}function P(T){T.key===Ma.left&&!e.disabled&&l.value>+e.start?(l.value=l.value-1,pe(j)):T.key===Ma.right&&!e.disabled&&l.value<h.value+m.value-1&&(l.value=l.value+1,pe(j))}return ne(()=>s(e.tag,{ref:c,class:["v-pagination",u.value,e.class],style:e.style,role:"navigation","aria-label":o(e.ariaLabel),onKeydown:P,"data-test":"v-pagination-root"},{default:()=>[s("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&s("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[a.first?a.first(R.value.first):s($,B({_as:"VPaginationBtn"},R.value.first),null)]),s("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[a.prev?a.prev(R.value.prev):s($,B({_as:"VPaginationBtn"},R.value.prev),null)]),L.value.map((T,k)=>s("li",{key:T.key,class:["v-pagination__item",{"v-pagination__item--is-active":T.isActive}],"data-test":"v-pagination-item"},[a.item?a.item(T):s($,B({_as:"VPaginationBtn"},T.props),{default:()=>[T.page]})])),s("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[a.next?a.next(R.value.next):s($,B({_as:"VPaginationBtn"},R.value.next),null)]),e.showFirstLastPage&&s("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[a.last?a.last(R.value.last):s($,B({_as:"VPaginationBtn"},R.value.last),null)])])]})),{}}}),Al=z({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),Bl=Symbol.for("vuetify:data-table-pagination");function Ll(e){const t=ue(e,"page",void 0,n=>+(n??1)),a=ue(e,"itemsPerPage",void 0,n=>+(n??10));return{page:t,itemsPerPage:a}}function Nl(e){const{page:t,itemsPerPage:a,itemsLength:n}=e,l=V(()=>a.value===-1?0:a.value*(t.value-1)),o=V(()=>a.value===-1?n.value:Math.min(n.value,l.value+a.value)),i=V(()=>a.value===-1||n.value===0?1:Math.ceil(n.value/a.value));De(()=>{t.value>i.value&&(t.value=i.value)});function r(m){a.value=m,t.value=1}function u(){t.value=_e(t.value+1,1,i.value)}function d(){t.value=_e(t.value-1,1,i.value)}function f(m){t.value=_e(m,1,i.value)}const c={page:t,itemsPerPage:a,startIndex:l,stopIndex:o,pageCount:i,itemsLength:n,nextPage:u,prevPage:d,setPage:f,setItemsPerPage:r};return Ce(Bl,c),c}function ri(){const e=Se(Bl);if(!e)throw new Error("Missing pagination!");return e}function ii(e){const t=nt("usePaginatedItems"),{items:a,startIndex:n,stopIndex:l,itemsPerPage:o}=e,i=V(()=>o.value<=0?a.value:a.value.slice(n.value,l.value));return ae(i,r=>{t.emit("update:currentItems",r)}),{paginatedItems:i}}const ka=z({prevIcon:{type:String,default:"$prev"},nextIcon:{type:String,default:"$next"},firstIcon:{type:String,default:"$first"},lastIcon:{type:String,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),xt=te()({name:"VDataTableFooter",props:ka(),setup(e,t){let{slots:a}=t;const{t:n}=He(),{page:l,pageCount:o,startIndex:i,stopIndex:r,itemsLength:u,itemsPerPage:d,setItemsPerPage:f}=ri(),c=V(()=>e.itemsPerPageOptions.map(m=>typeof m=="number"?{value:m,title:m===-1?n("$vuetify.dataFooter.itemsPerPageAll"):String(m)}:{...m,title:isNaN(Number(m.title))?n(m.title):m.title}));return ne(()=>{var h;const m=Ga.filterProps(e);return s("div",{class:"v-data-table-footer"},[(h=a.prepend)==null?void 0:h.call(a),s("div",{class:"v-data-table-footer__items-per-page"},[s("span",null,[n(e.itemsPerPageText)]),s(Me,{items:c.value,modelValue:d.value,"onUpdate:modelValue":b=>f(Number(b)),density:"compact",variant:"outlined","hide-details":!0},null)]),s("div",{class:"v-data-table-footer__info"},[s("div",null,[n(e.pageText,u.value?i.value+1:0,r.value,u.value)])]),s("div",{class:"v-data-table-footer__pagination"},[s(Ga,B({modelValue:l.value,"onUpdate:modelValue":b=>l.value=b,density:"comfortable","first-aria-label":e.firstPageLabel,"last-aria-label":e.lastPageLabel,length:o.value,"next-aria-label":e.nextPageLabel,"previous-aria-label":e.prevPageLabel,rounded:!0,"show-first-last-page":!0,"total-visible":e.showCurrentPage?1:0,variant:"plain"},m),null)])])}),{}}}),Vt=Jn({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String],maxWidth:[Number,String],nowrap:Boolean},(e,t)=>{let{slots:a}=t;const n=e.tag??"td";return s(n,{class:["v-data-table__td",{"v-data-table-column--fixed":e.fixed,"v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--no-padding":e.noPadding,"v-data-table-column--nowrap":e.nowrap},`v-data-table-column--align-${e.align}`],style:{height:re(e.height),width:re(e.width),maxWidth:re(e.maxWidth),left:re(e.fixedOffset||null)}},{default:()=>{var l;return[(l=a.default)==null?void 0:l.call(a)]}})}),si=z({headers:Array},"DataTable-header"),Hl=Symbol.for("vuetify:data-table-headers"),Yl={title:"",sortable:!1},ui={...Yl,width:48};function di(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(a=>({element:a,priority:0}));return{enqueue:(a,n)=>{let l=!1;for(let o=0;o<t.length;o++)if(t[o].priority>n){t.splice(o,0,{element:a,priority:n}),l=!0;break}l||t.push({element:a,priority:n})},size:()=>t.length,count:()=>{let a=0;if(!t.length)return 0;const n=Math.floor(t[0].priority);for(let l=0;l<t.length;l++)Math.floor(t[l].priority)===n&&(a+=1);return a},dequeue:()=>t.shift()}}function aa(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e.children)t.push(e);else for(const a of e.children)aa(a,t);return t}function Ul(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const a of e)a.key&&t.add(a.key),a.children&&Ul(a.children,t);return t}function ci(e){if(e.key){if(e.key==="data-table-group")return Yl;if(["data-table-expand","data-table-select"].includes(e.key))return ui}}function wa(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.children?Math.max(t,...e.children.map(a=>wa(a,t+1))):t}function mi(e){let t=!1;function a(o){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(o)if(i&&(o.fixed=!0),o.fixed)if(o.children)for(let r=o.children.length-1;r>=0;r--)a(o.children[r],!0);else t?isNaN(+o.width)&&Qn(`Multiple fixed columns should have a static width (key: ${o.key})`):o.lastFixed=!0,t=!0;else if(o.children)for(let r=o.children.length-1;r>=0;r--)a(o.children[r]);else t=!1}for(let o=e.length-1;o>=0;o--)a(e[o]);function n(o){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!o)return i;if(o.children){o.fixedOffset=i;for(const r of o.children)i=n(r,i)}else o.fixed&&(o.fixedOffset=i,i+=parseFloat(o.width||"0")||0);return i}let l=0;for(const o of e)l=n(o,l)}function fi(e,t){const a=[];let n=0;const l=di(e);for(;l.size()>0;){let i=l.count();const r=[];let u=1;for(;i>0;){const{element:d,priority:f}=l.dequeue(),c=t-n-wa(d);if(r.push({...d,rowspan:c??1,colspan:d.children?aa(d).length:1}),d.children)for(const m of d.children){const h=f%1+u/Math.pow(10,n+2);l.enqueue(m,n+c+h)}u+=1,i-=1}n+=1,a.push(r)}return{columns:e.map(i=>aa(i)).flat(),headers:a}}function zl(e){const t=[];for(const a of e){const n={...ci(a),...a},l=n.key??(typeof n.value=="string"?n.value:null),o=n.value??l??null,i={...n,key:l,value:o,sortable:n.sortable??(n.key!=null||!!n.sort),children:n.children?zl(n.children):void 0};t.push(i)}return t}function Wl(e,t){const a=q([]),n=q([]),l=q({}),o=q({}),i=q({});De(()=>{var v,p,g;const d=(e.headers||Object.keys(e.items[0]??{}).map(y=>({key:y,title:Xn(y)}))).slice(),f=Ul(d);(v=t==null?void 0:t.groupBy)!=null&&v.value.length&&!f.has("data-table-group")&&d.unshift({key:"data-table-group",title:"Group"}),(p=t==null?void 0:t.showSelect)!=null&&p.value&&!f.has("data-table-select")&&d.unshift({key:"data-table-select"}),(g=t==null?void 0:t.showExpand)!=null&&g.value&&!f.has("data-table-expand")&&d.push({key:"data-table-expand"});const c=zl(d);mi(c);const m=Math.max(...c.map(y=>wa(y)))+1,h=fi(c,m);a.value=h.headers,n.value=h.columns;const b=h.headers.flat(1);for(const y of b)y.key&&(y.sortable&&(y.sort&&(l.value[y.key]=y.sort),y.sortRaw&&(o.value[y.key]=y.sortRaw)),y.filter&&(i.value[y.key]=y.filter))});const r={headers:a,columns:n,sortFunctions:l,sortRawFunctions:o,filterFunctions:i};return Ce(Hl,r),r}function It(){const e=Se(Hl);if(!e)throw new Error("Missing headers!");return e}const vi={showSelectAll:!1,allSelected:()=>[],select:e=>{var n;let{items:t,value:a}=e;return new Set(a?[(n=t[0])==null?void 0:n.value]:[])},selectAll:e=>{let{selected:t}=e;return t}},Kl={showSelectAll:!0,allSelected:e=>{let{currentPage:t}=e;return t},select:e=>{let{items:t,value:a,selected:n}=e;for(const l of t)a?n.add(l.value):n.delete(l.value);return n},selectAll:e=>{let{value:t,currentPage:a,selected:n}=e;return Kl.select({items:a,value:t,selected:n})}},jl={showSelectAll:!0,allSelected:e=>{let{allItems:t}=e;return t},select:e=>{let{items:t,value:a,selected:n}=e;for(const l of t)a?n.add(l.value):n.delete(l.value);return n},selectAll:e=>{let{value:t,allItems:a,selected:n}=e;return jl.select({items:a,value:t,selected:n})}},hi=z({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:sa}},"DataTable-select"),Gl=Symbol.for("vuetify:data-table-selection");function ql(e,t){let{allItems:a,currentPage:n}=t;const l=ue(e,"modelValue",e.modelValue,g=>new Set(Pe(g).map(y=>{var M;return((M=a.value.find(L=>e.valueComparator(y,L.value)))==null?void 0:M.value)??y})),g=>[...g.values()]),o=V(()=>a.value.filter(g=>g.selectable)),i=V(()=>n.value.filter(g=>g.selectable)),r=V(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return vi;case"all":return jl;case"page":default:return Kl}});function u(g){return Pe(g).every(y=>l.value.has(y.value))}function d(g){return Pe(g).some(y=>l.value.has(y.value))}function f(g,y){const M=r.value.select({items:g,value:y,selected:new Set(l.value)});l.value=M}function c(g){f([g],!u([g]))}function m(g){const y=r.value.selectAll({value:g,allItems:o.value,currentPage:i.value,selected:new Set(l.value)});l.value=y}const h=V(()=>l.value.size>0),b=V(()=>{const g=r.value.allSelected({allItems:o.value,currentPage:i.value});return!!g.length&&u(g)}),v=V(()=>r.value.showSelectAll),p={toggleSelect:c,select:f,selectAll:m,isSelected:u,isSomeSelected:d,someSelected:h,allSelected:b,showSelectAll:v};return Ce(Gl,p),p}function Rt(){const e=Se(Gl);if(!e)throw new Error("Missing selection!");return e}const yi=z({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),Zl=Symbol.for("vuetify:data-table-sort");function Jl(e){const t=ue(e,"sortBy"),a=U(e,"mustSort"),n=U(e,"multiSort");return{sortBy:t,mustSort:a,multiSort:n}}function Xl(e){const{sortBy:t,mustSort:a,multiSort:n,page:l}=e,o=u=>{if(u.key==null)return;let d=t.value.map(c=>({...c}))??[];const f=d.find(c=>c.key===u.key);f?f.order==="desc"?a.value?f.order="asc":d=d.filter(c=>c.key!==u.key):f.order="desc":n.value?d=[...d,{key:u.key,order:"asc"}]:d=[{key:u.key,order:"asc"}],t.value=d,l&&(l.value=1)};function i(u){return!!t.value.find(d=>d.key===u.key)}const r={sortBy:t,toggleSort:o,isSorted:i};return Ce(Zl,r),r}function Ql(){const e=Se(Zl);if(!e)throw new Error("Missing sort!");return e}function gi(e,t,a,n){const l=He();return{sortedItems:V(()=>{var i,r;return a.value.length?pi(t.value,a.value,l.current.value,{transform:n==null?void 0:n.transform,sortFunctions:{...e.customKeySort,...(i=n==null?void 0:n.sortFunctions)==null?void 0:i.value},sortRawFunctions:(r=n==null?void 0:n.sortRawFunctions)==null?void 0:r.value}):t.value})}}function pi(e,t,a,n){const l=new Intl.Collator(a,{sensitivity:"accent",usage:"sort"});return e.map(i=>[i,n!=null&&n.transform?n.transform(i):i]).sort((i,r)=>{var u,d;for(let f=0;f<t.length;f++){let c=!1;const m=t[f].key,h=t[f].order??"asc";if(h===!1)continue;let b=i[1][m],v=r[1][m],p=i[0].raw,g=r[0].raw;if(h==="desc"&&([b,v]=[v,b],[p,g]=[g,p]),(u=n==null?void 0:n.sortRawFunctions)!=null&&u[m]){const y=n.sortRawFunctions[m](p,g);if(y==null)continue;if(c=!0,y)return y}if((d=n==null?void 0:n.sortFunctions)!=null&&d[m]){const y=n.sortFunctions[m](b,v);if(y==null)continue;if(c=!0,y)return y}if(!c){if(b instanceof Date&&v instanceof Date)return b.getTime()-v.getTime();if([b,v]=[b,v].map(y=>y!=null?y.toString().toLocaleLowerCase():y),b!==v)return ft(b)&&ft(v)?0:ft(b)?-1:ft(v)?1:!isNaN(b)&&!isNaN(v)?Number(b)-Number(v):l.compare(b,v)}}return 0}).map(i=>{let[r]=i;return r})}const $l=z({color:String,sticky:Boolean,multiSort:Boolean,sortAscIcon:{type:Ve,default:"$sortAsc"},sortDescIcon:{type:Ve,default:"$sortDesc"},headerProps:{type:Object},...fa(),...$n()},"VDataTableHeaders"),Pt=te()({name:"VDataTableHeaders",props:$l(),setup(e,t){let{slots:a}=t;const{t:n}=He(),{toggleSort:l,sortBy:o,isSorted:i}=Ql(),{someSelected:r,allSelected:u,selectAll:d,showSelectAll:f}=Rt(),{columns:c,headers:m}=It(),{loaderClasses:h}=eo(e);function b(T,k){if(!(!e.sticky&&!T.fixed))return{position:"sticky",left:T.fixed?re(T.fixedOffset):void 0,top:e.sticky?`calc(var(--v-table-header-height) * ${k})`:void 0}}function v(T){const k=o.value.find(O=>O.key===T.key);return k?k.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:p,backgroundColorStyles:g}=Ge(e,"color"),{displayClasses:y,mobile:M}=je(e),L=V(()=>({headers:m.value,columns:c.value,toggleSort:l,isSorted:i,sortBy:o.value,someSelected:r.value,allSelected:u.value,selectAll:d,getSortIcon:v})),R=V(()=>["v-data-table__th",{"v-data-table__th--sticky":e.sticky},y.value,h.value]),j=T=>{let{column:k,x:O,y:S}=T;const F=k.key==="data-table-select"||k.key==="data-table-expand",_=B(e.headerProps??{},k.headerProps??{});return s(Vt,B({tag:"th",align:k.align,class:[{"v-data-table__th--sortable":k.sortable,"v-data-table__th--sorted":i(k),"v-data-table__th--fixed":k.fixed},...R.value],style:{width:re(k.width),minWidth:re(k.minWidth),maxWidth:re(k.maxWidth),...b(k,S)},colspan:k.colspan,rowspan:k.rowspan,onClick:k.sortable?()=>l(k):void 0,fixed:k.fixed,nowrap:k.nowrap,lastFixed:k.lastFixed,noPadding:F},_),{default:()=>{var K;const E=`header.${k.key}`,W={column:k,selectAll:d,isSorted:i,toggleSort:l,sortBy:o.value,someSelected:r.value,allSelected:u.value,getSortIcon:v};return a[E]?a[E](W):k.key==="data-table-select"?((K=a["header.data-table-select"])==null?void 0:K.call(a,W))??(f.value&&s(Ke,{modelValue:u.value,indeterminate:r.value&&!u.value,"onUpdate:modelValue":d},null)):s("div",{class:"v-data-table-header__content"},[s("span",null,[k.title]),k.sortable&&s(Be,{key:"icon",class:"v-data-table-header__sort-icon",icon:v(k)},null),e.multiSort&&i(k)&&s("div",{key:"badge",class:["v-data-table-header__sort-badge",...p.value],style:g.value},[o.value.findIndex(fe=>fe.key===k.key)+1])])}})},P=()=>{const T=B(e.headerProps??{}??{}),k=V(()=>c.value.filter(S=>S==null?void 0:S.sortable)),O=V(()=>{if(c.value.find(F=>F.key==="data-table-select")!=null)return u.value?"$checkboxOn":r.value?"$checkboxIndeterminate":"$checkboxOff"});return s(Vt,B({tag:"th",class:[...R.value],colspan:m.value.length+1},T),{default:()=>[s("div",{class:"v-data-table-header__content"},[s(Me,{chips:!0,class:"v-data-table__td-sort-select",clearable:!0,density:"default",items:k.value,label:n("$vuetify.dataTable.sortBy"),multiple:e.multiSort,variant:"underlined","onClick:clear":()=>o.value=[],appendIcon:O.value,"onClick:append":()=>d(!u.value)},{...a,chip:S=>{var F;return s(pt,{onClick:(F=S.item.raw)!=null&&F.sortable?()=>l(S.item.raw):void 0,onMousedown:_=>{_.preventDefault(),_.stopPropagation()}},{default:()=>[S.item.title,s(Be,{class:["v-data-table__td-sort-icon",i(S.item.raw)&&"v-data-table__td-sort-icon-active"],icon:v(S.item.raw),size:"small"},null)]})}})])]})};ne(()=>M.value?s("tr",null,[s(P,null,null)]):s(Y,null,[a.headers?a.headers(L.value):m.value.map((T,k)=>s("tr",null,[T.map((O,S)=>s(j,{column:O,x:S,y:k},null))])),e.loading&&s("tr",{class:"v-data-table-progress"},[s("th",{colspan:c.value.length},[s(to,{name:"v-data-table-progress",absolute:!0,active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:a.loader})])])]))}}),bi=z({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),en=Symbol.for("vuetify:data-table-group");function tn(e){return{groupBy:ue(e,"groupBy")}}function an(e){const{groupBy:t,sortBy:a}=e,n=q(new Set),l=V(()=>t.value.map(d=>({...d,order:d.order??!1})).concat(a.value));function o(d){return n.value.has(d.id)}function i(d){const f=new Set(n.value);o(d)?f.delete(d.id):f.add(d.id),n.value=f}function r(d){function f(c){const m=[];for(const h of c.items)"type"in h&&h.type==="group"?m.push(...f(h)):m.push(h);return m}return f({type:"group",items:d,id:"dummy",key:"dummy",value:"dummy",depth:0})}const u={sortByWithGroups:l,toggleGroup:i,opened:n,groupBy:t,extractRows:r,isGroupOpen:o};return Ce(en,u),u}function ln(){const e=Se(en);if(!e)throw new Error("Missing group!");return e}function ki(e,t){if(!e.length)return[];const a=new Map;for(const n of e){const l=ul(n.raw,t);a.has(l)||a.set(l,[]),a.get(l).push(n)}return a}function nn(e,t){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!t.length)return[];const l=ki(e,t[0]),o=[],i=t.slice(1);return l.forEach((r,u)=>{const d=t[0],f=`${n}_${d}_${u}`;o.push({depth:a,id:f,key:d,value:u,items:i.length?nn(r,i,a+1,f):r,type:"group"})}),o}function on(e,t){const a=[];for(const n of e)"type"in n&&n.type==="group"?(n.value!=null&&a.push(n),(t.has(n.id)||n.value==null)&&a.push(...on(n.items,t))):a.push(n);return a}function rn(e,t,a){return{flatItems:V(()=>{if(!t.value.length)return e.value;const l=nn(e.value,t.value.map(o=>o.key));return on(l,a.value)})}}const wi=z({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),xi=te()({name:"VDataTableGroupHeaderRow",props:wi(),setup(e,t){let{slots:a}=t;const{isGroupOpen:n,toggleGroup:l,extractRows:o}=ln(),{isSelected:i,isSomeSelected:r,select:u}=Rt(),{columns:d}=It(),f=V(()=>o([e.item]));return()=>s("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[d.value.map(c=>{var m,h;if(c.key==="data-table-group"){const b=n(e.item)?"$expand":"$next",v=()=>l(e.item);return((m=a["data-table-group"])==null?void 0:m.call(a,{item:e.item,count:f.value.length,props:{icon:b,onClick:v}}))??s(Vt,{class:"v-data-table-group-header-row__column"},{default:()=>[s($,{size:"small",variant:"text",icon:b,onClick:v},null),s("span",null,[e.item.value]),s("span",null,[le("("),f.value.length,le(")")])]})}if(c.key==="data-table-select"){const b=i(f.value),v=r(f.value)&&!b,p=g=>u(f.value,g);return((h=a["data-table-select"])==null?void 0:h.call(a,{props:{modelValue:b,indeterminate:v,"onUpdate:modelValue":p}}))??s("td",null,[s(Ke,{modelValue:b,indeterminate:v,"onUpdate:modelValue":p},null)])}return s("td",null,null)})])}}),Vi=z({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),sn=Symbol.for("vuetify:datatable:expanded");function un(e){const t=U(e,"expandOnClick"),a=ue(e,"expanded",e.expanded,r=>new Set(r),r=>[...r.values()]);function n(r,u){const d=new Set(a.value);u?d.add(r.value):d.delete(r.value),a.value=d}function l(r){return a.value.has(r.value)}function o(r){n(r,!l(r))}const i={expand:n,expanded:a,expandOnClick:t,isExpanded:l,toggleExpand:o};return Ce(sn,i),i}function dn(){const e=Se(sn);if(!e)throw new Error("foo");return e}const Pi=z({index:Number,item:Object,cellProps:[Object,Function],onClick:vt(),onContextmenu:vt(),onDblclick:vt(),...fa()},"VDataTableRow"),Si=te()({name:"VDataTableRow",props:Pi(),setup(e,t){let{slots:a}=t;const{displayClasses:n,mobile:l}=je(e,"v-data-table__tr"),{isSelected:o,toggleSelect:i,someSelected:r,allSelected:u,selectAll:d}=Rt(),{isExpanded:f,toggleExpand:c}=dn(),{toggleSort:m,sortBy:h,isSorted:b}=Ql(),{columns:v}=It();ne(()=>s("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!(e.onClick||e.onContextmenu||e.onDblclick)},n.value],onClick:e.onClick,onContextmenu:e.onContextmenu,onDblclick:e.onDblclick},[e.item&&v.value.map((p,g)=>{const y=e.item,M=`item.${p.key}`,L=`header.${p.key}`,R={index:e.index,item:y.raw,internalItem:y,value:ul(y.columns,p.key),column:p,isSelected:o,toggleSelect:i,isExpanded:f,toggleExpand:c},j={column:p,selectAll:d,isSorted:b,toggleSort:m,sortBy:h.value,someSelected:r.value,allSelected:u.value,getSortIcon:()=>""},P=typeof e.cellProps=="function"?e.cellProps({index:R.index,item:R.item,internalItem:R.internalItem,value:R.value,column:p}):e.cellProps,T=typeof p.cellProps=="function"?p.cellProps({index:R.index,item:R.item,internalItem:R.internalItem,value:R.value}):p.cellProps;return s(Vt,B({align:p.align,class:{"v-data-table__td--expanded-row":p.key==="data-table-expand","v-data-table__td--select-row":p.key==="data-table-select"},fixed:p.fixed,fixedOffset:p.fixedOffset,lastFixed:p.lastFixed,maxWidth:l.value?void 0:p.maxWidth,noPadding:p.key==="data-table-select"||p.key==="data-table-expand",nowrap:p.nowrap,width:l.value?void 0:p.width},P,T),{default:()=>{var O,S,F,_,E;if(a[M]&&!l.value)return(O=a[M])==null?void 0:O.call(a,R);if(p.key==="data-table-select")return((S=a["item.data-table-select"])==null?void 0:S.call(a,R))??s(Ke,{disabled:!y.selectable,modelValue:o([y]),onClick:Le(()=>i(y),["stop"])},null);if(p.key==="data-table-expand")return((F=a["item.data-table-expand"])==null?void 0:F.call(a,R))??s($,{icon:f(y)?"$collapse":"$expand",size:"small",variant:"text",onClick:Le(()=>c(y),["stop"])},null);const k=ke(R.value);return l.value?s(Y,null,[s("div",{class:"v-data-table__td-title"},[((_=a[L])==null?void 0:_.call(a,j))??p.title]),s("div",{class:"v-data-table__td-value"},[((E=a[M])==null?void 0:E.call(a,R))??k])]):k}})})]))}}),cn=z({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function],...fa()},"VDataTableRows"),St=te()({name:"VDataTableRows",inheritAttrs:!1,props:cn(),setup(e,t){let{attrs:a,slots:n}=t;const{columns:l}=It(),{expandOnClick:o,toggleExpand:i,isExpanded:r}=dn(),{isSelected:u,toggleSelect:d}=Rt(),{toggleGroup:f,isGroupOpen:c}=ln(),{t:m}=He(),{mobile:h}=je(e);return ne(()=>{var b,v;return e.loading&&(!e.items.length||n.loading)?s("tr",{class:"v-data-table-rows-loading",key:"loading"},[s("td",{colspan:l.value.length},[((b=n.loading)==null?void 0:b.call(n))??m(e.loadingText)])]):!e.loading&&!e.items.length&&!e.hideNoData?s("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[s("td",{colspan:l.value.length},[((v=n["no-data"])==null?void 0:v.call(n))??m(e.noDataText)])]):s(Y,null,[e.items.map((p,g)=>{var L;if(p.type==="group"){const R={index:g,item:p,columns:l.value,isExpanded:r,toggleExpand:i,isSelected:u,toggleSelect:d,toggleGroup:f,isGroupOpen:c};return n["group-header"]?n["group-header"](R):s(xi,B({key:`group-header_${p.id}`,item:p},Ia(a,":group-header",()=>R)),n)}const y={index:g,item:p.raw,internalItem:p,columns:l.value,isExpanded:r,toggleExpand:i,isSelected:u,toggleSelect:d},M={...y,props:B({key:`item_${p.key??p.index}`,onClick:o.value?()=>{i(p)}:void 0,index:g,item:p,cellProps:e.cellProps,mobile:h.value},Ia(a,":row",()=>y),typeof e.rowProps=="function"?e.rowProps({item:y.item,index:y.index,internalItem:y.internalItem}):e.rowProps)};return s(Y,{key:M.props.key},[n.item?n.item(M):s(Si,M.props,n),r(p)&&((L=n["expanded-row"])==null?void 0:L.call(n,y))])})])}),{}}}),mn=z({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...Ie(),...ua(),...ca(),...rt()},"VTable"),Tt=te()({name:"VTable",props:mn(),setup(e,t){let{slots:a,emit:n}=t;const{themeClasses:l}=Ct(e),{densityClasses:o}=ol(e);return ne(()=>s(e.tag,{class:["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!a.top,"v-table--has-bottom":!!a.bottom,"v-table--hover":e.hover},l.value,o.value,e.class],style:e.style},{default:()=>{var i,r,u;return[(i=a.top)==null?void 0:i.call(a),a.default?s("div",{class:"v-table__wrapper",style:{height:re(e.height)}},[s("table",null,[a.default()])]):(r=a.wrapper)==null?void 0:r.call(a),(u=a.bottom)==null?void 0:u.call(a)]}})),{}}}),Ti=z({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function Di(e,t,a,n){const l=e.returnObject?t:$e(t,e.itemValue),o=$e(t,e.itemSelectable,!0),i=n.reduce((r,u)=>(u.key!=null&&(r[u.key]=$e(t,u.value)),r),{});return{type:"item",key:e.returnObject?$e(t,e.itemValue):l,index:a,value:l,selectable:o,columns:i,raw:t}}function Ci(e,t,a){return t.map((n,l)=>Di(e,n,l,a))}function fn(e,t){return{items:V(()=>Ci(e,e.items,t.value))}}function vn(e){let{page:t,itemsPerPage:a,sortBy:n,groupBy:l,search:o}=e;const i=nt("VDataTable"),r=V(()=>({page:t.value,itemsPerPage:a.value,sortBy:n.value,groupBy:l.value,search:o.value}));let u=null;ae(r,()=>{sa(u,r.value)||(u&&u.search!==r.value.search&&(t.value=1),i.emit("update:options",r.value),u=r.value)},{deep:!0,immediate:!0})}const Mi=(e,t,a)=>e==null||t==null?-1:e.toString().toLocaleLowerCase().indexOf(t.toString().toLocaleLowerCase()),_i=z({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function Oi(e,t,a){var r;const n=[],l=(a==null?void 0:a.default)??Mi,o=a!=null&&a.filterKeys?Pe(a.filterKeys):!1,i=Object.keys((a==null?void 0:a.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return n;e:for(let u=0;u<e.length;u++){const[d,f=d]=Pe(e[u]),c={},m={};let h=-1;if(t&&!(a!=null&&a.noFilter)){if(typeof d=="object"){const p=o||Object.keys(f);for(const g of p){const y=$e(f,g),M=(r=a==null?void 0:a.customKeyFilter)==null?void 0:r[g];if(h=M?M(y,t,d):l(y,t,d),h!==-1&&h!==!1)M?c[g]=h:m[g]=h;else if((a==null?void 0:a.filterMode)==="every")continue e}}else h=l(d,t,d),h!==-1&&h!==!1&&(m.title=h);const b=Object.keys(m).length,v=Object.keys(c).length;if(!b&&!v||(a==null?void 0:a.filterMode)==="union"&&v!==i&&!b||(a==null?void 0:a.filterMode)==="intersection"&&(v!==i||!b))continue}n.push({index:u,matches:{...m,...c}})}return n}function Fi(e,t,a,n){const l=q([]),o=q(new Map),i=V(()=>n!=null&&n.transform?Xe(t).map(u=>[u,n.transform(u)]):Xe(t));De(()=>{const u=typeof a=="function"?a():Xe(a),d=typeof u!="string"&&typeof u!="number"?"":String(u),f=Oi(i.value,d,{customKeyFilter:{...e.customKeyFilter,...Xe(n==null?void 0:n.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),c=Xe(t),m=[],h=new Map;f.forEach(b=>{let{index:v,matches:p}=b;const g=c[v];m.push(g),h.set(g.value,p)}),l.value=m,o.value=h});function r(u){return o.value.get(u.value)}return{filteredItems:l,filteredMatches:o,getMatches:r}}const hn=z({...cn(),width:[String,Number],search:String,...Vi(),...bi(),...si(),...Ti(),...hi(),...yi(),...$l(),...mn()},"DataTable"),Ii=z({...Al(),...hn(),..._i(),...ka()},"VDataTable");te()({name:"VDataTable",props:Ii(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,t){let{attrs:a,slots:n}=t;const{groupBy:l}=tn(e),{sortBy:o,multiSort:i,mustSort:r}=Jl(e),{page:u,itemsPerPage:d}=Ll(e),{columns:f,headers:c,sortFunctions:m,sortRawFunctions:h,filterFunctions:b}=Wl(e,{groupBy:l,showSelect:U(e,"showSelect"),showExpand:U(e,"showExpand")}),{items:v}=fn(e,f),p=U(e,"search"),{filteredItems:g}=Fi(e,v,p,{transform:J=>J.columns,customKeyFilter:b}),{toggleSort:y}=Xl({sortBy:o,multiSort:i,mustSort:r,page:u}),{sortByWithGroups:M,opened:L,extractRows:R,isGroupOpen:j,toggleGroup:P}=an({groupBy:l,sortBy:o}),{sortedItems:T}=gi(e,g,M,{transform:J=>J.columns,sortFunctions:m,sortRawFunctions:h}),{flatItems:k}=rn(T,l,L),O=V(()=>k.value.length),{startIndex:S,stopIndex:F,pageCount:_,setItemsPerPage:E}=Nl({page:u,itemsPerPage:d,itemsLength:O}),{paginatedItems:W}=ii({items:k,startIndex:S,stopIndex:F,itemsPerPage:d}),K=V(()=>R(W.value)),{isSelected:fe,select:C,selectAll:D,toggleSelect:H,someSelected:X,allSelected:ee}=ql(e,{allItems:v,currentPage:K}),{isExpanded:Z,toggleExpand:oe}=un(e);vn({page:u,itemsPerPage:d,sortBy:o,groupBy:l,search:p}),ze({VDataTableRows:{hideNoData:U(e,"hideNoData"),noDataText:U(e,"noDataText"),loading:U(e,"loading"),loadingText:U(e,"loadingText")}});const A=V(()=>({page:u.value,itemsPerPage:d.value,sortBy:o.value,pageCount:_.value,toggleSort:y,setItemsPerPage:E,someSelected:X.value,allSelected:ee.value,isSelected:fe,select:C,selectAll:D,toggleSelect:H,isExpanded:Z,toggleExpand:oe,isGroupOpen:j,toggleGroup:P,items:K.value.map(J=>J.raw),internalItems:K.value,groupedItems:W.value,columns:f.value,headers:c.value}));return ne(()=>{const J=xt.filterProps(e),ce=Pt.filterProps(e),Ee=St.filterProps(e),he=Tt.filterProps(e);return s(Tt,B({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},he),{top:()=>{var Ae;return(Ae=n.top)==null?void 0:Ae.call(n,A.value)},default:()=>{var Ae,Je,ct,mt,xa,Va;return n.default?n.default(A.value):s(Y,null,[(Ae=n.colgroup)==null?void 0:Ae.call(n,A.value),s("thead",null,[s(Pt,ce,n)]),(Je=n.thead)==null?void 0:Je.call(n,A.value),s("tbody",null,[(ct=n["body.prepend"])==null?void 0:ct.call(n,A.value),n.body?n.body(A.value):s(St,B(a,Ee,{items:W.value}),n),(mt=n["body.append"])==null?void 0:mt.call(n,A.value)]),(xa=n.tbody)==null?void 0:xa.call(n,A.value),(Va=n.tfoot)==null?void 0:Va.call(n,A.value)])},bottom:()=>n.bottom?n.bottom(A.value):s(Y,null,[s(va,null,null),s(xt,J,{prepend:n["footer.prepend"]})])})}),{}}});const Ri=z({itemsLength:{type:[Number,String],required:!0},...Al(),...hn(),...ka()},"VDataTableServer"),Ei=te()({name:"VDataTableServer",props:Ri(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:groupBy":e=>!0},setup(e,t){let{attrs:a,slots:n}=t;const{groupBy:l}=tn(e),{sortBy:o,multiSort:i,mustSort:r}=Jl(e),{page:u,itemsPerPage:d}=Ll(e),f=V(()=>parseInt(e.itemsLength,10)),{columns:c,headers:m}=Wl(e,{groupBy:l,showSelect:U(e,"showSelect"),showExpand:U(e,"showExpand")}),{items:h}=fn(e,c),{toggleSort:b}=Xl({sortBy:o,multiSort:i,mustSort:r,page:u}),{opened:v,isGroupOpen:p,toggleGroup:g,extractRows:y}=an({groupBy:l,sortBy:o}),{pageCount:M,setItemsPerPage:L}=Nl({page:u,itemsPerPage:d,itemsLength:f}),{flatItems:R}=rn(h,l,v),{isSelected:j,select:P,selectAll:T,toggleSelect:k,someSelected:O,allSelected:S}=ql(e,{allItems:h,currentPage:h}),{isExpanded:F,toggleExpand:_}=un(e),E=V(()=>y(h.value));vn({page:u,itemsPerPage:d,sortBy:o,groupBy:l,search:U(e,"search")}),Ce("v-data-table",{toggleSort:b,sortBy:o}),ze({VDataTableRows:{hideNoData:U(e,"hideNoData"),noDataText:U(e,"noDataText"),loading:U(e,"loading"),loadingText:U(e,"loadingText")}});const W=V(()=>({page:u.value,itemsPerPage:d.value,sortBy:o.value,pageCount:M.value,toggleSort:b,setItemsPerPage:L,someSelected:O.value,allSelected:S.value,isSelected:j,select:P,selectAll:T,toggleSelect:k,isExpanded:F,toggleExpand:_,isGroupOpen:p,toggleGroup:g,items:E.value.map(K=>K.raw),internalItems:E.value,groupedItems:R.value,columns:c.value,headers:m.value}));ne(()=>{const K=xt.filterProps(e),fe=Pt.filterProps(e),C=St.filterProps(e),D=Tt.filterProps(e);return s(Tt,B({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},D),{top:()=>{var H;return(H=n.top)==null?void 0:H.call(n,W.value)},default:()=>{var H,X,ee,Z,oe,A;return n.default?n.default(W.value):s(Y,null,[(H=n.colgroup)==null?void 0:H.call(n,W.value),s("thead",{class:"v-data-table__thead",role:"rowgroup"},[s(Pt,B(fe,{sticky:e.fixedHeader}),n)]),(X=n.thead)==null?void 0:X.call(n,W.value),s("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[(ee=n["body.prepend"])==null?void 0:ee.call(n,W.value),n.body?n.body(W.value):s(St,B(a,C,{items:R.value}),n),(Z=n["body.append"])==null?void 0:Z.call(n,W.value)]),(oe=n.tbody)==null?void 0:oe.call(n,W.value),(A=n.tfoot)==null?void 0:A.call(n,W.value)])},bottom:()=>n.bottom?n.bottom(W.value):s(Y,null,[s(va,null,null),s(xt,K,{prepend:n["footer.prepend"]})])})})}}),Ai={name:"SuperTableTable",components:{CreateEditForm:ba,FormattedColumn:ut},props:{items:{type:Array,default(){return[]}},options:{type:Object,default(){return{}}},itemsLength:{type:Number,default(){return null}},superOptions:{type:Object,default(){return{headers:[],modelFields:[],displayMapField:!1,model:{},canEdit:!1,currentParentRecord:{}}}}},data(){return{sortBy:[{key:this.pKey,order:"asc"}]}},computed:{pKey(){return this.superOptions.model.primaryKey},optionsComputed:{get(){return this.options},set(e){this.$emit("update:options",e)}},flattenedHeaders(){let e=[];for(const t of this.superOptions.headers)if(e.push(t),t.headerChildren)for(const a of t.headerChildren)e.push({...a});return e},flattenedHeadersHideMapField(){let e=[];for(const t of this.flattenedHeaders)(this.superOptions.superOptions||!t.usageType.startsWith("relLookupMapExtra")&&!t.usageType.startsWith("mapExtra"))&&e.push(t);return e}},methods:{updateOptions(e){this.$emit("updateOptions",e)},deleteItem(e){this.$emit("deleteItem",e)},editItem(e){this.$emit("editItem",e)},clickRow(e,t){this.$emit("clickRow",t.item)}},watch:{"editItemData.showModal"(e){e||(this.editItemData.data={})}}},Bi={key:0},Li={key:1};function Ni(e,t,a,n,l,o){const i=G("FormattedColumn");return w(),I("div",null,[s(Ei,{"mobile-breakpoint":0,"onClick:row":o.clickRow,headers:o.flattenedHeadersHideMapField,items:a.items,itemsLength:+a.itemsLength,page:o.optionsComputed.page,"items-per-page":o.optionsComputed.itemsPerPage,"onUpdate:options":t[0]||(t[0]=r=>{e.$emit("update:options",r)}),"sort-by":l.sortBy,"onUpdate:sortBy":t[1]||(t[1]=r=>l.sortBy=r)},tt({_:2},[ge(o.flattenedHeaders,(r,u)=>({name:`item.${r.key}`,fn:x(({item:d})=>[r.isChildOf?(w(),I("div",Bi,[s(i,{isTag:!0,header:r,item:d[r.isChildOf.value],superOptions:a.superOptions},null,8,["header","item","superOptions"])])):(w(),I("div",Li,[s(i,{header:r,item:d,superOptions:a.superOptions},null,8,["header","item","superOptions"])]))])}))]),1032,["onClick:row","headers","items","itemsLength","page","items-per-page","sort-by"])])}const yn=me(Ai,[["render",Ni]]),Hi={name:"FilterPlace",components:{SuperTableTable:yn,SuperSelect:pa},props:{filterField:{type:Object,default(){return{}}},modelValue:{type:Object,default(){return{}}},user:{type:Object,default(){return{}}}},data(){return{placeFieldLevelTypes:["relForeignKeyMapExtraRelCountry","relForeignKeyMapExtraRelAdminArea1","relForeignKeyMapExtraRelAdminArea2","relForeignKeyMapExtraRelLocality","relForeignKeyMapExtraRelSublocality"],parentRelationships:{relForeignKeyMapExtraRelCountry:null,relForeignKeyMapExtraRelAdminArea1:"relForeignKeyMapExtraRelCountry",relForeignKeyMapExtraRelAdminArea2:"relForeignKeyMapExtraRelAdminArea1",relForeignKeyMapExtraRelLocality:"relForeignKeyMapExtraRelAdminArea2",relForeignKeyMapExtraRelSublocality:"relForeignKeyMapExtraRelLocality"},menu:!1,filtersData:[]}},computed:{displayPlace(){let e="";const t=this.filterField.children;for(let a of this.placeFieldLevelTypes){let n=t.find(l=>l.usageType===a);if(n&&this.filtersData[n.name]&&this.filtersData[n.name]){let l=this.fetchDisplayNameFromVuex(n.meta.relatedModel,this.filtersData[n.name]);l&&(e=l)}}return e}},methods:{handleSelectChange(e){const t=this.filterField.children.find(a=>a.name===e);if(t){const a=this.getChildFields(t.usageType);for(let n of a){const l=this.filterField.children.find(o=>o.usageType===n);l&&this.filtersData[l.name]&&(this.filtersData[l.name]=null)}}},getChildFields(e){const t=this.placeFieldLevelTypes.indexOf(e);return t===-1||t===this.placeFieldLevelTypes.length-1?[]:this.placeFieldLevelTypes.slice(t+1)},fetchDisplayNameFromVuex(e,t){let a="PlaceholderName";return a=e.query().whereId(t).first()[this.title(e).name],a},title(e){return be.computedAttrs(e).find(n=>n.name!=="id")},filterParentName(e){const a=this.parentRelationships[e.usageType];let n=null;if(a){const l=this.filterField.children.find(o=>o.usageType==a);l&&(n=l.name)}return n},getFilters(e){const t=this.filterParentName(e),a=this.modelValue[t]?{parent_id:this.modelValue[t]}:{};return JSON.stringify(a)}},mounted(){this.filtersData=this.modelValue},watch:{filtersData:{handler(){console.log("handler"),this.$emit("update:modelValue",this.filtersData)},deep:!0}}};function Yi(e,t,a,n,l,o){const i=G("SuperSelect");return w(),I("div",null,[s(ga,{modelValue:l.menu,"onUpdate:modelValue":t[1]||(t[1]=r=>l.menu=r),"close-on-content-click":!1,"nudge-width":200,"nudge-top":25,"offset-y":""},{activator:x(({props:r})=>[de("div",oa(ra(r)),[s(ve,{label:"Place Filter",type:"text",modelValue:o.displayPlace,readonly:"",density:"compact",variant:"outlined",placeholder:"All"},null,8,["modelValue"])],16)]),default:x(()=>[s(we,null,{default:x(()=>[s(Fe,null,{default:x(()=>[(w(!0),I(Y,null,ge(a.filterField.children,r=>(w(),I(Y,null,[r.usageType.startsWith("relForeignKeyMapExtraRel")?(w(),I("div",{key:r.name,class:"ma-2"},[typeof l.filtersData[r.name]<"u"?(w(),N(i,{key:0,allowAll:"",modelField:r,model:r.meta.relatedModel,filters:o.getFilters(r),modelValue:l.filtersData[r.name],"onUpdate:modelValue":[u=>l.filtersData[r.name]=u,u=>o.handleSelectChange(r.name)],disabled:o.filterParentName(r)&&!a.modelValue[o.filterParentName(r)],user:a.user},null,8,["modelField","model","filters","modelValue","onUpdate:modelValue","disabled","user"])):ie("",!0)])):ie("",!0)],64))),256)),s(Re,null,{default:x(()=>[s(Ze),s($,{color:"primary",onClick:t[0]||(t[0]=r=>l.menu=!1)},{default:x(()=>[le("OK")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const Ui=me(Hi,[["render",Yi]]),zi={name:"FilterTime",props:{modelField:{type:Object,default(){return{}}},modelValue:{type:Object,default:()=>({year:null,month:null,week:null,day:null,range:{start:null,end:null}})}},data(){return{years:this.generateYears(),months:[],weeks:[],days:[],menu:!1}},computed:{displayDate(){if(this.selectedDay)return Q(this.selectedDay).format("ddd, MMM D, YYYY");if(this.selectedWeek){const e=Q().year(this.selectedYear).month(this.selectedMonth-1).isoWeek(this.selectedWeek).startOf("isoWeek"),t=e.clone().endOf("isoWeek");return e.month()===t.month()?`${e.format("ddd D")} - ${t.format("ddd D, MMM, YYYY")}`:`${e.format("ddd D, MMM")} - ${t.format("ddd D, MMM, YYYY")}`}return this.selectedMonth?Q(`${this.selectedYear}-${this.selectedMonth}-01`).format("MMM, YYYY"):this.selectedYear?this.selectedYear.toString():""},selectedYear:{get(){var e,t;return(e=this.modelValue)!=null&&e.year?(t=this.modelValue)==null?void 0:t.year:null},set(e){const t={...this.modelValue,year:e,month:null,week:null,day:null};this.$emit("update:modelValue",{...t,range:this.computeRange(t)}),this.months=this.generateMonths()}},selectedMonth:{get(){var e,t;return(e=this.modelValue)!=null&&e.month?(t=this.modelValue)==null?void 0:t.month:null},set(e){const t={...this.modelValue,month:e,week:null,day:null};this.$emit("update:modelValue",{...t,range:this.computeRange(t)}),this.weeks=this.generateWeeks(this.selectedYear,e)}},selectedWeek:{get(){var e,t;return(e=this.modelValue)!=null&&e.week?(t=this.modelValue)==null?void 0:t.week:null},set(e){const t={...this.modelValue,week:e,day:null};this.$emit("update:modelValue",{...t,range:this.computeRange(t)}),this.days=this.generateDays(this.selectedYear,this.selectedMonth,e)}},selectedDay:{get(){var e,t;return(e=this.modelValue)!=null&&e.day?(t=this.modelValue)==null?void 0:t.day:null},set(e){const t={...this.modelValue,day:e};this.$emit("update:modelValue",{...t,range:this.computeRange(t)})}}},methods:{computeRange(e){let t,a;return e.day?t=a=Q(e.day):e.week?(t=Q().year(e.year).isoWeek(e.week).isoWeekday(1),a=t.clone().endOf("isoWeek")):e.month?(t=Q(`${e.year}-${e.month}-01`,"YYYY-MM-DD"),a=t.clone().endOf("month")):e.year&&(t=Q(`${e.year}-01-01`,"YYYY-MM-DD"),a=Q(`${e.year}-12-31`,"YYYY-MM-DD")),{start:t?t.format("YYYY-MM-DD"):null,end:a?a.format("YYYY-MM-DD"):null}},generateYears(){const e=Q().year(),t=[];t.push({label:"All",value:null});for(let a=0;a<10;a++)t.push({label:e-a,value:e-a});return t},generateMonths(){const e=[];e.push({label:"All",value:null});for(let t=0;t<12;t++)e.push({label:Q().month(t).format("MMMM"),value:+Q().month(t).format("MM")});return e},generateWeeks(e,t){const a=Q(`${e}-${t}-01`,"YYYY-MM-DD").startOf("month"),n=a.clone().endOf("month"),l=[];for(l.push({label:"All",value:null});a<=n;){const o=a.clone().startOf("isoWeek"),i=o.clone().endOf("isoWeek");let r;o.month()===i.month()?r=`${o.format("D")} - ${i.format("D MMM")}`:r=`${o.format("D MMM")} - ${i.format("D MMM")}`,l.push({label:r,value:o.week()}),a.add(1,"week")}return l},generateDays(e,t,a){const n=a,l=Q().year(e).isoWeek(n).isoWeekday(1),o=l.clone().endOf("isoWeek"),i=[];for(;l<=o;)i.push({label:l.format("Do"),value:l.format("YYYY-MM-DD")}),l.add(1,"day");const r=i.filter(d=>+Q(d.value).format("MM")===t);return[{label:"All",value:null},...r]}}};function Wi(e,t,a,n,l,o){return w(),I("div",null,[s(ga,{modelValue:l.menu,"onUpdate:modelValue":t[5]||(t[5]=i=>l.menu=i),"close-on-content-click":!1,"nudge-width":200,"nudge-top":25,"offset-y":""},{activator:x(({props:i})=>[de("div",oa(ra(i)),[s(ve,{label:"Time Filter",type:"text",modelValue:o.displayDate,readonly:"",density:"compact",variant:"outlined"},null,8,["modelValue"])],16)]),default:x(()=>[s(we,null,{default:x(()=>[s(Fe,null,{default:x(()=>[s(Me,{items:l.years,modelValue:o.selectedYear,"onUpdate:modelValue":t[0]||(t[0]=i=>o.selectedYear=i),label:"Year","item-title":"label","item-value":"value",density:"compact",variant:"outlined"},null,8,["items","modelValue"]),s(Me,{items:l.months,modelValue:o.selectedMonth,"onUpdate:modelValue":t[1]||(t[1]=i=>o.selectedMonth=i),label:"Month",disabled:!o.selectedYear,"item-title":"label","item-value":"value",density:"compact",variant:"outlined"},null,8,["items","modelValue","disabled"]),s(Me,{items:l.weeks,modelValue:o.selectedWeek,"onUpdate:modelValue":t[2]||(t[2]=i=>o.selectedWeek=i),label:"Week",disabled:!o.selectedMonth,"item-title":"label","item-value":"value",density:"compact",variant:"outlined"},null,8,["items","modelValue","disabled"]),s(Me,{items:l.days,modelValue:o.selectedDay,"onUpdate:modelValue":t[3]||(t[3]=i=>o.selectedDay=i),label:"Day",disabled:!o.selectedWeek,"item-title":"label","item-value":"value",density:"compact",variant:"outlined"},null,8,["items","modelValue","disabled"]),s(Re,null,{default:x(()=>[s(Ze),s($,{color:"primary",onClick:t[4]||(t[4]=i=>l.menu=!1)},{default:x(()=>[le("OK")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const Ki=me(zi,[["render",Wi]]),ji={name:"MyGoogleMap",components:{InocanGoogleMap:ao,InocanMarker:lo,InocanMarkerCluster:no},props:{markers:{type:Array,default(){return[]}},modelValue:{type:Object,default(){return{}}},zoom:{type:Number,default(){return 2}}},data(){return{selectedPlaceIndex:null,iconAndLabelLabel:{icon:{url:"/mapIconCluster.svg"},label:{color:"white"}}}},computed:{clusterStyles(){return[{...this.clusterStyle,height:40,width:40},{...this.clusterStyle,height:40,width:40},{...this.clusterStyle,height:40,width:40},{...this.clusterStyle,height:40,width:40},{...this.clusterStyle,height:40,width:40}]}},methods:{iconAndLabelLabelMethod(e){return{icon:this.iconAndLabelLabel.icon,label:{text:String(e),...this.iconAndLabelLabel.label}}},clusterOptions(e){return{renderer:{render:({count:t,position:a})=>new e.Marker({position:a,...this.iconAndLabelLabelMethod(t),zIndex:999+t})}}},markerOptions(e){return{url:"/mapIconPin.svg",size:{width:30,height:30,f:"px",b:"px"},scaledSize:{width:30,height:30,f:"px",b:"px"}}},selectedMarkerOptions(e){return{id:e.meta.id,url:"/mapIconPin.svg",size:{width:40,height:40,f:"px",b:"px"},scaledSize:{width:40,height:40,f:"px",b:"px"}}},markerOptionsMethod(e,t){return t==this.selectedPlaceIndex?this.selectedMarkerOptions(e,t):this.markerOptions(e,t)},position(e){return{lng:Number(e.lng),lat:Number(e.lat)}},clickedMarker(e,t){this.$emit("update:modelValue",e.position),this.selectedPlaceIndex=t,this.$emit("clickMarker",e,t)}},mounted(){},watch:{}};function Gi(e,t,a,n,l,o){const i=G("InocanMarker"),r=G("InocanMarkerCluster"),u=G("InocanGoogleMap");return w(),I("div",null,[s(u,{center:a.modelValue,zoom:a.zoom,"map-type-id":"terrain",style:{height:"500px",width:"904px"}},{default:x(({api:d})=>[s(r,{options:o.clusterOptions(d)},{default:x(()=>[(w(!0),I(Y,null,ge(a.markers,(f,c)=>(w(),N(i,{key:c,onClick:m=>o.clickedMarker(f,c),options:{position:f.position,icon:o.markerOptionsMethod(f,c)}},null,8,["onClick","options"]))),128))]),_:2},1032,["options"])]),_:1},8,["center","zoom"])])}const qi=me(ji,[["render",Gi]]),Zi={name:"RecordOverview",components:{FormattedColumn:ut},props:{clickable:{type:Boolean,default(){return!1}},maxFields:{type:Number,default(){return 999}},item:{type:Object,default(){return{}}},superOptions:{type:Object,default(){return{headers:[],modelFields:[],displayMapField:!1,model:{},canEdit:!1,currentParentRecord:{},user:{}}}}},methods:{deleteItem(e){this.$emit("deleteItem",e)},editItem(e){this.$emit("editItem",e)},clickRow(e){this.$emit("clickRow",e)}}},Ji={class:"text-caption"},Xi={class:"text-caption"};function Qi(e,t,a,n,l,o){const i=G("FormattedColumn");return w(),I("div",{style:ma(a.clickable?"cursor: pointer":""),onClick:t[0]||(t[0]=r=>o.clickRow(a.item))},[(w(!0),I(Y,null,ge(a.superOptions.headers,(r,u)=>(w(),I(Y,null,[r.key!=="id"&&(u<a.maxFields||r.type=="actions")?(w(),I("div",{key:r.name,style:{"min-height":"1.375rem"}},[u<2?(w(),I(Y,{key:0},[a.superOptions.headers[0].value=="id"?(w(),I(Y,{key:0},[u==0?(w(),I(Y,{key:0},[],64)):(w(),N(at,{key:1},{default:x(()=>[s(i,{header:r,item:a.item,superOptions:a.superOptions},null,8,["header","item","superOptions"])]),_:2},1024))],64)):(w(),I(Y,{key:1},[u==0?(w(),N(at,{key:0},{default:x(()=>[s(i,{header:r,item:a.item,superOptions:a.superOptions},null,8,["header","item","superOptions"])]),_:2},1024)):(w(),N(Fe,{key:1},{default:x(()=>[de("div",Ji,ke(r.title),1),(w(),N(i,{key:u,header:r,item:a.item,superOptions:a.superOptions},null,8,["header","item","superOptions"]))]),_:2},1024))],64))],64)):(w(),N(Fe,{key:1},{default:x(()=>[de("div",Xi,ke(r.title),1),(w(),N(i,{key:u,header:r,item:a.item,superOptions:a.superOptions},null,8,["header","item","superOptions"]))]),_:2},1024))])):ie("",!0)],64))),256))],4)}const dt=me(Zi,[["render",Qi]]),$i={name:"RecordOverviewDynamicDataPoint",components:{RecordOverview:dt,SuperTable:oo(()=>ll(()=>Promise.resolve().then(()=>gn),void 0)),FormattedColumn:ut},props:{dataPoint:{type:Object,default(){return{}}},item:{type:Object,default(){return{}}},childRelations:{type:Array,default(){return[]}},superOptions:{type:Object,default(){return{headers:[],modelFields:[],displayMapField:!1,model:{},canEdit:!1,currentParentRecord:{},user:{}}}}},methods:{deleteItem(e){this.$emit("deleteItem",e)},editItem(e){this.$emit("editItem",e)},clickRow(e){this.$emit("clickRow",e)}},computed:{compHeader(){return this.superOptions.headers.find(t=>t.key==this.dataPoint.data)},compRelation(){let e={};return this.compHeader.usageType.startsWith("relChildren")&&(e=this.childRelations.find(t=>t.field.name==this.dataPoint.data)),e}}},es={key:0,class:""},ts={class:"d-flex flex-row"},as={class:"pr-2"},ls={key:0,class:"text-caption",style:{"line-height":"1.6rem"}},ns={key:0,class:"pt-1"},os={key:1,class:"d-flex flex-column",style:{height:"100%"}},rs={key:0,class:"text-caption"},is={key:0,class:"pt-1"};function ss(e,t,a,n,l,o){const i=G("SuperTable"),r=G("FormattedColumn");return w(),I("div",null,[a.dataPoint.xOrientation?(w(),I("div",es,[de("div",ts,[de("div",as,[a.dataPoint.hideLabel?ie("",!0):(w(),I("div",ls,ke(o.compHeader.title)+": ",1))]),de("div",null,[(w(),N(Oa(a.dataPoint.tag?a.dataPoint.tag:"div"),{class:_a(a.dataPoint.class?a.dataPoint.class:"")},{default:x(()=>[o.compHeader.usageType.startsWith("relChildren")?(w(),I("div",ns,[o.compRelation?(w(),N(i,{key:0,currentParentRel:o.compRelation,model:o.compRelation.field.meta.field.related,canEdit:a.superOptions.canEdit,defaultViewModeProp:a.dataPoint.relationViewMode?a.dataPoint.relationViewMode:"table"},tt({_:2},[e.$slots[o.compRelation.field.name]?{name:"create",fn:x(()=>[Ne(e.$slots,o.compRelation.field.name)]),key:"0"}:void 0]),1032,["currentParentRel","model","canEdit","defaultViewModeProp"])):ie("",!0)])):(w(),N(r,{key:1,header:o.compHeader,item:a.item,superOptions:a.superOptions},null,8,["header","item","superOptions"]))]),_:3},8,["class"]))])])])):(w(),I("div",os,[a.dataPoint.hideLabel?ie("",!0):(w(),I("div",rs,ke(o.compHeader.title),1)),(w(),N(Oa(a.dataPoint.tag?a.dataPoint.tag:"div"),{class:_a(a.dataPoint.class?a.dataPoint.class:"")},{default:x(()=>[o.compHeader.usageType.startsWith("relChildren")?(w(),I("div",is,[o.compRelation?(w(),N(i,{key:0,currentParentRel:o.compRelation,model:o.compRelation.field.meta.field.related,canEdit:a.superOptions.canEdit,defaultViewModeProp:a.dataPoint.relationViewMode?a.dataPoint.relationViewMode:"table"},tt({_:2},[e.$slots[o.compRelation.field.name]?{name:"create",fn:x(()=>[Ne(e.$slots,o.compRelation.field.name)]),key:"0"}:void 0]),1032,["currentParentRel","model","canEdit","defaultViewModeProp"])):ie("",!0)])):(w(),N(r,{key:1,header:o.compHeader,item:a.item,superOptions:a.superOptions},null,8,["header","item","superOptions"]))]),_:3},8,["class"]))]))])}const us=me($i,[["render",ss]]),ds={name:"RecordOverviewDynamic",components:{RecordOverview:dt,RecordOverviewDynamicDataPoint:us},props:{isSummary:{type:Boolean,default(){return!1}},childRelations:{type:Array,default(){return[]}},item:{type:Object,default(){return{}}},clickable:{type:Boolean,default(){return!1}},maxFields:{type:Number,default(){return 999}},rowsAndDataIndicators:{type:Object,default(){return{}}},superOptions:{type:Object,default(){return{headers:[],modelFields:[],displayMapField:!1,model:{},canEdit:!1,currentParentRecord:{},user:{}}}},filteredChildRelations:{type:Array,default(){return[]}}},methods:{deleteItem(e){this.$emit("deleteItem",e)},editItem(e){this.$emit("editItem",e)},clickRow(e){this.$emit("clickRow",e)}},computed:{rows(){let e=[];return this.isSummary?this.superOptions.model.displayMapSummary&&this.superOptions.model.displayMapSummary.rows&&(e=this.superOptions.model.displayMapSummary.rows):this.superOptions.model.displayMapFull&&this.superOptions.model.displayMapFull.rows&&(e=this.superOptions.model.displayMapFull.rows),e}},mounted(){}};function cs(e,t,a,n,l,o){const i=G("RecordOverviewDynamicDataPoint");return w(),I("div",{style:ma(a.clickable?"cursor: pointer":""),onClick:t[0]||(t[0]=r=>o.clickRow(a.item)),class:"pa-2"},[(w(!0),I(Y,null,ge(o.rows,(r,u)=>(w(),N(Zt,{key:u,"no-gutters":""},{default:x(()=>[(w(!0),I(Y,null,ge(r.cols,(d,f)=>(w(),N(qt,{key:f,cols:d.width},{default:x(()=>[d.rows?(w(!0),I(Y,{key:0},ge(d.rows,(c,m)=>(w(),N(Zt,{key:m,"no-gutters":""},{default:x(()=>[(w(!0),I(Y,null,ge(c.cols,(h,b)=>(w(),N(qt,{key:b,cols:h.width},{default:x(()=>[s(i,{item:a.item,dataPoint:h.dataPoint,childRelations:a.childRelations,onClickRow:o.clickRow,superOptions:a.superOptions,filteredChildRelations:a.filteredChildRelations},tt({_:2},[ge(e.$slots,(v,p)=>({name:p,fn:x(g=>[Ne(e.$slots,p,B({ref_for:!0},g))])}))]),1032,["item","dataPoint","childRelations","onClickRow","superOptions","filteredChildRelations"])]),_:2},1032,["cols"]))),128))]),_:2},1024))),128)):(w(),N(i,{key:1,item:a.item,dataPoint:d.dataPoint,childRelations:a.childRelations,onClickRow:o.clickRow,superOptions:a.superOptions,filteredChildRelations:a.filteredChildRelations},tt({_:2},[ge(e.$slots,(c,m)=>({name:m,fn:x(h=>[Ne(e.$slots,m,B({ref_for:!0},h))])}))]),1032,["item","dataPoint","childRelations","onClickRow","superOptions","filteredChildRelations"]))]),_:2},1032,["cols"]))),128))]),_:2},1024))),128))],4)}const ms=me(ds,[["render",cs]]),fs={name:"SuperTableCalendar",components:{RecordOverview:dt,VueCal:ro},props:{items:{type:Array,default(){return[]}},superOptions:{type:Object,default(){return{headers:[],modelFields:[],displayMapField:!1,model:{},canEdit:!1,currentParentRecord:{},user:{}}}}},data:()=>({type:"week",types:["month","week","day","4day"],mode:"stack",modes:["stack","column"],weekday:[1,2,3,4,5,6,0],weekdays:[{title:"Sun - Sat",value:[0,1,2,3,4,5,6]},{title:"Mon - Sun",value:[1,2,3,4,5,6,0]},{title:"Mon - Fri",value:[1,2,3,4,5]},{title:"Mon, Wed, Fri",value:[1,3,5]}],value:[new Date],colors:["blue","indigo","deep-purple","cyan","green","orange","grey darken-1"],viewItemData:{showModal:!1,data:{}}}),computed:{firstNonIdKey(){const e=Object.keys(this.superOptions.headers).find(a=>this.superOptions.headers[a].value!=="id");return this.superOptions.headers[e].value},startFieldName(){let e=this.superOptions.headers.find(t=>t.usageType=="timeRangeStart");if(!e){for(const t of this.superOptions.headers)if(t.headerChildren){e=t.headerChildren.find(a=>a.usageType=="timeRangeStart"),e={...e,isChildOf:t};break}}return e},endFieldName(){let e=this.superOptions.headers.find(t=>t.usageType=="timeRangeEnd");if(!e){for(const t of this.superOptions.headers)if(t.headerChildren){e=t.headerChildren.find(a=>a.usageType=="timeRangeEnd"),e={...e,isChildOf:t};break}}return e},events(){var t;let e=[];if((t=this.startFieldName)!=null&&t.value)for(const a of this.items)this.startFieldName.isChildOf?e.push({title:a[this.firstNonIdKey],start:new Date(a[this.startFieldName.isChildOf.value][this.startFieldName.value]),end:new Date(a[this.startFieldName.isChildOf.value][this.endFieldName.value]),color:"deep-purple",timed:!0,meta:a}):e.push({title:a[this.firstNonIdKey],start:new Date(a[this.startFieldName.value]),end:new Date(a[this.endFieldName.value]),color:"deep-purple",timed:!0,meta:a});return e},myEvents(){var t;let e=[];if((t=this.startFieldName)!=null&&t.value)for(const a of this.items)this.startFieldName.isChildOf?e.push({title:a[this.firstNonIdKey],start:new Date(a[this.startFieldName.isChildOf.value][this.startFieldName.value]),end:new Date(a[this.startFieldName.isChildOf.value][this.endFieldName.value]),color:"deep-purple",timed:!0,meta:a}):e.push({title:a[this.firstNonIdKey],start:new Date(a[this.startFieldName.value]),end:new Date(a[this.endFieldName.value]),color:"deep-purple",timed:!0,meta:a});return e}},methods:{clickRow(e){this.viewItemData.showModal=!1,this.$emit("clickRow",e)},updateTimeWindow(){},getEventColor(e){return e.color},rnd(e,t){return Math.floor((t-e+1)*Math.random())+e},showEvent(e){this.viewItemData.showModal=!0,this.viewItemData.data=e.meta},viewDay({date:e}){this.modelValue=e,this.type="day"}},mounted(){be.quickListsIsMobile()&&(this.type="day")}},vs=["onClick"];function hs(e,t,a,n,l,o){const i=G("vue-cal"),r=G("v-calendar"),u=G("RecordOverview");return w(),I("div",null,[s(Lt,{tile:"",height:"54",class:"d-flex"},{default:x(()=>[s(Me,{modelValue:e.type,"onUpdate:modelValue":t[0]||(t[0]=d=>e.type=d),items:e.types,density:"compact",variant:"outlined","hide-details":"",class:"ma-2",label:"Type"},null,8,["modelValue","items"]),s(Me,{modelValue:e.mode,"onUpdate:modelValue":t[1]||(t[1]=d=>e.mode=d),items:e.modes,density:"compact",variant:"outlined","hide-details":"",label:"Event Overlap Mode",class:"ma-2"},null,8,["modelValue","items"])]),_:1}),s(Lt,{height:"800"},{default:x(()=>[s(i,{view:"month",events:o.myEvents,"editable-events":!1,indicators:!0,onEventClick:o.showEvent,"time-from":8*60,"time-to":22*60},null,8,["events","onEventClick"])]),_:1}),s(Lt,{height:"800"},{default:x(()=>[s(r,{ref:"calendar",modelValue:e.value,"onUpdate:modelValue":t[2]||(t[2]=d=>e.value=d),weekdays:e.weekday,"view-mode":e.type,events:o.events,"event-overlap-mode":e.mode,"event-overlap-threshold":30,"event-color":o.getEventColor,onChange:o.updateTimeWindow,"interval-start":8,"interval-duration":60,intervals:14,"onClick:event":o.showEvent,"onClick:more":o.viewDay,"onClick:date":o.viewDay},{day:x(({date:d,day:f})=>[de("div",{onClick:c=>o.showEvent(d),class:"day-cell"},ke(f),9,vs)]),_:1},8,["modelValue","weekdays","view-mode","events","event-overlap-mode","event-color","onChange","onClick:event","onClick:more","onClick:date"])]),_:1}),s(ye,{modelValue:e.viewItemData.showModal,"onUpdate:modelValue":t[5]||(t[5]=d=>e.viewItemData.showModal=d),"max-width":"800px"},{default:x(()=>[s(we,{class:"pt-4"},{default:x(()=>[s(Fe,null,{default:x(()=>[s(u,{item:e.viewItemData.data,superOptions:a.superOptions},null,8,["item","superOptions"])]),_:1}),s(Re,null,{default:x(()=>[s($,{onClick:t[3]||(t[3]=d=>o.clickRow(e.viewItemData.data))},{default:x(()=>[le("Open")]),_:1}),s($,{onClick:t[4]||(t[4]=d=>e.viewItemData.showModal=!1)},{default:x(()=>[le("Cancel")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const ys=me(fs,[["render",hs]]),gs={name:"SuperTableGrid",components:{FormattedColumn:ut,RecordOverview:dt,RecordOverviewDynamic:ms},props:{items:{type:Array,default(){return[]}},superOptions:{type:Object,default(){return{headers:[],modelFields:[],displayMapField:!1,model:{},canEdit:!1,currentParentRecord:{},user:{}}}}},methods:{deleteItem(e){this.$emit("deleteItem",e)},editItem(e){this.$emit("editItem",e)},clickRow(e){this.$emit("clickRow",e)}},mounted(){},computed:{}},ps={key:0,style:{"text-align":"center"}};function bs(e,t,a,n,l,o){const i=G("RecordOverviewDynamic"),r=G("RecordOverview");return w(),I("div",null,[s(Zt,{class:"fill-height ma-n2",justify:"center"},{default:x(()=>[(w(!0),I(Y,null,ge(a.items,u=>(w(),N(qt,{key:u.name,cols:"12",md:"3",class:"pa-2"},{default:x(()=>[s(we,{class:"mx-auto",style:{height:"100%"}},{default:x(()=>[a.superOptions.model.displayMapSummary&&a.superOptions.model.displayMapSummary.rows?(w(),N(i,{key:0,item:u,onClickRow:o.clickRow,clickable:!0,maxFields:6,childRelations:[],isSummary:"",superOptions:a.superOptions},null,8,["item","onClickRow","superOptions"])):(w(),N(r,{key:1,item:u,onClickRow:o.clickRow,clickable:!0,maxFields:6,superOptions:a.superOptions},null,8,["item","onClickRow","superOptions"]))]),_:2},1024)]),_:2},1024))),128))]),_:1}),a.items.length?ie("",!0):(w(),I("div",ps,"No data available"))])}const ks=me(gs,[["render",bs]]);function ws(e){return io()?(xe(e),!0):!1}const xs=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Vs=xs?window.navigator:void 0;function Ps(){const e=q(!1),t=so();return t&&ot(()=>{e.value=!0},t),e}function Ss(e){const t=Ps();return V(()=>(t.value,!!e()))}function Ts(e={}){const{enableHighAccuracy:t=!0,maximumAge:a=3e4,timeout:n=27e3,navigator:l=Vs,immediate:o=!0}=e,i=Ss(()=>l&&"geolocation"in l),r=q(null),u=se(null),d=q({accuracy:0,latitude:Number.POSITIVE_INFINITY,longitude:Number.POSITIVE_INFINITY,altitude:null,altitudeAccuracy:null,heading:null,speed:null});function f(b){r.value=b.timestamp,d.value=b.coords,u.value=null}let c;function m(){i.value&&(c=l.geolocation.watchPosition(f,b=>u.value=b,{enableHighAccuracy:t,maximumAge:a,timeout:n}))}o&&m();function h(){c&&l&&l.geolocation.clearWatch(c)}return ws(()=>{h()}),{isSupported:i,coords:d,locatedAt:r,error:u,resume:m,pause:h}}const Ds={name:"SuperTableMap",components:{MyGoogleMap:qi,RecordOverview:dt},props:{items:{type:Array,default(){return[]}},mapHeaders:{type:Array,default(){return[]}},superOptions:{type:Object,default(){return{headers:[],modelFields:[],displayMapField:!1,model:{},canEdit:!1,currentParentRecord:{},user:{}}}}},data(){return{locationHasBeenGranted:!1,zoom:2,geolocation:Ts(),center:{lat:0,lng:0},geoLocate:{},selectedPlaceIndex:null,clusterStyle:{textColor:"white",url:"/mapIconCluster.svg",anchorText:[1.5,1]},viewItemData:{showModal:!1,data:{}}}},computed:{clusterStyles(){return[{...this.clusterStyle,height:40,width:40},{...this.clusterStyle,height:40,width:40},{...this.clusterStyle,height:40,width:40},{...this.clusterStyle,height:40,width:40},{...this.clusterStyle,height:40,width:40}]},markers(){let e=[],t=this.mapHeaders.find(n=>n.usageType=="mapExtraGeoLocLong"),a=this.mapHeaders.find(n=>n.usageType=="mapExtraGeoLocLat");if(a&&t)for(const n of this.items)n[a.value]!==null&&e.push({position:{lat:n[a.value],lng:n[t.value]},keys:{long:t.value,lat:a.value},meta:n});else{let n="";for(const l of this.mapHeaders)if(n=l.key,l.headerChildren&&(t=l.headerChildren.find(o=>o.usageType=="mapExtraGeoLocLong"),a=l.headerChildren.find(o=>o.usageType=="mapExtraGeoLocLat"),a&&t))break;for(const l of this.items)l[a.value]!==null&&e.push({position:{lat:l[n][a.value],lng:l[n][t.value]},keys:{long:t.value,lat:a.value},meta:l})}return e}},methods:{deleteItem(e){this.$emit("deleteItem",e)},editItem(e){this.$emit("editItem",e)},clickRow(e){this.viewItemData.showModal=!1,this.$emit("clickRow",e)},position(e){return{lng:Number(e.lng),lat:Number(e.lat)}},positionString(e){return e.lat+", "+e.lng},markerOptionsMethod(e,t){return t==this.selectedPlaceIndex?this.selectedMarkerOptions(e,t):this.markerOptions(e,t)},clickedMarker(e,t){this.viewItemData.showModal=!0,this.viewItemData.data=e.meta,this.selectedPlaceIndex=t},markerOptions(e){return{id:e.meta.id,url:"/mapIconPin.svg",size:{width:30,height:30,f:"px",b:"px"},scaledSize:{width:30,height:30,f:"px",b:"px"}}},selectedMarkerOptions(e){return{id:e.meta.id,url:"/mapIconPin.svg",size:{width:40,height:40,f:"px",b:"px"},scaledSize:{width:40,height:40,f:"px",b:"px"}}}},mounted(){},watch:{"geolocation.coords.latitude"(){if(!this.locationHasBeenGranted){this.locationHasBeenGranted=!0,this.center={lng:this.geolocation.coords.longitude,lat:this.geolocation.coords.latitude};let e=2;this.geolocation.coords.accuracy<=100||this.geolocation.coords.altitude?e=9:this.geolocation.coords.accuracy<=1e3?e=8:e=7,this.zoom=e}}}};function Cs(e,t,a,n,l,o){const i=G("MyGoogleMap"),r=G("RecordOverview");return w(),I("div",null,[s(i,{markers:o.markers,modelValue:l.center,"onUpdate:modelValue":t[0]||(t[0]=u=>l.center=u),zoom:l.zoom,onClickMarker:o.clickedMarker},null,8,["markers","modelValue","zoom","onClickMarker"]),s(ye,{modelValue:l.viewItemData.showModal,"onUpdate:modelValue":t[3]||(t[3]=u=>l.viewItemData.showModal=u),"max-width":"800px"},{default:x(()=>[s(we,{class:"pt-4"},{default:x(()=>[s(Fe,null,{default:x(()=>[s(r,{item:l.viewItemData.data,superOptions:a.superOptions},null,8,["item","superOptions"])]),_:1}),s(Re,null,{default:x(()=>[s($,{onClick:t[1]||(t[1]=u=>o.clickRow(l.viewItemData.data))},{default:x(()=>[le("Open")]),_:1}),s($,{onClick:t[2]||(t[2]=u=>l.viewItemData.showModal=!1)},{default:x(()=>[le("Cancel")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const Ms=me(Ds,[["render",Cs]]),_s={name:"SuperTableList",components:{FormattedColumn:ut},props:{items:{type:Array,default(){return[]}},modelValue:{type:Number,default(){return null}},superOptions:{type:Object,default(){return{headers:[],modelFields:[],displayMapField:!1,model:{},canEdit:!1,currentParentRecord:{},user:{}}}}},methods:{clickRow(e){this.$emit("update:modelValue",e)}},computed:{title(){return this.superOptions.headers.find(t=>t.key!=="id")}}},Os={style:{"max-height":"330px","overflow-y":"scroll"}};function Fs(e,t,a,n,l,o){const i=G("FormattedColumn"),r=G("v-list-item-content"),u=G("v-list-item-group");return w(),I("div",Os,[s(vl,{density:"compact"},{default:x(()=>[s(u,{modelValue:a.modelValue,color:"primary"},{default:x(()=>[(w(!0),I(Y,null,ge(a.items,(d,f)=>(w(),N(Gt,{key:f,modelValue:d.id,onClick:c=>o.clickRow(d)},{default:x(()=>[s(r,null,{default:x(()=>[s(Po,null,{default:x(()=>[s(i,{header:o.title,item:d},null,8,["header","item"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue","onClick"]))),128))]),_:1},8,["modelValue"])]),_:1})])}const Is=me(_s,[["render",Fs]]),Rs={name:"SuperTable",components:{CreateButton:tr,DestructableExpansionPanels:$r,FilterPlace:Ui,FilterTime:Ki,SuperSelect:pa,SuperTableList:Is,SuperTableMap:Ms,SuperTableTable:yn,SuperTableGrid:ks,SuperTableCalendar:ys,CreateEditForm:ba},props:{forcedFilters:{type:Object,default(){return{}}},user:{type:Object,default(){return{}}},model:{type:[Object,Function],required:!0},displayMapField:{type:Boolean,default(){return!1}},isForSelectingRelation:{type:Boolean,default(){return!1}},modelValue:{type:[Number,Object],default(){return null}},showMap:{type:Boolean,default(){return!1}},canEdit:{type:Boolean,default(){return!1}},currentParentRel:{type:Object,default(){return null}},defaultViewModeProp:{type:String,default(){return""}}},data(){return{years:Array.from({length:5},(e,t)=>new Date().getFullYear()-t),itemsLength:0,loading:!1,options:{page:1,itemsPerPage:10,sortBy:["id"],groupBy:[]},createItemData:{showModal:!1,data:{}},highlightedRow:null,filters:{},activeTab:"table"}},computed:{optionsComputed:{get(){return this.options},set(e){this.loading||this.fetchData(),this.options=e}},excludedCols(){var t;let e=[];return(t=this.currentParentRel)!=null&&t.currentParentRecord&&(e=[this.currentParentRel.currentParentRecord.foreignKeyToParentRecord]),e},filtersComp(){var t;const e={...this.filters,...this.forcedFilters};if((t=this.currentParentRel)!=null&&t.currentParentRecord&&this.currentParentRel.currentParentRecord.item){const a=this.currentParentRel.currentParentRecord.model.primaryKey;e[this.currentParentRel.currentParentRecord.foreignKeyToParentRecord]=this.currentParentRel.currentParentRecord.item[a]}return e},quickListsIsMobile(){return be.quickListsIsMobile()},filterInputs(){const e=this.modelFields,t=[];for(const a of e)if(a.usageType.startsWith("relForeignKeyNormal")||a.usageType=="timeRangeStart")t.push(a);else if(a.usageType=="relForeignKeyMapExtraRelSublocality"){const n=e.filter(l=>l.usageType.startsWith("relForeignKeyMapExtraRel"));t.push({label:"Place",name:"Place",usageType:"mapFilter",dataType:"normal",children:n})}return t},headers(){return be.SupaerTableHeaders(this.model,this.excludedCols,this.canEdit,this.displayMapField)},mapHeaders(){return be.SupaerTableHeaders(this.model,this.excludedCols,this.canEdit,!0)},modelFields(){return be.computedAttrs(this.model,this.excludedCols)},items(){return this.model.query().where(t=>this.quickListsGetIfMatchesAllChecks(t,this.filtersComp)).withAll().orderBy("id","desc").get()},pKey(){return this.model.primaryKey}},methods:{quickListsGetIfMatchesAllChecks(e,t){return be.quickListsGetIfMatchesAllChecks(e,t)},openRecord(e){this.$emit("openRecord",e)},formatTimestamp(e){return e?sl.tz(e,"YYYY-MM-DDTHH:mm:ss.SSSSSSZ","UTC").tz("Africa/Johannesburg").format("dddd, MMMM D, YYYY h:mm A"):null},createNewInstance(){return new this.model},clickRow(e){this.isForSelectingRelation&&(this.highlightedRow=e.id),this.model.openRecord(e[this.pKey]),this.$emit("update:modelValue",e)},createItem(){this.createItemData.showModal=!0},createItemSubmit(){let e=be.preparePayload(this.createItemData.data,this.modelFields);delete e.id;const t=this.items.length;this.model.Store(e).then(()=>{t||this.loading||this.fetchData()}),this.createItemData.data={},this.createItemData.showModal=!1},async fetchData(){var o,i,r,u,d;this.loading=!0;let e=[];(o=this.model.rules)!=null&&o.readables&&(e=this.model.rules.readables(this.user));let t={},a={};this.model.adapator=="supabase"?(t={Prefer:"count=exact"},a={order:"id.desc"}):this.model.adapator=="laravel"&&(t={},a={sort:"-id",per_page:this.options.itemsPerPage,page:this.options.page});const n=await this.model.FetchAll([],{...e,...a},t,{page:this.options.page,limit:this.options.itemsPerPage,filters:this.filtersComp,clearPrimaryModelOnly:!0});this.loading=!1;let l=0;this.model.adapator=="supabase"?(r=(i=n==null?void 0:n.response)==null?void 0:i.headers)!=null&&r["content-range"]&&(l=((d=(u=n==null?void 0:n.response)==null?void 0:u.headers)==null?void 0:d["content-range"]).split("/")[1]):this.model.adapator=="laravel"&&(l=n.response.data.total),this.itemsLength=l}},watch:{filters:{handler(){this.loading||this.fetchData()},deep:!0},"createItemData.showModal"(e){var t;e&&(this.createItemData.data=this.createNewInstance(),(t=this.currentParentRel)!=null&&t.currentParentRecord&&(this.createItemData.data[this.currentParentRel.currentParentRecord.foreignKeyToParentRecord]=this.currentParentRel.currentParentRecord.item.id))}},mounted(){var e,t;this.quickListsIsMobile?this.activeTab="grid":this.defaultViewModeProp!==""?this.activeTab=this.defaultViewModeProp:(t=(e=this.model)==null?void 0:e.displayMapFull)!=null&&t.defaultViewMode&&(this.activeTab=this.model.displayMapFull.defaultViewMode);for(const a of this.modelFields)a.usageType.startsWith("relForeignKey")||a.dataType.startsWith("mapExtraRel")?this.filters[a.name]=null:a.usageType=="timeRangeStart"&&(this.filters[a.name]={value:null,usageType:"timeRangeStart"});this.loading||this.fetchData()}},Es={key:0,class:"d-flex align-center mb-4 gap-1em"},As={class:"d-flex align-center flex-wrap"},Bs={class:"my-4"},Ls={key:1,class:"my-4"};function Ns(e,t,a,n,l,o){const i=G("CreateButton"),r=G("SuperTableList"),u=G("SuperSelect"),d=G("FilterTime"),f=G("FilterPlace"),c=G("DestructableExpansionPanels"),m=G("SuperTableTable"),h=G("SuperTableGrid"),b=G("SuperTableMap"),v=G("SuperTableCalendar"),p=G("CreateEditForm");return w(),I("div",null,[a.canEdit?(w(),I("div",Es,[e.$slots.create?Ne(e.$slots,"create",{key:0}):(w(),N(i,{key:1,modelFields:o.modelFields,onCreateItem:o.createItem,model:a.model,superOptions:{headers:o.headers,modelFields:o.modelFields,displayMapField:a.displayMapField,model:a.model,canEdit:a.canEdit,currentParentRel:a.currentParentRel,user:a.user}},null,8,["modelFields","onCreateItem","model","superOptions"]))])):ie("",!0),a.isForSelectingRelation?(w(),N(r,{key:1,items:o.items,modelValue:a.modelValue,"onUpdate:modelValue":o.clickRow,superOptions:{headers:o.headers,modelFields:o.modelFields,displayMapField:a.displayMapField,model:a.model,canEdit:a.canEdit,currentParentRel:a.currentParentRel,user:a.user}},null,8,["items","modelValue","onUpdate:modelValue","superOptions"])):(w(),I(Y,{key:2},[s(c,{destroy:!o.quickListsIsMobile,title:"Settings"},{default:x(()=>[de("div",As,[s(Me,{style:{width:"250px"},items:[{text:"Table",value:"table"},{text:"Grid",value:"grid"},{text:"Map",value:"map"},{text:"Calendar",value:"calendar"}],modelValue:l.activeTab,"onUpdate:modelValue":t[0]||(t[0]=g=>l.activeTab=g),variant:"outlined",label:"View As","item-title":"text","item-value":"value",density:"compact",class:"ma-2 flex-grow-1 is-flex","menu-props":{offsetY:!0}},null,8,["modelValue"]),(w(!0),I(Y,null,ge(o.filterInputs,g=>(w(),I("div",{class:"ma-2 flex-grow-1 is-flex",key:g.name},[typeof l.filters[g.name]<"u"?(w(),I(Y,{key:0},[g.usageType.startsWith("relForeignKey")?(w(),N(u,{allowAll:"",key:g.name,modelField:g,modelValue:l.filters[g.name],"onUpdate:modelValue":y=>l.filters[g.name]=y,model:g.meta.relatedModel,class:"ma-2 flex-grow-1 is-flex",variant:"outlined",density:"compact",user:a.user},null,8,["modelField","modelValue","onUpdate:modelValue","model","user"])):ie("",!0),g.usageType=="timeRangeStart"?(w(),N(d,{key:g.name,modelField:g,modelValue:l.filters[g.name].value,"onUpdate:modelValue":y=>l.filters[g.name].value=y,class:"ma-2 flex-grow-1 is-flex"},null,8,["modelField","modelValue","onUpdate:modelValue"])):ie("",!0)],64)):(w(),I(Y,{key:1},[g.usageType=="mapFilter"?(w(),N(f,{key:g.name,filterField:g,modelValue:l.filters,"onUpdate:modelValue":t[1]||(t[1]=y=>l.filters=y),class:"ma-2 flex-grow-1 is-flex",user:a.user},null,8,["filterField","modelValue","user"])):ie("",!0)],64))]))),128))])]),_:1},8,["destroy"]),de("div",Bs,[l.activeTab=="table"?(w(),N(m,{key:0,items:o.items,onClickRow:o.clickRow,options:o.optionsComputed,"onUpdate:options":t[2]||(t[2]=g=>o.optionsComputed=g),itemsLength:+l.itemsLength,superOptions:{headers:o.headers,modelFields:o.modelFields,displayMapField:a.displayMapField,model:a.model,canEdit:a.canEdit,currentParentRel:a.currentParentRel,user:a.user}},null,8,["items","onClickRow","options","itemsLength","superOptions"])):ie("",!0),l.activeTab=="grid"?(w(),I("div",Ls,[s(h,{items:o.items,onClickRow:o.clickRow,superOptions:{headers:o.headers,modelFields:o.modelFields,displayMapField:a.displayMapField,model:a.model,canEdit:a.canEdit,currentParentRel:a.currentParentRel,user:a.user}},null,8,["items","onClickRow","superOptions"])])):ie("",!0),l.activeTab=="map"?(w(),N(b,{key:2,mapHeaders:o.mapHeaders,items:o.items,onClickRow:o.clickRow,superOptions:{headers:o.headers,modelFields:o.modelFields,displayMapField:a.displayMapField,model:a.model,canEdit:a.canEdit,currentParentRel:a.currentParentRel,user:a.user}},null,8,["mapHeaders","items","onClickRow","superOptions"])):ie("",!0),l.activeTab=="calendar"?(w(),N(v,{key:3,items:o.items,onClickRow:o.clickRow,superOptions:{headers:o.headers,modelFields:o.modelFields,displayMapField:a.displayMapField,model:a.model,canEdit:a.canEdit,currentParentRel:a.currentParentRel,user:a.user}},null,8,["items","onClickRow","superOptions"])):ie("",!0)])],64)),a.canEdit?(w(),N(ye,{key:3,modelValue:l.createItemData.showModal,"onUpdate:modelValue":t[5]||(t[5]=g=>l.createItemData.showModal=g),"max-width":"800px"},{default:x(()=>[l.createItemData.showModal?(w(),N(p,{key:0,title:"Create Item",modelValue:l.createItemData.data,"onUpdate:modelValue":t[3]||(t[3]=g=>l.createItemData.data=g),onSubmit:o.createItemSubmit,onCancel:t[4]||(t[4]=g=>l.createItemData.showModal=!1),superOptions:{headers:o.headers,modelFields:o.modelFields,displayMapField:a.displayMapField,model:a.model,canEdit:a.canEdit,currentParentRel:a.currentParentRel,user:a.user}},null,8,["modelValue","onSubmit","superOptions"])):ie("",!0)]),_:1},8,["modelValue"])):ie("",!0)])}const Hs=me(Rs,[["render",Ns]]),gn=Object.freeze(Object.defineProperty({__proto__:null,default:Hs},Symbol.toStringTag,{value:"Module"}));export{be as Q,ms as R,Hs as S,Is as a,dt as b,kl as m,wl as u};

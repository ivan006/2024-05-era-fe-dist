import{bd as $t,bn as Ga,q as ae,a as s,Y as B,a6 as Nt,l as Y,N as K,bo as Te,U as xt,P as te,a1 as Ve,bp as ln,bq as pa,br as Ot,bs as Ft,bt as ba,I as x,a7 as be,bu as ka,L as oe,O as _e,Z as De,bv as Ka,aU as nt,aW as Se,bw as Ht,bx as gt,H as se,a3 as We,Q as ot,by as qa,aX as Me,bz as nn,aY as on,m as Ie,aB as Za,y as rt,b8 as Ja,T as ue,E as Pt,G as Xa,z as je,A as j,aK as Qa,R as $a,a4 as rn,u as ne,bA as sn,b0 as ea,aP as Ye,b1 as el,aQ as St,F as H,bB as un,b6 as Oe,a_ as it,_ as me,o as k,c as I,w as V,b as de,bC as ta,bD as aa,e as Q,h as ee,t as ke,K as Ge,bE as Yt,bF as tl,bG as dn,k as G,b2 as vt,bH as cn,bI as mn,bJ as Tt,bK as He,bL as fn,ba as Ne,aZ as Pe,bM as wa,bN as vn,bj as hn,bk as la,bO as yn,bm as gn,bP as pn,bQ as X,aA as Be,bR as It,ax as xe,b4 as na,ay as oa,J as et,aH as al,aJ as ll,aV as bn,bS as kn,bT as wn,b7 as Va,bU as ra,bV as Vn,az as xn,bW as Pn,bX as pt,j as ie,bY as Sn,i as N,r as pe,M as Tn,v as nl,bZ as Dn,x as ol,n as ia,b_ as Cn,C as Mn,D as _n,b$ as On,c0 as Fn,a8 as Le,c1 as rl,ae as $e,c2 as sa,c3 as In,s as Rn,c4 as En,aG as An,c5 as xa,c6 as Bn,au as Ln,c7 as Nn,c8 as ft,a2 as ua,aC as Hn,aL as Yn,aR as Un,c9 as il,b5 as Xe,bg as Ze,ca as tt,cb as zn,cc as Wn,cd as jn,ce as Gn,cf as Pa,ad as Sa,cg as Kn,f as Rt,ch as qn,ci as Zn}from"./index-d1aiMcR6.js";import{b as Qe,d as Jn,s as Ut,c as Xn,g as sl,n as ul,B as Et,e as Ta,f as st,V as fe,m as dl,h as Qn,u as cl,i as bt,j as $n,k as eo,l as to,o as ao,p as lo,q as no,a as oo}from"./VForm-DM7EXgbe.js";import{V as we,a as at,b as Fe,c as Re}from"./VCard-DPScKTh4.js";import{m as ro,b as io,u as Dt,e as Ke,f as so,g as uo,c as ml,V as zt,h as fl,a as co}from"./VList-C5z4sgGn.js";import{a as Wt,V as jt}from"./VRow-Bfvy0suZ.js";const ht=new WeakMap;function mo(e,t){Object.keys(t).forEach(a=>{if($t(a)){const n=Ga(a),l=ht.get(e);if(t[a]==null)l==null||l.forEach(o=>{const[i,r]=o;i===n&&(e.removeEventListener(n,r),l.delete(o))});else if(!l||![...l].some(o=>o[0]===n&&o[1]===t[a])){e.addEventListener(n,t[a]);const o=l||new Set;o.add([n,t[a]]),ht.has(e)||ht.set(e,o)}}else t[a]==null?e.removeAttribute(a):e.setAttribute(a,t[a])})}function fo(e,t){Object.keys(t).forEach(a=>{if($t(a)){const n=Ga(a),l=ht.get(e);l==null||l.forEach(o=>{const[i,r]=o;i===n&&(e.removeEventListener(n,r),l.delete(o))})}else e.removeAttribute(a)})}function vl(e){if(typeof e.getRootNode!="function"){for(;e.parentNode;)e=e.parentNode;return e!==document?null:document}const t=e.getRootNode();return t!==document&&t.getRootNode({composed:!0})!==document?null:t}function Da(e,t,a){return Object.keys(e).filter(n=>$t(n)&&n.endsWith(t)).reduce((n,l)=>(n[l.slice(0,-t.length)]=o=>e[l](o,a(o)),n),{})}function hl(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;e;){if(t?vo(e):da(e))return e;e=e.parentElement}return document.scrollingElement}function kt(e,t){const a=[];if(t&&e&&!t.contains(e))return a;for(;e&&(da(e)&&a.push(e),e!==t);)e=e.parentElement;return a}function da(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return t.overflowY==="scroll"||t.overflowY==="auto"&&e.scrollHeight>e.clientHeight}function vo(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return["scroll","auto"].includes(t.overflowY)}function ho(e){for(;e;){if(window.getComputedStyle(e).position==="fixed")return!0;e=e.offsetParent}return!1}const yo=Y({target:[Object,Array]},"v-dialog-transition"),ca=ae()({name:"VDialogTransition",props:yo(),setup(e,t){let{slots:a}=t;const n={onBeforeEnter(l){l.style.pointerEvents="none",l.style.visibility="hidden"},async onEnter(l,o){var m;await new Promise(y=>requestAnimationFrame(y)),await new Promise(y=>requestAnimationFrame(y)),l.style.visibility="";const{x:i,y:r,sx:u,sy:d,speed:f}=Ma(e.target,l),c=Qe(l,[{transform:`translate(${i}px, ${r}px) scale(${u}, ${d})`,opacity:0},{}],{duration:225*f,easing:Jn});(m=Ca(l))==null||m.forEach(y=>{Qe(y,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*f,easing:Ut})}),c.finished.then(()=>o())},onAfterEnter(l){l.style.removeProperty("pointer-events")},onBeforeLeave(l){l.style.pointerEvents="none"},async onLeave(l,o){var m;await new Promise(y=>requestAnimationFrame(y));const{x:i,y:r,sx:u,sy:d,speed:f}=Ma(e.target,l);Qe(l,[{},{transform:`translate(${i}px, ${r}px) scale(${u}, ${d})`,opacity:0}],{duration:125*f,easing:Xn}).finished.then(()=>o()),(m=Ca(l))==null||m.forEach(y=>{Qe(y,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*f,easing:Ut})})},onAfterLeave(l){l.style.removeProperty("pointer-events")}};return()=>e.target?s(Nt,B({name:"dialog-transition"},n,{css:!1}),a):s(Nt,{name:"dialog-transition"},a)}});function Ca(e){var a;const t=(a=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:a.children;return t&&[...t]}function Ma(e,t){const a=sl(e),n=ul(t),[l,o]=getComputedStyle(t).transformOrigin.split(" ").map(g=>parseFloat(g)),[i,r]=getComputedStyle(t).getPropertyValue("--v-overlay-anchor-origin").split(" ");let u=a.left+a.width/2;i==="left"||r==="left"?u-=a.width/2:(i==="right"||r==="right")&&(u+=a.width/2);let d=a.top+a.height/2;i==="top"||r==="top"?d-=a.height/2:(i==="bottom"||r==="bottom")&&(d+=a.height/2);const f=a.width/n.width,c=a.height/n.height,m=Math.max(1,f,c),y=f/m||0,b=c/m||0,v=n.width*n.height/(window.innerWidth*window.innerHeight),p=v>.12?Math.min(1.5,(v-.12)*10+1):1;return{x:u-(l+n.left),y:d-(o+n.top),sx:y,sy:b,speed:p}}function At(e,t){return{x:e.x+t.x,y:e.y+t.y}}function go(e,t){return{x:e.x-t.x,y:e.y-t.y}}function _a(e,t){if(e.side==="top"||e.side==="bottom"){const{side:a,align:n}=e,l=n==="left"?0:n==="center"?t.width/2:n==="right"?t.width:n,o=a==="top"?0:a==="bottom"?t.height:a;return At({x:l,y:o},t)}else if(e.side==="left"||e.side==="right"){const{side:a,align:n}=e,l=a==="left"?0:a==="right"?t.width:a,o=n==="top"?0:n==="center"?t.height/2:n==="bottom"?t.height:n;return At({x:l,y:o},t)}return At({x:t.width/2,y:t.height/2},t)}const yl={static:ko,connected:Vo},po=Y({locationStrategy:{type:[String,Function],default:"static",validator:e=>typeof e=="function"||e in yl},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function bo(e,t){const a=K({}),n=K();Te&&xt(()=>!!(t.isActive.value&&e.locationStrategy),o=>{var i,r;te(()=>e.locationStrategy,o),Ve(()=>{window.removeEventListener("resize",l),n.value=void 0}),window.addEventListener("resize",l,{passive:!0}),typeof e.locationStrategy=="function"?n.value=(i=e.locationStrategy(t,e,a))==null?void 0:i.updateLocation:n.value=(r=yl[e.locationStrategy](t,e,a))==null?void 0:r.updateLocation});function l(o){var i;(i=n.value)==null||i.call(n,o)}return{contentStyles:a,updateLocation:n}}function ko(){}function wo(e,t){t?e.style.removeProperty("left"):e.style.removeProperty("right");const a=ul(e);return t?a.x+=parseFloat(e.style.right||0):a.x-=parseFloat(e.style.left||0),a.y-=parseFloat(e.style.top||0),a}function Vo(e,t,a){(Array.isArray(e.target.value)||ho(e.target.value))&&Object.assign(a.value,{position:"fixed",top:0,[e.isRtl.value?"right":"left"]:0});const{preferredAnchor:l,preferredOrigin:o}=ln(()=>{const b=pa(t.location,e.isRtl.value),v=t.origin==="overlap"?b:t.origin==="auto"?Ot(b):pa(t.origin,e.isRtl.value);return b.side===v.side&&b.align===Ft(v).align?{preferredAnchor:ba(b),preferredOrigin:ba(v)}:{preferredAnchor:b,preferredOrigin:v}}),[i,r,u,d]=["minWidth","minHeight","maxWidth","maxHeight"].map(b=>x(()=>{const v=parseFloat(t[b]);return isNaN(v)?1/0:v})),f=x(()=>{if(Array.isArray(t.offset))return t.offset;if(typeof t.offset=="string"){const b=t.offset.split(" ").map(parseFloat);return b.length<2&&b.push(0),b}return typeof t.offset=="number"?[t.offset,0]:[0,0]});let c=!1;const m=new ResizeObserver(()=>{c&&y()});te([e.target,e.contentEl],(b,v)=>{let[p,g]=b,[h,M]=v;h&&!Array.isArray(h)&&m.unobserve(h),p&&!Array.isArray(p)&&m.observe(p),M&&m.unobserve(M),g&&m.observe(g)},{immediate:!0}),Ve(()=>{m.disconnect()});function y(){if(c=!1,requestAnimationFrame(()=>c=!0),!e.target.value||!e.contentEl.value)return;const b=sl(e.target.value),v=wo(e.contentEl.value,e.isRtl.value),p=kt(e.contentEl.value),g=12;p.length||(p.push(document.documentElement),e.contentEl.value.style.top&&e.contentEl.value.style.left||(v.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),v.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const h=p.reduce((S,F)=>{const _=F.getBoundingClientRect(),E=new Et({x:F===document.documentElement?0:_.x,y:F===document.documentElement?0:_.y,width:F.clientWidth,height:F.clientHeight});return S?new Et({x:Math.max(S.left,E.left),y:Math.max(S.top,E.top),width:Math.min(S.right,E.right)-Math.max(S.left,E.left),height:Math.min(S.bottom,E.bottom)-Math.max(S.top,E.top)}):E},void 0);h.x+=g,h.y+=g,h.width-=g*2,h.height-=g*2;let M={anchor:l.value,origin:o.value};function L(S){const F=new Et(v),_=_a(S.anchor,b),E=_a(S.origin,F);let{x:q,y:W}=go(_,E);switch(S.anchor.side){case"top":W-=f.value[0];break;case"bottom":W+=f.value[0];break;case"left":q-=f.value[0];break;case"right":q+=f.value[0];break}switch(S.anchor.align){case"top":W-=f.value[1];break;case"bottom":W+=f.value[1];break;case"left":q-=f.value[1];break;case"right":q+=f.value[1];break}return F.x+=q,F.y+=W,F.width=Math.min(F.width,u.value),F.height=Math.min(F.height,d.value),{overflows:Ta(F,h),x:q,y:W}}let R=0,z=0;const P={x:0,y:0},T={x:!1,y:!1};let w=-1;for(;!(w++>10);){const{x:S,y:F,overflows:_}=L(M);R+=S,z+=F,v.x+=S,v.y+=F;{const E=ka(M.anchor),q=_.x.before||_.x.after,W=_.y.before||_.y.after;let ve=!1;if(["x","y"].forEach(C=>{if(C==="x"&&q&&!T.x||C==="y"&&W&&!T.y){const D={anchor:{...M.anchor},origin:{...M.origin}},U=C==="x"?E==="y"?Ft:Ot:E==="y"?Ot:Ft;D.anchor=U(D.anchor),D.origin=U(D.origin);const{overflows:$}=L(D);($[C].before<=_[C].before&&$[C].after<=_[C].after||$[C].before+$[C].after<(_[C].before+_[C].after)/2)&&(M=D,ve=T[C]=!0)}}),ve)continue}_.x.before&&(R+=_.x.before,v.x+=_.x.before),_.x.after&&(R-=_.x.after,v.x-=_.x.after),_.y.before&&(z+=_.y.before,v.y+=_.y.before),_.y.after&&(z-=_.y.after,v.y-=_.y.after);{const E=Ta(v,h);P.x=h.width-E.x.before-E.x.after,P.y=h.height-E.y.before-E.y.after,R+=E.x.before,v.x+=E.x.before,z+=E.y.before,v.y+=E.y.before}break}const O=ka(M.anchor);return Object.assign(a.value,{"--v-overlay-anchor-origin":`${M.anchor.side} ${M.anchor.align}`,transformOrigin:`${M.origin.side} ${M.origin.align}`,top:oe(Bt(z)),left:e.isRtl.value?void 0:oe(Bt(R)),right:e.isRtl.value?oe(Bt(-R)):void 0,minWidth:oe(O==="y"?Math.min(i.value,b.width):i.value),maxWidth:oe(Oa(_e(P.x,i.value===1/0?0:i.value,u.value))),maxHeight:oe(Oa(_e(P.y,r.value===1/0?0:r.value,d.value)))}),{available:P,contentBox:v}}return te(()=>[l.value,o.value,t.offset,t.minWidth,t.minHeight,t.maxWidth,t.maxHeight],()=>y()),be(()=>{const b=y();if(!b)return;const{available:v,contentBox:p}=b;p.height>v.y&&requestAnimationFrame(()=>{y(),requestAnimationFrame(()=>{y()})})}),{updateLocation:y}}function Bt(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}function Oa(e){return Math.ceil(e*devicePixelRatio)/devicePixelRatio}let Gt=!0;const wt=[];function xo(e){!Gt||wt.length?(wt.push(e),Kt()):(Gt=!1,e(),Kt())}let Fa=-1;function Kt(){cancelAnimationFrame(Fa),Fa=requestAnimationFrame(()=>{const e=wt.shift();e&&e(),wt.length?Kt():Gt=!0})}const yt={none:null,close:To,block:Do,reposition:Co},Po=Y({scrollStrategy:{type:[String,Function],default:"block",validator:e=>typeof e=="function"||e in yt}},"VOverlay-scroll-strategies");function So(e,t){if(!Te)return;let a;De(async()=>{a==null||a.stop(),t.isActive.value&&e.scrollStrategy&&(a=Ka(),await new Promise(n=>setTimeout(n)),a.active&&a.run(()=>{var n;typeof e.scrollStrategy=="function"?e.scrollStrategy(t,e,a):(n=yt[e.scrollStrategy])==null||n.call(yt,t,e,a)}))}),Ve(()=>{a==null||a.stop()})}function To(e){function t(a){e.isActive.value=!1}gl(e.targetEl.value??e.contentEl.value,t)}function Do(e,t){var i;const a=(i=e.root.value)==null?void 0:i.offsetParent,n=[...new Set([...kt(e.targetEl.value,t.contained?a:void 0),...kt(e.contentEl.value,t.contained?a:void 0)])].filter(r=>!r.classList.contains("v-overlay-scroll-blocked")),l=window.innerWidth-document.documentElement.offsetWidth,o=(r=>da(r)&&r)(a||document.documentElement);o&&e.root.value.classList.add("v-overlay--scroll-blocked"),n.forEach((r,u)=>{r.style.setProperty("--v-body-scroll-x",oe(-r.scrollLeft)),r.style.setProperty("--v-body-scroll-y",oe(-r.scrollTop)),r!==document.documentElement&&r.style.setProperty("--v-scrollbar-offset",oe(l)),r.classList.add("v-overlay-scroll-blocked")}),Ve(()=>{n.forEach((r,u)=>{const d=parseFloat(r.style.getPropertyValue("--v-body-scroll-x")),f=parseFloat(r.style.getPropertyValue("--v-body-scroll-y")),c=r.style.scrollBehavior;r.style.scrollBehavior="auto",r.style.removeProperty("--v-body-scroll-x"),r.style.removeProperty("--v-body-scroll-y"),r.style.removeProperty("--v-scrollbar-offset"),r.classList.remove("v-overlay-scroll-blocked"),r.scrollLeft=-d,r.scrollTop=-f,r.style.scrollBehavior=c}),o&&e.root.value.classList.remove("v-overlay--scroll-blocked")})}function Co(e,t,a){let n=!1,l=-1,o=-1;function i(r){xo(()=>{var f,c;const u=performance.now();(c=(f=e.updateLocation).value)==null||c.call(f,r),n=(performance.now()-u)/(1e3/60)>2})}o=(typeof requestIdleCallback>"u"?r=>r():requestIdleCallback)(()=>{a.run(()=>{gl(e.targetEl.value??e.contentEl.value,r=>{n?(cancelAnimationFrame(l),l=requestAnimationFrame(()=>{l=requestAnimationFrame(()=>{i(r)})})):i(r)})})}),Ve(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(o),cancelAnimationFrame(l)})}function gl(e,t){const a=[document,...kt(e)];a.forEach(n=>{n.addEventListener("scroll",t,{passive:!0})}),Ve(()=>{a.forEach(n=>{n.removeEventListener("scroll",t)})})}const qt=Symbol.for("vuetify:v-menu"),Mo=Y({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...ro()},"VOverlay-activator");function _o(e,t){let{isActive:a,isTop:n}=t;const l=nt("useActivator"),o=K();let i=!1,r=!1,u=!0;const d=x(()=>e.openOnFocus||e.openOnFocus==null&&e.openOnHover),f=x(()=>e.openOnClick||e.openOnClick==null&&!e.openOnHover&&!d.value),{runOpenDelay:c,runCloseDelay:m}=io(e,P=>{P===(e.openOnHover&&i||d.value&&r)&&!(e.openOnHover&&a.value&&!n.value)&&(a.value!==P&&(u=!0),a.value=P)}),y=K(),b={onClick:P=>{P.stopPropagation(),o.value=P.currentTarget||P.target,a.value||(y.value=[P.clientX,P.clientY]),a.value=!a.value},onMouseenter:P=>{var T;(T=P.sourceCapabilities)!=null&&T.firesTouchEvents||(i=!0,o.value=P.currentTarget||P.target,c())},onMouseleave:P=>{i=!1,m()},onFocus:P=>{gt(P.target,":focus-visible")!==!1&&(r=!0,P.stopPropagation(),o.value=P.currentTarget||P.target,c())},onBlur:P=>{r=!1,P.stopPropagation(),m()}},v=x(()=>{const P={};return f.value&&(P.onClick=b.onClick),e.openOnHover&&(P.onMouseenter=b.onMouseenter,P.onMouseleave=b.onMouseleave),d.value&&(P.onFocus=b.onFocus,P.onBlur=b.onBlur),P}),p=x(()=>{const P={};if(e.openOnHover&&(P.onMouseenter=()=>{i=!0,c()},P.onMouseleave=()=>{i=!1,m()}),d.value&&(P.onFocusin=()=>{r=!0,c()},P.onFocusout=()=>{r=!1,m()}),e.closeOnContentClick){const T=Se(qt,null);P.onClick=()=>{a.value=!1,T==null||T.closeParents()}}return P}),g=x(()=>{const P={};return e.openOnHover&&(P.onMouseenter=()=>{u&&(i=!0,u=!1,c())},P.onMouseleave=()=>{i=!1,m()}),P});te(n,P=>{P&&(e.openOnHover&&!i&&(!d.value||!r)||d.value&&!r&&(!e.openOnHover||!i))&&(a.value=!1)}),te(a,P=>{P||setTimeout(()=>{y.value=void 0})},{flush:"post"});const h=Ht();De(()=>{h.value&&be(()=>{o.value=h.el})});const M=Ht(),L=x(()=>e.target==="cursor"&&y.value?y.value:M.value?M.el:pl(e.target,l)||o.value),R=x(()=>Array.isArray(L.value)?void 0:L.value);let z;return te(()=>!!e.activator,P=>{P&&Te?(z=Ka(),z.run(()=>{Oo(e,l,{activatorEl:o,activatorEvents:v})})):z&&z.stop()},{flush:"post",immediate:!0}),Ve(()=>{z==null||z.stop()}),{activatorEl:o,activatorRef:h,target:L,targetEl:R,targetRef:M,activatorEvents:v,contentEvents:p,scrimEvents:g}}function Oo(e,t,a){let{activatorEl:n,activatorEvents:l}=a;te(()=>e.activator,(u,d)=>{if(d&&u!==d){const f=r(d);f&&i(f)}u&&be(()=>o())},{immediate:!0}),te(()=>e.activatorProps,()=>{o()}),Ve(()=>{i()});function o(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r(),d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;u&&mo(u,B(l.value,d))}function i(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r(),d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;u&&fo(u,B(l.value,d))}function r(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activator;const d=pl(u,t);return n.value=(d==null?void 0:d.nodeType)===Node.ELEMENT_NODE?d:void 0,n.value}}function pl(e,t){var n,l;if(!e)return;let a;if(e==="parent"){let o=(l=(n=t==null?void 0:t.proxy)==null?void 0:n.$el)==null?void 0:l.parentNode;for(;o!=null&&o.hasAttribute("data-no-activator");)o=o.parentNode;a=o}else typeof e=="string"?a=document.querySelector(e):"$el"in e?a=e.$el:a=e;return a}function Fo(){if(!Te)return se(!1);const{ssr:e}=We();if(e){const t=se(!1);return ot(()=>{t.value=!0}),t}else return se(!0)}const bl=Y({eager:Boolean},"lazy");function kl(e,t){const a=se(!1),n=x(()=>a.value||e.eager||t.value);te(t,()=>a.value=!0);function l(){e.eager||(a.value=!1)}return{isBooted:a,hasContent:n,onAfterLeave:l}}const Ia=Symbol.for("vuetify:stack"),Je=qa([]);function Io(e,t,a){const n=nt("useStack"),l=!a,o=Se(Ia,void 0),i=qa({activeChildren:new Set});Me(Ia,i);const r=se(+t.value);xt(e,()=>{var c;const f=(c=Je.at(-1))==null?void 0:c[1];r.value=f?f+10:+t.value,l&&Je.push([n.uid,r.value]),o==null||o.activeChildren.add(n.uid),Ve(()=>{if(l){const m=on(Je).findIndex(y=>y[0]===n.uid);Je.splice(m,1)}o==null||o.activeChildren.delete(n.uid)})});const u=se(!0);l&&De(()=>{var c;const f=((c=Je.at(-1))==null?void 0:c[0])===n.uid;setTimeout(()=>u.value=f)});const d=x(()=>!i.activeChildren.size);return{globalTop:nn(u),localTop:d,stackStyles:x(()=>({zIndex:r.value}))}}function Ro(e){return{teleportTarget:x(()=>{const a=e.value;if(a===!0||!Te)return;const n=a===!1?document.body:typeof a=="string"?document.querySelector(a):a;if(n==null)return;let l=n.querySelector(":scope > .v-overlay-container");return l||(l=document.createElement("div"),l.className="v-overlay-container",n.appendChild(l)),l})}}function Eo(){return!0}function wl(e,t,a){if(!e||Vl(e,a)===!1)return!1;const n=vl(t);if(typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&n.host===e.target)return!1;const l=(typeof a.value=="object"&&a.value.include||(()=>[]))();return l.push(t),!l.some(o=>o==null?void 0:o.contains(e.target))}function Vl(e,t){return(typeof t.value=="object"&&t.value.closeConditional||Eo)(e)}function Ao(e,t,a){const n=typeof a.value=="function"?a.value:a.value.handler;t._clickOutside.lastMousedownWasOutside&&wl(e,t,a)&&setTimeout(()=>{Vl(e,a)&&n&&n(e)},0)}function Ra(e,t){const a=vl(e);t(document),typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&t(a)}const Bo={mounted(e,t){const a=l=>Ao(l,e,t),n=l=>{e._clickOutside.lastMousedownWasOutside=wl(l,e,t)};Ra(e,l=>{l.addEventListener("click",a,!0),l.addEventListener("mousedown",n,!0)}),e._clickOutside||(e._clickOutside={lastMousedownWasOutside:!1}),e._clickOutside[t.instance.$.uid]={onClick:a,onMousedown:n}},unmounted(e,t){e._clickOutside&&(Ra(e,a=>{var o;if(!a||!((o=e._clickOutside)!=null&&o[t.instance.$.uid]))return;const{onClick:n,onMousedown:l}=e._clickOutside[t.instance.$.uid];a.removeEventListener("click",n,!0),a.removeEventListener("mousedown",l,!0)}),delete e._clickOutside[t.instance.$.uid])}};function Lo(e){const{modelValue:t,color:a,...n}=e;return s(Nt,{name:"fade-transition",appear:!0},{default:()=>[e.modelValue&&s("div",B({class:["v-overlay__scrim",e.color.backgroundColorClasses.value],style:e.color.backgroundColorStyles.value},n),null)]})}const Ct=Y({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...Mo(),...Ie(),...Za(),...bl(),...po(),...Po(),...rt(),...Ja()},"VOverlay"),Ue=ae()({name:"VOverlay",directives:{ClickOutside:Bo},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...Ct()},emits:{"click:outside":e=>!0,"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{slots:a,attrs:n,emit:l}=t;const o=ue(e,"modelValue"),i=x({get:()=>o.value,set:A=>{A&&e.disabled||(o.value=A)}}),{teleportTarget:r}=Ro(x(()=>e.attach||e.contained)),{themeClasses:u}=Pt(e),{rtlClasses:d,isRtl:f}=Xa(),{hasContent:c,onAfterLeave:m}=kl(e,i),y=je(x(()=>typeof e.scrim=="string"?e.scrim:null)),{globalTop:b,localTop:v,stackStyles:p}=Io(i,j(e,"zIndex"),e._disableGlobalStack),{activatorEl:g,activatorRef:h,target:M,targetEl:L,targetRef:R,activatorEvents:z,contentEvents:P,scrimEvents:T}=_o(e,{isActive:i,isTop:v}),{dimensionStyles:w}=Qa(e),O=Fo(),{scopeId:S}=Dt();te(()=>e.disabled,A=>{A&&(i.value=!1)});const F=K(),_=K(),E=K(),{contentStyles:q,updateLocation:W}=bo(e,{isRtl:f,contentEl:E,target:M,isActive:i});So(e,{root:F,contentEl:E,targetEl:L,isActive:i,updateLocation:W});function ve(A){l("click:outside",A),e.persistent?le():i.value=!1}function C(A){return i.value&&b.value&&(!e.scrim||A.target===_.value)}Te&&te(i,A=>{A?window.addEventListener("keydown",D):window.removeEventListener("keydown",D)},{immediate:!0}),$a(()=>{Te&&window.removeEventListener("keydown",D)});function D(A){var Z,ce;A.key==="Escape"&&b.value&&(e.persistent?le():(i.value=!1,(Z=E.value)!=null&&Z.contains(document.activeElement)&&((ce=g.value)==null||ce.focus())))}const U=rn();xt(()=>e.closeOnBack,()=>{un(U,A=>{b.value&&i.value?(A(!1),e.persistent?le():i.value=!1):A()})});const $=K();te(()=>i.value&&(e.absolute||e.contained)&&r.value==null,A=>{if(A){const Z=hl(F.value);Z&&Z!==document.scrollingElement&&($.value=Z.scrollTop)}});function le(){e.noClickAnimation||E.value&&Qe(E.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:Ut})}function J(){l("afterEnter")}function re(){m(),l("afterLeave")}return ne(()=>{var A;return s(H,null,[(A=a.activator)==null?void 0:A.call(a,{isActive:i.value,targetRef:R,props:B({ref:h},z.value,e.activatorProps)}),O.value&&c.value&&s(sn,{disabled:!r.value,to:r.value},{default:()=>[s("div",B({class:["v-overlay",{"v-overlay--absolute":e.absolute||e.contained,"v-overlay--active":i.value,"v-overlay--contained":e.contained},u.value,d.value,e.class],style:[p.value,{"--v-overlay-opacity":e.opacity,top:oe($.value)},e.style],ref:F},S,n),[s(Lo,B({color:y,modelValue:i.value&&!!e.scrim,ref:_},T.value),null),s(ea,{appear:!0,persisted:!0,transition:e.transition,target:M.value,onAfterEnter:J,onAfterLeave:re},{default:()=>{var Z;return[Ye(s("div",B({ref:E,class:["v-overlay__content",e.contentClass],style:[w.value,q.value]},P.value,e.contentProps),[(Z=a.default)==null?void 0:Z.call(a,{isActive:i})]),[[el,i.value],[St("click-outside"),{handler:ve,closeConditional:C,include:()=>[g.value]}]])]}})])]})])}),{activatorEl:g,scrimEl:_,target:M,animateClick:le,contentEl:E,globalTop:b,localTop:v,updateLocation:W}}}),No=Y({id:String,text:String,...Oe(Ct({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"VTooltip"),Ho=ae()({name:"VTooltip",props:No(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const n=ue(e,"modelValue"),{scopeId:l}=Dt(),o=it(),i=x(()=>e.id||`v-tooltip-${o}`),r=K(),u=x(()=>e.location.split(" ").length>1?e.location:e.location+" center"),d=x(()=>e.origin==="auto"||e.origin==="overlap"||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center"),f=x(()=>e.transition?e.transition:n.value?"scale-transition":"fade-transition"),c=x(()=>B({"aria-describedby":i.value},e.activatorProps));return ne(()=>{const m=Ue.filterProps(e);return s(Ue,B({ref:r,class:["v-tooltip",e.class],style:e.style,id:i.value},m,{modelValue:n.value,"onUpdate:modelValue":y=>n.value=y,transition:f.value,absolute:!0,location:u.value,origin:d.value,persistent:!0,role:"tooltip",activatorProps:c.value,_disableGlobalStack:!0},l),{activator:a.activator,default:function(){var p;for(var y=arguments.length,b=new Array(y),v=0;v<y;v++)b[v]=arguments[v];return((p=a.default)==null?void 0:p.call(a,...b))??e.text}})}),st({},r)}}),Yo={name:"CreateButton",props:{superOptions:{type:Object,default(){return{headers:[],modelFields:[],displayMapField:!1,model:{},canEdit:!1,currentParentRecord:{},user:{}}}}},computed:{canCreate(){var t,a,n,l;let e=!1;return(l=(n=(a=(t=this.superOptions.currentParentRel)==null?void 0:t.field)==null?void 0:a.fieldExtras)==null?void 0:n.relationRules)!=null&&l.creatable&&(e=this.superOptions.currentParentRel.field.fieldExtras.relationRules.creatable(this.superOptions.user,this.superOptions.currentParentRel.currentParentRecord.item)),e},canCreateMsgType(){var t,a,n;let e="";return(t=this.superOptions.currentParentRel)!=null&&t.currentParentRecord&&(((a=this.superOptions.currentParentRel)==null?void 0:a.currentParentRecord.model.name)=="DBProviderGroup"?e="provider":((n=this.superOptions.currentParentRel)==null?void 0:n.currentParentRecord.model.name)=="DBCustomerGroup"&&(e="customer")),e},canCreatePart2(){var t;let e=this.canCreate;return(t=this.superOptions.currentParentRel)!=null&&t.currentParentRecord&&this.superOptions.currentParentRel.currentParentRecord.relationType=="relChildrenChildrenApplicationType"&&(e=this.canCreate||!!this.customerGroupsAssociatedWithUser.length),e},canCreateMsg(){var t;let e=this.getMsg(this.canCreateMsgType);return(t=this.superOptions.currentParentRel)!=null&&t.currentParentRecord&&this.superOptions.currentParentRel.currentParentRecord.relationType=="relChildrenChildrenApplicationType"&&(e=this.getMsg("customer")),e}},methods:{getMsg(e){let t="";return Array.isArray(e)?e.length>1&&(t=`To create first set your active ${e[0]} group and  active ${e[1]}  group`):t=`To create first set your active ${e} group`,t}},mounted(){}};function Uo(e,t,a,n,l,o){return k(),I("div",null,[s(Ho,{bottom:"",disabled:o.canCreatePart2},{activator:V(({props:i})=>[de("div",ta(aa(i)),[s(Q,{onClick:t[0]||(t[0]=r=>{e.$emit("createItem",r)}),disabled:!o.canCreatePart2},{default:V(()=>[ee("Create")]),_:1},8,["disabled"])],16)]),default:V(()=>[de("span",null,ke(o.canCreateMsg),1)]),_:1},8,["disabled"])])}const zo=me(Yo,[["render",Uo]]),Wo=Y({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...Ct({origin:"center center",scrollStrategy:"block",transition:{component:ca},zIndex:2400})},"VDialog"),ge=ae()({name:"VDialog",props:Wo(),emits:{"update:modelValue":e=>!0,afterLeave:()=>!0},setup(e,t){let{emit:a,slots:n}=t;const l=ue(e,"modelValue"),{scopeId:o}=Dt(),i=K();function r(f){var y,b;const c=f.relatedTarget,m=f.target;if(c!==m&&((y=i.value)!=null&&y.contentEl)&&((b=i.value)!=null&&b.globalTop)&&![document,i.value.contentEl].includes(m)&&!i.value.contentEl.contains(m)){const v=Yt(i.value.contentEl);if(!v.length)return;const p=v[0],g=v[v.length-1];c===p?g.focus():p.focus()}}Te&&te(()=>l.value&&e.retainFocus,f=>{f?document.addEventListener("focusin",r):document.removeEventListener("focusin",r)},{immediate:!0});function u(){var f;(f=i.value)!=null&&f.contentEl&&!i.value.contentEl.contains(document.activeElement)&&i.value.contentEl.focus({preventScroll:!0})}function d(){a("afterLeave")}return te(l,async f=>{var c;f||(await be(),(c=i.value.activatorEl)==null||c.focus({preventScroll:!0}))}),ne(()=>{const f=Ue.filterProps(e),c=B({"aria-haspopup":"dialog","aria-expanded":String(l.value)},e.activatorProps),m=B({tabindex:-1},e.contentProps);return s(Ue,B({ref:i,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},f,{modelValue:l.value,"onUpdate:modelValue":y=>l.value=y,"aria-modal":"true",activatorProps:c,contentProps:m,role:"dialog",onAfterEnter:u,onAfterLeave:d},o),{activator:n.activator,default:function(){for(var y=arguments.length,b=new Array(y),v=0;v<y;v++)b[v]=arguments[v];return s(Ge,{root:"VDialog"},{default:()=>{var p;return[(p=n.default)==null?void 0:p.call(n,...b)]}})}})}),st({},i)}}),jo={name:"RelationComponent",components:{SuperTable:()=>tl(()=>Promise.resolve().then(()=>an),void 0)},props:{configs:{type:Object,default(){return{}}},lookup:{type:Number,default(){return null}},modelValue:{type:Number,default(){return null}},readonly:{type:Boolean,default(){return!1}}},data(){return{showRelationDialog:!1,newlookup:{}}},computed:{isNullable(){return this.configs.meta.relatedModel.fields()[this.foreignKey].isNullable},displayNameField(){const e=this.configs.meta.relatedModel.fields();return Object.keys(e).find(t=>t!=="id"&&e[t]instanceof dn)},computedValue(){let e="";const t=this.configs.meta.relatedModel.query().whereId(+this.modelValue).get();return t.length&&(e=t[0][this.configs.meta.lookupDisplayField]),e}},methods:{input(e){this.newlookup=e,this.showRelationDialog=!1,this.$emit("update:modelValue",e.id)},click(){this.readonly||(this.showRelationDialog=!0)}},mounted(){}};function Go(e,t,a,n,l,o){const i=G("SuperTable");return k(),I("div",null,[s(fe,{onClick:o.click,label:a.configs.label,modelValue:o.computedValue,rules:a.configs.meta.rules,readonly:"",disabled:a.readonly,variant:"underlined"},null,8,["onClick","label","modelValue","rules","disabled"]),s(ge,{modelValue:l.showRelationDialog,"onUpdate:modelValue":t[0]||(t[0]=r=>l.showRelationDialog=r),"max-width":"800px"},{default:V(()=>[s(we,null,{default:V(()=>[s(at,null,{default:V(()=>[ee(" Select Item ")]),_:1}),s(Fe,null,{default:V(()=>[s(i,{isForSelectingRelation:!0,canEdit:!1,modelValue:a.modelValue,"onUpdate:modelValue":o.input,model:a.configs.meta.relatedModel},null,8,["modelValue","onUpdate:modelValue","model"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const Ko=me(jo,[["render",Go]]),xl=Y({active:{type:[String,Array],default:void 0},disabled:{type:[Boolean,String,Array],default:!1},nextIcon:{type:[String],default:"$next"},prevIcon:{type:[String],default:"$prev"},modeIcon:{type:[String],default:"$subgroup"},text:String,viewMode:{type:String,default:"month"}},"VDatePickerControls"),Ea=ae()({name:"VDatePickerControls",props:xl(),emits:{"click:year":()=>!0,"click:month":()=>!0,"click:prev":()=>!0,"click:next":()=>!0,"click:text":()=>!0},setup(e,t){let{emit:a}=t;const n=x(()=>Array.isArray(e.disabled)?e.disabled.includes("text"):!!e.disabled),l=x(()=>Array.isArray(e.disabled)?e.disabled.includes("mode"):!!e.disabled),o=x(()=>Array.isArray(e.disabled)?e.disabled.includes("prev"):!!e.disabled),i=x(()=>Array.isArray(e.disabled)?e.disabled.includes("next"):!!e.disabled);function r(){a("click:prev")}function u(){a("click:next")}function d(){a("click:year")}function f(){a("click:month")}return ne(()=>s("div",{class:["v-date-picker-controls"]},[s(Q,{class:"v-date-picker-controls__month-btn",disabled:n.value,text:e.text,variant:"text",rounded:!0,onClick:f},null),s(Q,{key:"mode-btn",class:"v-date-picker-controls__mode-btn",disabled:l.value,density:"comfortable",icon:e.modeIcon,variant:"text",onClick:d},null),s(Ke,{key:"mode-spacer"},null),s("div",{key:"month-buttons",class:"v-date-picker-controls__month"},[s(Q,{disabled:o.value,icon:e.prevIcon,variant:"text",onClick:r},null),s(Q,{disabled:i.value,icon:e.nextIcon,variant:"text",onClick:u},null)])])),{}}}),qo=Y({appendIcon:String,color:String,header:String,transition:String,onClick:vt()},"VDatePickerHeader"),Aa=ae()({name:"VDatePickerHeader",props:qo(),emits:{click:()=>!0,"click:append":()=>!0},setup(e,t){let{emit:a,slots:n}=t;const{backgroundColorClasses:l,backgroundColorStyles:o}=je(e,"color");function i(){a("click")}function r(){a("click:append")}return ne(()=>{const u=!!(n.default||e.header),d=!!(n.append||e.appendIcon);return s("div",{class:["v-date-picker-header",{"v-date-picker-header--clickable":!!e.onClick},l.value],style:o.value,onClick:i},[n.prepend&&s("div",{key:"prepend",class:"v-date-picker-header__prepend"},[n.prepend()]),u&&s(ea,{key:"content",name:e.transition},{default:()=>{var f;return[s("div",{key:e.header,class:"v-date-picker-header__content"},[((f=n.default)==null?void 0:f.call(n))??e.header])]}}),d&&s("div",{class:"v-date-picker-header__append"},[n.append?s(Ge,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VBtn:{icon:e.appendIcon,variant:"text"}}},{default:()=>{var f;return[(f=n.append)==null?void 0:f.call(n)]}}):s(Q,{key:"append-btn",icon:e.appendIcon,variant:"text",onClick:r},null)])])}),{}}}),Pl=Y({color:String,hideWeekdays:Boolean,multiple:[Boolean,Number,String],showWeek:Boolean,transition:{type:String,default:"picker-transition"},reverseTransition:{type:String,default:"picker-reverse-transition"},...cn()},"VDatePickerMonth"),Ba=ae()({name:"VDatePickerMonth",props:Pl(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0},setup(e,t){let{emit:a,slots:n}=t;const l=K(),{daysInMonth:o,model:i,weekNumbers:r}=mn(e),u=Tt(),d=se(),f=se(),c=se(!1),m=x(()=>c.value?e.reverseTransition:e.transition);e.multiple==="range"&&i.value.length>0&&(d.value=i.value[0],i.value.length>1&&(f.value=i.value[i.value.length-1]));const y=x(()=>{const g=["number","string"].includes(typeof e.multiple)?Number(e.multiple):1/0;return i.value.length>=g});te(o,(g,h)=>{h&&(c.value=u.isBefore(g[0].date,h[0].date))});function b(g){const h=u.startOfDay(g);if(!d.value)d.value=h,i.value=[d.value];else if(f.value)d.value=g,f.value=void 0,i.value=[d.value];else{if(u.isSameDay(h,d.value)){d.value=void 0,i.value=[];return}else u.isBefore(h,d.value)?(f.value=u.endOfDay(d.value),d.value=h):f.value=u.endOfDay(h);const M=u.getDiff(f.value,d.value,"days"),L=[d.value];for(let R=1;R<M;R++){const z=u.addDays(d.value,R);L.push(z)}L.push(f.value),i.value=L}}function v(g){const h=i.value.findIndex(M=>u.isSameDay(M,g));if(h===-1)i.value=[...i.value,g];else{const M=[...i.value];M.splice(h,1),i.value=M}}function p(g){e.multiple==="range"?b(g):e.multiple?v(g):i.value=[g]}return()=>s("div",{class:"v-date-picker-month"},[e.showWeek&&s("div",{key:"weeks",class:"v-date-picker-month__weeks"},[!e.hideWeekdays&&s("div",{key:"hide-week-days",class:"v-date-picker-month__day"},[ee("Â ")]),r.value.map(g=>s("div",{class:["v-date-picker-month__day","v-date-picker-month__day--adjacent"]},[g]))]),s(ea,{name:m.value},{default:()=>{var g;return[s("div",{ref:l,key:(g=o.value[0].date)==null?void 0:g.toString(),class:"v-date-picker-month__days"},[!e.hideWeekdays&&u.getWeekdays().map(h=>s("div",{class:["v-date-picker-month__day","v-date-picker-month__weekday"]},[h])),o.value.map((h,M)=>{const L={props:{onClick:()=>p(h.date)},item:h,i:M};return y.value&&!h.isSelected&&(h.isDisabled=!0),s("div",{class:["v-date-picker-month__day",{"v-date-picker-month__day--adjacent":h.isAdjacent,"v-date-picker-month__day--hide-adjacent":h.isHidden,"v-date-picker-month__day--selected":h.isSelected,"v-date-picker-month__day--week-end":h.isWeekEnd,"v-date-picker-month__day--week-start":h.isWeekStart}],"data-v-date":h.isDisabled?void 0:h.isoDate},[(e.showAdjacentMonths||!h.isAdjacent)&&s(Ge,{defaults:{VBtn:{class:"v-date-picker-month__day-btn",color:(h.isSelected||h.isToday)&&!h.isDisabled?e.color:void 0,disabled:h.isDisabled,icon:!0,ripple:!1,text:h.localized,variant:h.isDisabled?h.isToday?"outlined":"text":h.isToday&&!h.isSelected?"outlined":"flat",onClick:()=>p(h.date)}}},{default:()=>{var R;return[((R=n.day)==null?void 0:R.call(n,L))??s(Q,L.props,null)]}})])})])]}})])}}),Sl=Y({color:String,height:[String,Number],modelValue:Number},"VDatePickerMonths"),La=ae()({name:"VDatePickerMonths",props:Sl(),emits:{"update:modelValue":e=>!0},setup(e,t){let{emit:a,slots:n}=t;const l=Tt(),o=ue(e,"modelValue"),i=x(()=>{let r=l.startOfYear(l.date());return He(12).map(u=>{const d=l.format(r,"monthShort");return r=l.getNextMonth(r),{text:d,value:u}})});return De(()=>{o.value=o.value??l.getMonth(l.date())}),ne(()=>s("div",{class:"v-date-picker-months",style:{height:oe(e.height)}},[s("div",{class:"v-date-picker-months__content"},[i.value.map((r,u)=>{var c;const d={active:o.value===u,color:o.value===u?e.color:void 0,rounded:!0,text:r.text,variant:o.value===r.value?"flat":"text",onClick:()=>f(u)};function f(m){if(o.value===m){a("update:modelValue",o.value);return}o.value=m}return((c=n.month)==null?void 0:c.call(n,{month:r,i:u,props:d}))??s(Q,B({key:"month"},d),null)})])])),{}}}),Tl=Y({color:String,height:[String,Number],min:null,max:null,modelValue:Number},"VDatePickerYears"),Na=ae()({name:"VDatePickerYears",props:Tl(),emits:{"update:modelValue":e=>!0},setup(e,t){let{emit:a,slots:n}=t;const l=Tt(),o=ue(e,"modelValue"),i=x(()=>{const u=l.getYear(l.date());let d=u-100,f=u+52;e.min&&(d=l.getYear(l.date(e.min))),e.max&&(f=l.getYear(l.date(e.max)));let c=l.startOfYear(l.date());return c=l.setYear(c,d),He(f-d+1,d).map(m=>{const y=l.format(c,"year");return c=l.setYear(c,l.getYear(c)+1),{text:y,value:m}})});De(()=>{o.value=o.value??l.getYear(l.date())});const r=Ht();return ot(async()=>{var u;await be(),(u=r.el)==null||u.scrollIntoView({block:"center"})}),ne(()=>s("div",{class:"v-date-picker-years",style:{height:oe(e.height)}},[s("div",{class:"v-date-picker-years__content"},[i.value.map((u,d)=>{var c;const f={ref:o.value===u.value?r:void 0,active:o.value===u.value,color:o.value===u.value?e.color:void 0,rounded:!0,text:u.text,variant:o.value===u.value?"flat":"text",onClick:()=>{if(o.value===u.value){a("update:modelValue",o.value);return}o.value=u.value}};return((c=n.year)==null?void 0:c.call(n,{year:u,i:d,props:f}))??s(Q,B({key:"month"},f),null)})])])),{}}}),Zo=Y({header:{type:String,default:"$vuetify.datePicker.header"},...xl(),...Pl({weeksInMonth:"static"}),...Oe(Sl(),["modelValue"]),...Oe(Tl(),["modelValue"]),...fn({title:"$vuetify.datePicker.title"}),modelValue:null},"VDatePicker"),Zt=ae()({name:"VDatePicker",props:Zo(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0,"update:viewMode":e=>!0},setup(e,t){let{emit:a,slots:n}=t;const l=Tt(),{t:o}=Ne(),i=ue(e,"modelValue",void 0,w=>Pe(w),w=>e.multiple?w:w[0]),r=ue(e,"viewMode"),u=x(()=>{var O;const w=l.date((O=i.value)==null?void 0:O[0]);return w&&l.isValid(w)?w:l.date()}),d=K(Number(e.month??l.getMonth(l.startOfMonth(u.value)))),f=K(Number(e.year??l.getYear(l.startOfYear(l.setMonth(u.value,d.value))))),c=se(!1),m=x(()=>e.multiple&&i.value.length>1?o("$vuetify.datePicker.itemsSelected",i.value.length):i.value[0]&&l.isValid(i.value[0])?l.format(l.date(i.value[0]),"normalDateWithWeekday"):o(e.header)),y=x(()=>{let w=l.date();return w=l.setDate(w,1),w=l.setMonth(w,d.value),w=l.setYear(w,f.value),l.format(w,"monthAndYear")}),b=x(()=>`date-picker-header${c.value?"-reverse":""}-transition`),v=x(()=>{const w=l.date(e.min);return e.min&&l.isValid(w)?w:null}),p=x(()=>{const w=l.date(e.max);return e.max&&l.isValid(w)?w:null}),g=x(()=>{if(e.disabled)return!0;const w=[];if(r.value!=="month")w.push("prev","next");else{let O=l.date();if(O=l.setYear(O,f.value),O=l.setMonth(O,d.value),v.value){const S=l.addDays(l.startOfMonth(O),-1);l.isAfter(v.value,S)&&w.push("prev")}if(p.value){const S=l.addDays(l.endOfMonth(O),1);l.isAfter(S,p.value)&&w.push("next")}}return w});function h(){d.value<11?d.value++:(f.value++,d.value=0,T(f.value)),P(d.value)}function M(){d.value>0?d.value--:(f.value--,d.value=11,T(f.value)),P(d.value)}function L(){r.value="month"}function R(){r.value=r.value==="months"?"month":"months"}function z(){r.value=r.value==="year"?"month":"year"}function P(w){r.value==="months"&&R(),a("update:month",w)}function T(w){r.value==="year"&&z(),a("update:year",w)}return te(i,(w,O)=>{const S=l.date(Pe(O)[O.length-1]),F=l.date(Pe(w)[w.length-1]),_=l.getMonth(F),E=l.getYear(F);_!==d.value&&(d.value=_,P(d.value)),E!==f.value&&(f.value=E,T(f.value)),c.value=l.isBefore(S,F)}),ne(()=>{const w=wa.filterProps(e),O=Ea.filterProps(e),S=Aa.filterProps(e),F=Ba.filterProps(e),_=Oe(La.filterProps(e),["modelValue"]),E=Oe(Na.filterProps(e),["modelValue"]),q={header:m.value,transition:b.value};return s(wa,B(w,{class:["v-date-picker",`v-date-picker--${r.value}`,{"v-date-picker--show-week":e.showWeek},e.class],style:e.style}),{title:()=>{var W;return((W=n.title)==null?void 0:W.call(n))??s("div",{class:"v-date-picker__title"},[o(e.title)])},header:()=>n.header?s(Ge,{defaults:{VDatePickerHeader:{...q}}},{default:()=>{var W;return[(W=n.header)==null?void 0:W.call(n,q)]}}):s(Aa,B({key:"header"},S,q,{onClick:r.value!=="month"?L:void 0}),{...n,default:void 0}),default:()=>s(H,null,[s(Ea,B(O,{disabled:g.value,text:y.value,"onClick:next":h,"onClick:prev":M,"onClick:month":R,"onClick:year":z}),null),s(vn,{hideOnLeave:!0},{default:()=>[r.value==="months"?s(La,B({key:"date-picker-months"},_,{modelValue:d.value,"onUpdate:modelValue":[W=>d.value=W,P],min:v.value,max:p.value}),null):r.value==="year"?s(Na,B({key:"date-picker-years"},E,{modelValue:f.value,"onUpdate:modelValue":[W=>f.value=W,T],min:v.value,max:p.value}),null):s(Ba,B({key:"date-picker-month"},F,{modelValue:i.value,"onUpdate:modelValue":W=>i.value=W,month:d.value,"onUpdate:month":[W=>d.value=W,P],year:f.value,"onUpdate:year":[W=>f.value=W,T],min:v.value,max:p.value}),null)]})]),actions:n.actions})}),{}}}),Jo=Y({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...dl(),...Qn()},"VTextarea"),Dl=ae()({name:"VTextarea",directives:{Intersect:hn},inheritAttrs:!1,props:Jo(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:a,emit:n,slots:l}=t;const o=ue(e,"modelValue"),{isFocused:i,focus:r,blur:u}=cl(e),d=x(()=>typeof e.counterValue=="function"?e.counterValue(o.value):(o.value||"").toString().length),f=x(()=>{if(a.maxlength)return a.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function c(S,F){var _,E;!e.autofocus||!S||(E=(_=F[0].target)==null?void 0:_.focus)==null||E.call(_)}const m=K(),y=K(),b=se(""),v=K(),p=x(()=>e.persistentPlaceholder||i.value||e.active);function g(){var S;v.value!==document.activeElement&&((S=v.value)==null||S.focus()),i.value||r()}function h(S){g(),n("click:control",S)}function M(S){n("mousedown:control",S)}function L(S){S.stopPropagation(),g(),be(()=>{o.value="",gn(e["onClick:clear"],S)})}function R(S){var _;const F=S.target;if(o.value=F.value,(_=e.modelModifiers)!=null&&_.trim){const E=[F.selectionStart,F.selectionEnd];be(()=>{F.selectionStart=E[0],F.selectionEnd=E[1]})}}const z=K(),P=K(+e.rows),T=x(()=>["plain","underlined"].includes(e.variant));De(()=>{e.autoGrow||(P.value=+e.rows)});function w(){e.autoGrow&&be(()=>{if(!z.value||!y.value)return;const S=getComputedStyle(z.value),F=getComputedStyle(y.value.$el),_=parseFloat(S.getPropertyValue("--v-field-padding-top"))+parseFloat(S.getPropertyValue("--v-input-padding-top"))+parseFloat(S.getPropertyValue("--v-field-padding-bottom")),E=z.value.scrollHeight,q=parseFloat(S.lineHeight),W=Math.max(parseFloat(e.rows)*q+_,parseFloat(F.getPropertyValue("--v-input-control-height"))),ve=parseFloat(e.maxRows)*q+_||1/0,C=_e(E??0,W,ve);P.value=Math.floor((C-_)/q),b.value=oe(C)})}ot(w),te(o,w),te(()=>e.rows,w),te(()=>e.maxRows,w),te(()=>e.density,w);let O;return te(z,S=>{S?(O=new ResizeObserver(w),O.observe(z.value)):O==null||O.disconnect()}),$a(()=>{O==null||O.disconnect()}),ne(()=>{const S=!!(l.counter||e.counter||e.counterValue),F=!!(S||l.details),[_,E]=la(a),{modelValue:q,...W}=bt.filterProps(e),ve=$n(e);return s(bt,B({ref:m,modelValue:o.value,"onUpdate:modelValue":C=>o.value=C,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":T.value},e.class],style:e.style},_,W,{centerAffix:P.value===1&&!T.value,focused:i.value}),{...l,default:C=>{let{id:D,isDisabled:U,isDirty:$,isReadonly:le,isValid:J}=C;return s(eo,B({ref:y,style:{"--v-textarea-control-height":b.value},onClick:h,onMousedown:M,"onClick:clear":L,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},ve,{id:D.value,active:p.value||$.value,centerAffix:P.value===1&&!T.value,dirty:$.value||e.dirty,disabled:U.value,focused:i.value,error:J.value===!1}),{...l,default:re=>{let{props:{class:A,...Z}}=re;return s(H,null,[e.prefix&&s("span",{class:"v-text-field__prefix"},[e.prefix]),Ye(s("textarea",B({ref:v,class:A,value:o.value,onInput:R,autofocus:e.autofocus,readonly:le.value,disabled:U.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:g,onBlur:u},Z,E),null),[[St("intersect"),{handler:c},null,{once:!0}]]),e.autoGrow&&Ye(s("textarea",{class:[A,"v-textarea__sizer"],id:`${Z.id}-sizer`,"onUpdate:modelValue":ce=>o.value=ce,ref:z,readonly:!0,"aria-hidden":"true"},null),[[yn,o.value]]),e.suffix&&s("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:F?C=>{var D;return s(H,null,[(D=l.details)==null?void 0:D.call(l,C),S&&s(H,null,[s("span",null,null),s(to,{active:e.persistentCounter||i.value,value:d.value,max:f.value,disabled:e.disabled},l.counter)])])}:void 0})}),st({},m,y,v)}}),Xo={data(){return{showDialog:!1,showStartDatePicker:!1,showEndDatePicker:!1,showStartTimePicker:!1,showEndTimePicker:!1,startDate:null,endDate:null,startTime:null,endTime:null,selectedTimezone:"Africa/Johannesburg",duration:120}},props:{modelValue:{type:pn,default:null}},computed:{formattedValue(){let e="";return this.formattedStartDate&&this.formattedStartTime&&this.formattedEndTime&&(this.startDate===this.endDate?e=`${this.formattedStartDate} 
${this.formattedStartTime} - ${this.formattedEndTime} (${this.selectedTimezone})`:e=`${this.formattedStartDate} ${this.formattedStartTime} -
${this.formattedEndDate} ${this.formattedEndTime} (${this.selectedTimezone})`),e},formattedStartDate(){return this.startDate?X.tz(this.startDate,this.selectedTimezone).format("dddd, MMMM D, YYYY"):""},formattedEndDate(){return this.endDate?X.tz(this.endDate,this.selectedTimezone).format("dddd, MMMM D, YYYY"):""},formattedStartTime(){return this.startTime?X.tz(this.startTime,"HH:mm:ss",this.selectedTimezone).format("h:mm A"):""},formattedEndTime(){return this.endTime?X.tz(this.endTime,"HH:mm:ss",this.selectedTimezone).format("h:mm A"):""},dateTimeRange(){return this.formattedStartDate&&this.formattedStartTime&&this.formattedEndTime?`${this.formattedStartDate} 
 ${this.formattedStartTime} - ${this.formattedEndTime} (Africa/Johannesburg)`:null},pgDateTimeRange(){const e=X(`${this.startDate} ${this.startTime}`).format("YYYY-MM-DD HH:mm:ssZZ"),t=X(`${this.endDate} ${this.endTime}`).format("YYYY-MM-DD HH:mm:ssZZ");return`"[${e},${t}]"`}},methods:{parseTstzrange(e){const t=e.match(/\[(.*?),(.*)\]/);if(t){const a=X.tz(t[1],this.selectedTimezone),n=X.tz(t[2],this.selectedTimezone);this.detectDuration(a.format("HH:mm:ss"),n.format("HH:mm:ss")),this.startDate=a.format("YYYY-MM-DD"),this.startTime=a.format("HH:mm:ss"),this.endDate=n.format("YYYY-MM-DD"),this.endTime=n.format("HH:mm:ss")}},setDefaultStartTime(){this.showStartDatePicker=!1;const e=X.tz(this.selectedTimezone);e.minutes(0).seconds(0).milliseconds(0).add(1,"hours"),this.startTime=e.format("HH:mm:ss"),this.endDate=this.startDate},getTimestampsForDatabase(){const e=X.tz(`${this.startDate} ${this.startTime}`,this.selectedTimezone).toISOString(),t=X.tz(`${this.endDate} ${this.endTime}`,this.selectedTimezone).toISOString();return`[${e}, ${t}]`},finalizeDateTimeRange(){const e=this.getTimestampsForDatabase();this.$emit("update:modelValue",e),this.showDialog=!1},manuallyChangedEndTime(e){this.detectDuration(this.startTime,e)},detectDuration(e,t){this.duration=X(t,"HH:mm:ss").diff(X(e,"HH:mm:ss"),"minutes")}},watch:{startTime(e){this.endTime=X(e,"HH:mm:ss").add(this.duration,"minutes").format("HH:mm:ss")}},mounted(){this.parseTstzrange(this.modelValue)}},Qo=de("h3",null,"Start",-1),$o=de("h3",null,"End",-1);function er(e,t,a,n,l,o){const i=G("v-time-picker");return k(),I("div",null,[s(Dl,{label:"Select Date Range",readonly:"",onClick:t[0]||(t[0]=r=>l.showDialog=!0),modelValue:o.formattedValue,rows:"2"},{append:V(()=>[s(Be,null,{default:V(()=>[ee("mdi-calendar")]),_:1})]),_:1},8,["modelValue"]),s(ge,{modelValue:l.showDialog,"onUpdate:modelValue":t[17]||(t[17]=r=>l.showDialog=r),"max-width":"500px"},{default:V(()=>[s(we,{class:"pa-4"},{default:V(()=>[de("div",null,[Qo,s(fe,{label:"Start Date",modelValue:o.formattedStartDate,"onUpdate:modelValue":t[1]||(t[1]=r=>o.formattedStartDate=r),readonly:"",onClick:t[2]||(t[2]=r=>l.showStartDatePicker=!0),variant:"underlined"},null,8,["modelValue"]),s(ge,{modelValue:l.showStartDatePicker,"onUpdate:modelValue":t[4]||(t[4]=r=>l.showStartDatePicker=r),"max-width":"290px"},{default:V(()=>[s(Zt,{modelValue:l.startDate,"onUpdate:modelValue":[t[3]||(t[3]=r=>l.startDate=r),o.setDefaultStartTime]},null,8,["modelValue","onUpdate:modelValue"])]),_:1},8,["modelValue"]),s(fe,{label:"Start Time",modelValue:o.formattedStartTime,"onUpdate:modelValue":t[5]||(t[5]=r=>o.formattedStartTime=r),readonly:"",onClick:t[6]||(t[6]=r=>l.showStartTimePicker=!0),variant:"underlined"},null,8,["modelValue"]),s(ge,{modelValue:l.showStartTimePicker,"onUpdate:modelValue":t[8]||(t[8]=r=>l.showStartTimePicker=r),"max-width":"290px"},{default:V(()=>[s(i,{modelValue:l.startTime,"onUpdate:modelValue":t[7]||(t[7]=r=>l.startTime=r)},null,8,["modelValue"])]),_:1},8,["modelValue"])]),de("div",null,[$o,s(fe,{label:"End Date",modelValue:o.formattedEndDate,"onUpdate:modelValue":t[9]||(t[9]=r=>o.formattedEndDate=r),readonly:"",onClick:t[10]||(t[10]=r=>l.showEndDatePicker=!0),variant:"underlined"},null,8,["modelValue"]),s(ge,{modelValue:l.showEndDatePicker,"onUpdate:modelValue":t[12]||(t[12]=r=>l.showEndDatePicker=r),"max-width":"290px"},{default:V(()=>[s(Zt,{modelValue:l.endDate,"onUpdate:modelValue":t[11]||(t[11]=r=>l.endDate=r)},null,8,["modelValue"])]),_:1},8,["modelValue"]),s(fe,{label:"End Time",modelValue:o.formattedEndTime,"onUpdate:modelValue":t[13]||(t[13]=r=>o.formattedEndTime=r),readonly:"",onClick:t[14]||(t[14]=r=>l.showEndTimePicker=!0),variant:"underlined"},null,8,["modelValue"]),s(ge,{modelValue:l.showEndTimePicker,"onUpdate:modelValue":t[16]||(t[16]=r=>l.showEndTimePicker=r),"max-width":"290px"},{default:V(()=>[s(i,{modelValue:l.endTime,"onUpdate:modelValue":[t[15]||(t[15]=r=>l.endTime=r),o.manuallyChangedEndTime]},null,8,["modelValue","onUpdate:modelValue"])]),_:1},8,["modelValue"])]),s(Re,null,{default:V(()=>[s(Ke),s(Q,{color:"primary",onClick:o.finalizeDateTimeRange},{default:V(()=>[ee("OK")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const tr=me(Xo,[["render",er]]),ar={name:"DateAndTimePicker",data(){return{showDialog:!1,showDatePicker:!1,showTimePicker:!1,selectedDate:null,selectedTime:null,selectedTimezone:"Africa/Johannesburg"}},props:{modelValue:{type:String,default:null},label:{type:String,default:""},disabled:{type:Boolean,default:!1}},computed:{formattedValue(){return this.formattedDate&&this.formattedTime?`${this.formattedDate} ${this.formattedTime} (${this.selectedTimezone})`:""},formattedDate(){return this.selectedDate?X.tz(this.selectedDate,this.selectedTimezone).format("dddd, MMMM D, YYYY"):""},formattedTime(){return this.selectedTime?X.tz(this.selectedTime,"HH:mm:ss",this.selectedTimezone).format("h:mm A"):""}},methods:{click(){this.disabled||(this.showDialog=!0)},setDefaultStartTime(){const e=X.tz(this.selectedTimezone);e.minutes(0).seconds(0).milliseconds(0).add(1,"hours"),this.selectedTime=e.format("HH:mm:ss")},parseTimestamptz(e){if(e){const t=X.tz(e,this.selectedTimezone);this.selectedDate=t.format("YYYY-MM-DD"),this.selectedTime=t.format("HH:mm:ss")}},getTimestampForDatabase(){return X.tz(`${this.selectedDate} ${this.selectedTime}`,this.selectedTimezone).toISOString()},finalizeDateTime(){const e=this.getTimestampForDatabase();this.$emit("update:modelValue",e),this.showDialog=!1}},watch:{modelValue(){this.parseTimestamptz(this.modelValue)}}},lr=de("h3",null,"Select Date & Time",-1),nr={class:"pa-4",style:{"text-align":"right"}},or={class:"pa-4",style:{"text-align":"right"}};function rr(e,t,a,n,l,o){const i=G("v-time-picker");return k(),I("div",null,[s(Dl,{label:a.label,readonly:"",onClick:o.click,modelValue:o.formattedValue,rows:"1",disabled:a.disabled,variant:"underlined"},{append:V(()=>[s(Be,null,{default:V(()=>[ee("mdi-calendar")]),_:1})]),_:1},8,["label","onClick","modelValue","disabled"]),s(ge,{modelValue:l.showDialog,"onUpdate:modelValue":t[10]||(t[10]=r=>l.showDialog=r),"max-width":"500px"},{default:V(()=>[s(we,{class:"pa-4"},{default:V(()=>[lr,s(fe,{label:"Date",modelValue:o.formattedDate,"onUpdate:modelValue":t[0]||(t[0]=r=>o.formattedDate=r),readonly:"",onClick:t[1]||(t[1]=r=>l.showDatePicker=!0),variant:"underlined"},null,8,["modelValue"]),s(ge,{modelValue:l.showDatePicker,"onUpdate:modelValue":t[4]||(t[4]=r=>l.showDatePicker=r),"max-width":"290px"},{default:V(()=>[s(we,{class:""},{default:V(()=>[s(Zt,{modelValue:l.selectedDate,"onUpdate:modelValue":[t[2]||(t[2]=r=>l.selectedDate=r),o.setDefaultStartTime]},null,8,["modelValue","onUpdate:modelValue"]),de("div",nr,[s(Q,{color:"primary",onClick:t[3]||(t[3]=r=>l.showDatePicker=!1)},{default:V(()=>[ee("OK")]),_:1})])]),_:1})]),_:1},8,["modelValue"]),s(fe,{label:"Time",modelValue:o.formattedTime,"onUpdate:modelValue":t[5]||(t[5]=r=>o.formattedTime=r),readonly:"",onClick:t[6]||(t[6]=r=>l.showTimePicker=!0),variant:"underlined"},null,8,["modelValue"]),s(ge,{modelValue:l.showTimePicker,"onUpdate:modelValue":t[9]||(t[9]=r=>l.showTimePicker=r),"max-width":"290px"},{default:V(()=>[s(we,{class:""},{default:V(()=>[s(i,{modelValue:l.selectedTime,"onUpdate:modelValue":t[7]||(t[7]=r=>l.selectedTime=r)},null,8,["modelValue"]),de("div",or,[s(Q,{color:"primary",onClick:t[8]||(t[8]=r=>l.showTimePicker=!1)},{default:V(()=>[ee("OK")]),_:1})])]),_:1})]),_:1},8,["modelValue"]),s(Re,null,{default:V(()=>[s(Ke),s(Q,{color:"primary",onClick:o.finalizeDateTime},{default:V(()=>[ee("OK")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const ir=me(ar,[["render",rr]]),sr={name:"SearchGooglePlace",props:{modelValue:{type:String,default(){return null}},configs:{type:Object,default(){return{}}}},data(){return{showDialog:!1,retries:0,place:0}},computed:{},methods:{},watch:{},mounted(){}},ur=de("h3",null,"Search Place",-1),dr={style:{display:"none"}};function cr(e,t,a,n,l,o){const i=G("GMapAutocomplete");return k(),I("div",null,[s(fe,{label:a.configs.label,modelValue:a.modelValue,onClick:t[0]||(t[0]=r=>l.showDialog=!0),readonly:"",variant:"underlined"},null,8,["label","modelValue"]),s(ge,{modelValue:l.showDialog,"onUpdate:modelValue":t[2]||(t[2]=r=>l.showDialog=r),"max-width":"500px",class:"xxxxxx"},{default:V(()=>[s(we,{class:"pa-4"},{default:V(()=>[ur,s(fe,{class:"CustomPlaceSearch",label:"Place",modelValue:a.modelValue,ref:"autocompleteInput",variant:"underlined"},null,8,["modelValue"]),s(Re,null,{default:V(()=>[s(Ke),s(Q,{color:"primary",onClick:t[1]||(t[1]=r=>l.showDialog=!1)},{default:V(()=>[ee("OK")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),de("div",dr,[s(i,{placeholder:"This is a placeholder",onPlace_changed:t[3]||(t[3]=r=>e.$emit("change",l.place))})])])}const mr=me(sr,[["render",cr]]);class ye{static quickListsIsMobile(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}static mapPlaceFields(){return[{flag:"mapExtraFormattedAddress",googleType:"simple",googleName:"formatted_address"},{flag:"mapExtraPlaceID",googleType:"simple",googleName:"place_id"},{flag:"mapExtraGeoLocLong",googleType:"mapGeoLoc",googleName:"lng"},{flag:"mapExtraGeoLocLat",googleType:"mapGeoLoc",googleName:"lat"},{flag:"relForeignKeyMapExtraRelCountry",googleType:"components",googleName:"country"},{flag:"relForeignKeyMapExtraRelAdminArea1",googleType:"components",googleName:"administrative_area_level_1"},{flag:"relForeignKeyMapExtraRelAdminArea2",googleType:"components",googleName:"administrative_area_level_2"},{flag:"relForeignKeyMapExtraRelLocality",googleType:"components",googleName:"locality"},{flag:"relForeignKeyMapExtraRelSublocality",googleType:"components",googleName:["sublocality_level_1","sublocality_level_2"]}]}static quickListsGetIfMatchesAllChecks(t,a){for(const[n,l]of Object.entries(a))if(typeof l=="object"&&!Array.isArray(l)&&l!==null){if(l!=null&&l.value&&l.usageType==="timeRangeStart"&&l.value.range.start){const o=new Date(l.value.range.start),i=new Date(l.value.range.end),r=new Date(t[n]);return o<r&&r<i}}else if(l!==null)return t[n]==l;return!0}static computedAttrs(t,a=[]){let n=It.find(t.entity);return n||(It.Generate(t),n=It.find(t.entity)),ye.computedAttrs2(n.fields,a)}static computedAttrs2(t,a=[]){let n=[];for(const l of t)l.usageType.startsWith("relForeignKey"),n.push(l);return n}static SupaerTableHeaders(t,a=[],n,l=!1){let o=[];const i=this.computedAttrs(t,a);for(const r of i)if(!r.usageType.startsWith("relForeignKey"))if(r.usageType.startsWith("relLookup")){const u=this.computedAttrs(r.meta.relatedModel,a);let d=[];for(const f of u)f.important==!0&&(f.usageType.startsWith("relForeignKey")||d.push({title:f.label,value:f.name,usageType:f.usageType,dataType:f.dataType,meta:f.meta}));o.push({title:r.label,value:r.name,usageType:r.usageType,dataType:r.dataType,meta:r.meta,headerChildren:d})}else o.push({title:r.label,value:r.name,usageType:r.usageType,dataType:r.dataType,meta:r.meta});return n&&o.push({title:"Actions",value:"actions",usageType:"actions",dataType:"actions"}),o=o.filter(r=>{if(l){if(!r.usageType.startsWith("relForeignKey"))return!0}else return!r.usageType.startsWith("relForeignKey")&&!r.usageType.startsWith("relLookupMapExtra")&&!r.usageType.startsWith("mapExtra")}),o}static preparePayload(t,a){let n=[];for(const l of a)typeof(t==null?void 0:t[l.name])<"u"&&(l.usageType.startsWith("relForeignKey")?n[l.meta.foreignKey]=t[l.meta.foreignKey]:l.usageType.startsWith("relLookup")||l.usageType.startsWith("relChildren")||(["timestampType","readOnlyTimestampType","timeRangeStart","timeRangeEnd"].includes(l.usageType)?t[l.name]&&(n[l.name]=t[l.name]):n[l.name]=t[l.name]));return delete n.$id,n}}const Cl=Symbol.for("vuetify:selection-control-group"),Ml=Y({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:xe,trueIcon:xe,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:na},...Ie(),...oa(),...rt()},"SelectionControlGroup"),fr=Y({...Ml({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup");ae()({name:"VSelectionControlGroup",props:fr(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const n=ue(e,"modelValue"),l=it(),o=x(()=>e.id||`v-selection-control-group-${l}`),i=x(()=>e.name||o.value),r=new Set;return Me(Cl,{modelValue:n,forceUpdate:()=>{r.forEach(u=>u())},onForceUpdate:u=>{r.add(u),Ve(()=>{r.delete(u)})}}),et({[e.defaultsTarget]:{color:j(e,"color"),disabled:j(e,"disabled"),density:j(e,"density"),error:j(e,"error"),inline:j(e,"inline"),modelValue:n,multiple:x(()=>!!e.multiple||e.multiple==null&&Array.isArray(n.value)),name:i,falseIcon:j(e,"falseIcon"),trueIcon:j(e,"trueIcon"),readonly:j(e,"readonly"),ripple:j(e,"ripple"),type:j(e,"type"),valueComparator:j(e,"valueComparator")}}),ne(()=>{var u;return s("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":e.inline},e.class],style:e.style,role:e.type==="radio"?"radiogroup":void 0},[(u=a.default)==null?void 0:u.call(a)])}),{}}});const _l=Y({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...Ie(),...Ml()},"VSelectionControl");function vr(e){const t=Se(Cl,void 0),{densityClasses:a}=ll(e),n=ue(e,"modelValue"),l=x(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),o=x(()=>e.falseValue!==void 0?e.falseValue:!1),i=x(()=>!!e.multiple||e.multiple==null&&Array.isArray(n.value)),r=x({get(){const y=t?t.modelValue.value:n.value;return i.value?Pe(y).some(b=>e.valueComparator(b,l.value)):e.valueComparator(y,l.value)},set(y){if(e.readonly)return;const b=y?l.value:o.value;let v=b;i.value&&(v=y?[...Pe(n.value),b]:Pe(n.value).filter(p=>!e.valueComparator(p,l.value))),t?t.modelValue.value=v:n.value=v}}),{textColorClasses:u,textColorStyles:d}=bn(x(()=>{if(!(e.error||e.disabled))return r.value?e.color:e.baseColor})),{backgroundColorClasses:f,backgroundColorStyles:c}=je(x(()=>r.value&&!e.error&&!e.disabled?e.color:e.baseColor)),m=x(()=>r.value?e.trueIcon:e.falseIcon);return{group:t,densityClasses:a,trueValue:l,falseValue:o,model:r,textColorClasses:u,textColorStyles:d,backgroundColorClasses:f,backgroundColorStyles:c,icon:m}}const Ha=ae()({name:"VSelectionControl",directives:{Ripple:al},inheritAttrs:!1,props:_l(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:a,slots:n}=t;const{group:l,densityClasses:o,icon:i,model:r,textColorClasses:u,textColorStyles:d,backgroundColorClasses:f,backgroundColorStyles:c,trueValue:m}=vr(e),y=it(),b=se(!1),v=se(!1),p=K(),g=x(()=>e.id||`input-${y}`),h=x(()=>!e.disabled&&!e.readonly);l==null||l.onForceUpdate(()=>{p.value&&(p.value.checked=r.value)});function M(P){h.value&&(b.value=!0,gt(P.target,":focus-visible")!==!1&&(v.value=!0))}function L(){b.value=!1,v.value=!1}function R(P){P.stopPropagation()}function z(P){h.value&&(e.readonly&&l&&be(()=>l.forceUpdate()),r.value=P.target.checked)}return ne(()=>{var S,F;const P=n.label?n.label({label:e.label,props:{for:g.value}}):e.label,[T,w]=la(a),O=s("input",B({ref:p,checked:r.value,disabled:!!e.disabled,id:g.value,onBlur:L,onFocus:M,onInput:z,"aria-disabled":!!e.disabled,"aria-label":e.label,type:e.type,value:m.value,name:e.name,"aria-checked":e.type==="checkbox"?r.value:void 0},w),null);return s("div",B({class:["v-selection-control",{"v-selection-control--dirty":r.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":b.value,"v-selection-control--focus-visible":v.value,"v-selection-control--inline":e.inline},o.value,e.class]},T,{style:e.style}),[s("div",{class:["v-selection-control__wrapper",u.value],style:d.value},[(S=n.default)==null?void 0:S.call(n,{backgroundColorClasses:f,backgroundColorStyles:c}),Ye(s("div",{class:["v-selection-control__input"]},[((F=n.input)==null?void 0:F.call(n,{model:r,textColorClasses:u,textColorStyles:d,backgroundColorClasses:f,backgroundColorStyles:c,inputNode:O,icon:i.value,props:{onFocus:M,onBlur:L,id:g.value}}))??s(H,null,[i.value&&s(Be,{key:"icon",icon:i.value},null),O])]),[[St("ripple"),e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),P&&s(ao,{for:g.value,onClick:R},{default:()=>[P]})])}),{isFocused:b,input:p}}}),Ol=Y({indeterminate:Boolean,indeterminateIcon:{type:xe,default:"$checkboxIndeterminate"},..._l({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),ze=ae()({name:"VCheckboxBtn",props:Ol(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,t){let{slots:a}=t;const n=ue(e,"indeterminate"),l=ue(e,"modelValue");function o(u){n.value&&(n.value=!1)}const i=x(()=>n.value?e.indeterminateIcon:e.falseIcon),r=x(()=>n.value?e.indeterminateIcon:e.trueIcon);return ne(()=>{const u=Oe(Ha.filterProps(e),["modelValue"]);return s(Ha,B(u,{modelValue:l.value,"onUpdate:modelValue":[d=>l.value=d,o],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:i.value,trueIcon:r.value,"aria-checked":n.value?"mixed":void 0}),a)}),{}}}),hr=Y({...dl(),...Oe(Ol(),["inline"])},"VCheckbox"),yr=ae()({name:"VCheckbox",inheritAttrs:!1,props:hr(),emits:{"update:modelValue":e=>!0,"update:focused":e=>!0},setup(e,t){let{attrs:a,slots:n}=t;const l=ue(e,"modelValue"),{isFocused:o,focus:i,blur:r}=cl(e),u=it(),d=x(()=>e.id||`checkbox-${u}`);return ne(()=>{const[f,c]=la(a),m=bt.filterProps(e),y=ze.filterProps(e);return s(bt,B({class:["v-checkbox",e.class]},f,m,{modelValue:l.value,"onUpdate:modelValue":b=>l.value=b,id:d.value,focused:o.value,style:e.style}),{...n,default:b=>{let{id:v,messagesId:p,isDisabled:g,isReadonly:h,isValid:M}=b;return s(ze,B(y,{id:v.value,"aria-describedby":p.value,disabled:g.value,readonly:h.value},c,{error:M.value===!1,modelValue:l.value,"onUpdate:modelValue":L=>l.value=L,onFocus:i,onBlur:r}),n)}})}),{}}}),gr=Y({id:String,...Oe(Ct({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:ca}}),["absolute"])},"VMenu"),ma=ae()({name:"VMenu",props:gr(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const n=ue(e,"modelValue"),{scopeId:l}=Dt(),o=it(),i=x(()=>e.id||`v-menu-${o}`),r=K(),u=Se(qt,null),d=se(0);Me(qt,{register(){++d.value},unregister(){--d.value},closeParents(v){setTimeout(()=>{!d.value&&(v==null||v&&!kn(v,r.value.contentEl))&&(n.value=!1,u==null||u.closeParents())},40)}});async function f(v){var h,M,L;const p=v.relatedTarget,g=v.target;await be(),n.value&&p!==g&&((h=r.value)!=null&&h.contentEl)&&((M=r.value)!=null&&M.globalTop)&&![document,r.value.contentEl].includes(g)&&!r.value.contentEl.contains(g)&&((L=Yt(r.value.contentEl)[0])==null||L.focus())}te(n,v=>{v?(u==null||u.register(),document.addEventListener("focusin",f,{once:!0})):(u==null||u.unregister(),document.removeEventListener("focusin",f))});function c(v){u==null||u.closeParents(v)}function m(v){var p,g,h;e.disabled||(v.key==="Tab"||v.key==="Enter"&&!e.closeOnContentClick?(v.key==="Enter"&&v.preventDefault(),wn(Yt((p=r.value)==null?void 0:p.contentEl,!1),v.shiftKey?"prev":"next",L=>L.tabIndex>=0)||(n.value=!1,(h=(g=r.value)==null?void 0:g.activatorEl)==null||h.focus())):["Enter"," "].includes(v.key)&&e.closeOnContentClick&&(n.value=!1,u==null||u.closeParents()))}function y(v){var g;if(e.disabled)return;const p=(g=r.value)==null?void 0:g.contentEl;p&&n.value?v.key==="ArrowDown"?(v.preventDefault(),Va(p,"next")):v.key==="ArrowUp"&&(v.preventDefault(),Va(p,"prev")):["ArrowDown","ArrowUp"].includes(v.key)&&(n.value=!0,v.preventDefault(),setTimeout(()=>setTimeout(()=>y(v))))}const b=x(()=>B({"aria-haspopup":"menu","aria-expanded":String(n.value),"aria-owns":i.value,onKeydown:y},e.activatorProps));return ne(()=>{const v=Ue.filterProps(e);return s(Ue,B({ref:r,id:i.value,class:["v-menu",e.class],style:e.style},v,{modelValue:n.value,"onUpdate:modelValue":p=>n.value=p,absolute:!0,activatorProps:b.value,"onClick:outside":c,onKeydown:m},l),{activator:a.activator,default:function(){for(var p=arguments.length,g=new Array(p),h=0;h<p;h++)g[h]=arguments[h];return s(Ge,{root:"VMenu"},{default:()=>{var M;return[(M=a.default)==null?void 0:M.call(a,...g)]}})}})}),st({id:i,Î¨openChildren:d},r)}}),pr=Y({renderless:Boolean,...Ie()},"VVirtualScrollItem"),br=ae()({name:"VVirtualScrollItem",inheritAttrs:!1,props:pr(),emits:{"update:height":e=>!0},setup(e,t){let{attrs:a,emit:n,slots:l}=t;const{resizeRef:o,contentRect:i}=ra(void 0,"border");te(()=>{var r;return(r=i.value)==null?void 0:r.height},r=>{r!=null&&n("update:height",r)}),ne(()=>{var r,u;return e.renderless?s(H,null,[(r=l.default)==null?void 0:r.call(l,{itemRef:o})]):s("div",B({ref:o,class:["v-virtual-scroll__item",e.class],style:e.style},a),[(u=l.default)==null?void 0:u.call(l)])})}}),kr=-1,wr=1,Lt=100,Vr=Y({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function xr(e,t){const a=We(),n=se(0);De(()=>{n.value=parseFloat(e.itemHeight||0)});const l=se(0),o=se(Math.ceil((parseInt(e.height)||a.height.value)/(n.value||16))||1),i=se(0),r=se(0),u=K(),d=K();let f=0;const{resizeRef:c,contentRect:m}=ra();De(()=>{c.value=u.value});const y=x(()=>{var D;return u.value===document.documentElement?a.height.value:((D=m.value)==null?void 0:D.height)||parseInt(e.height)||0}),b=x(()=>!!(u.value&&d.value&&y.value&&n.value));let v=Array.from({length:t.value.length}),p=Array.from({length:t.value.length});const g=se(0);let h=-1;function M(D){return v[D]||n.value}const L=Vn(()=>{const D=performance.now();p[0]=0;const U=t.value.length;for(let $=1;$<=U-1;$++)p[$]=(p[$-1]||0)+M($-1);g.value=Math.max(g.value,performance.now()-D)},g),R=te(b,D=>{D&&(R(),f=d.value.offsetTop,L.immediate(),q(),~h&&be(()=>{Te&&window.requestAnimationFrame(()=>{ve(h),h=-1})}))});Ve(()=>{L.clear()});function z(D,U){const $=v[D],le=n.value;n.value=le?Math.min(n.value,U):U,($!==U||le!==n.value)&&(v[D]=U,L())}function P(D){return D=_e(D,0,t.value.length-1),p[D]||0}function T(D){return Pr(p,D)}let w=0,O=0,S=0;te(y,(D,U)=>{U&&(q(),D<U&&requestAnimationFrame(()=>{O=0,q()}))});function F(){if(!u.value||!d.value)return;const D=u.value.scrollTop,U=performance.now();U-S>500?(O=Math.sign(D-w),f=d.value.offsetTop):O=D-w,w=D,S=U,q()}function _(){!u.value||!d.value||(O=0,S=0,q())}let E=-1;function q(){cancelAnimationFrame(E),E=requestAnimationFrame(W)}function W(){if(!u.value||!y.value)return;const D=w-f,U=Math.sign(O),$=Math.max(0,D-Lt),le=_e(T($),0,t.value.length),J=D+y.value+Lt,re=_e(T(J)+1,le+1,t.value.length);if((U!==kr||le<l.value)&&(U!==wr||re>o.value)){const A=P(l.value)-P(le),Z=P(re)-P(o.value);Math.max(A,Z)>Lt?(l.value=le,o.value=re):(le<=0&&(l.value=le),re>=t.value.length&&(o.value=re))}i.value=P(l.value),r.value=P(t.value.length)-P(o.value)}function ve(D){const U=P(D);!u.value||D&&!U?h=D:u.value.scrollTop=U}const C=x(()=>t.value.slice(l.value,o.value).map((D,U)=>({raw:D,index:U+l.value})));return te(t,()=>{v=Array.from({length:t.value.length}),p=Array.from({length:t.value.length}),L.immediate(),q()},{deep:!0}),{containerRef:u,markerRef:d,computedItems:C,paddingTop:i,paddingBottom:r,scrollToIndex:ve,handleScroll:F,handleScrollend:_,handleItemResize:z}}function Pr(e,t){let a=e.length-1,n=0,l=0,o=null,i=-1;if(e[a]<t)return a;for(;n<=a;)if(l=n+a>>1,o=e[l],o>t)a=l-1;else if(o<t)i=l,n=l+1;else return o===t?l:n;return i}const Sr=Y({items:{type:Array,default:()=>[]},renderless:Boolean,...Vr(),...Ie(),...Za()},"VVirtualScroll"),Tr=ae()({name:"VVirtualScroll",props:Sr(),setup(e,t){let{slots:a}=t;const n=nt("VVirtualScroll"),{dimensionStyles:l}=Qa(e),{containerRef:o,markerRef:i,handleScroll:r,handleScrollend:u,handleItemResize:d,scrollToIndex:f,paddingTop:c,paddingBottom:m,computedItems:y}=xr(e,j(e,"items"));return xt(()=>e.renderless,()=>{function b(){var g,h;const p=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";o.value===document.documentElement?(document[p]("scroll",r,{passive:!0}),document[p]("scrollend",u)):((g=o.value)==null||g[p]("scroll",r,{passive:!0}),(h=o.value)==null||h[p]("scrollend",u))}ot(()=>{o.value=hl(n.vnode.el,!0),b(!0)}),Ve(b)}),ne(()=>{const b=y.value.map(v=>s(br,{key:v.index,renderless:e.renderless,"onUpdate:height":p=>d(v.index,p)},{default:p=>{var g;return(g=a.default)==null?void 0:g.call(a,{item:v.raw,index:v.index,...p})}}));return e.renderless?s(H,null,[s("div",{ref:i,class:"v-virtual-scroll__spacer",style:{paddingTop:oe(c.value)}},null),b,s("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:oe(m.value)}},null)]):s("div",{ref:o,class:["v-virtual-scroll",e.class],onScrollPassive:r,onScrollend:u,style:[l.value,e.style]},[s("div",{ref:i,class:"v-virtual-scroll__container",style:{paddingTop:oe(c.value),paddingBottom:oe(m.value)}},[b])])}),{scrollToIndex:f}}});function Dr(e,t){const a=se(!1);let n;function l(r){cancelAnimationFrame(n),a.value=!0,n=requestAnimationFrame(()=>{n=requestAnimationFrame(()=>{a.value=!1})})}async function o(){await new Promise(r=>requestAnimationFrame(r)),await new Promise(r=>requestAnimationFrame(r)),await new Promise(r=>requestAnimationFrame(r)),await new Promise(r=>{if(a.value){const u=te(a,()=>{u(),r()})}else r()})}async function i(r){var f,c;if(r.key==="Tab"&&((f=t.value)==null||f.focus()),!["PageDown","PageUp","Home","End"].includes(r.key))return;const u=(c=e.value)==null?void 0:c.$el;if(!u)return;(r.key==="Home"||r.key==="End")&&u.scrollTo({top:r.key==="Home"?0:u.scrollHeight,behavior:"smooth"}),await o();const d=u.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(r.key==="PageDown"||r.key==="Home"){const m=u.getBoundingClientRect().top;for(const y of d)if(y.getBoundingClientRect().top>=m){y.focus();break}}else{const m=u.getBoundingClientRect().bottom;for(const y of[...d].reverse())if(y.getBoundingClientRect().bottom<=m){y.focus();break}}}return{onListScroll:l,onListKeydown:i}}const Cr=Y({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:xe,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...so({itemChildren:!1})},"Select"),Mr=Y({...Cr(),...Oe(lo({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Ja({transition:{component:ca}})},"VSelect"),Ce=ae()({name:"VSelect",props:Mr(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:a}=t;const{t:n}=Ne(),l=K(),o=K(),i=K(),r=ue(e,"menu"),u=x({get:()=>r.value,set:C=>{var D;r.value&&!C&&((D=o.value)!=null&&D.Î¨openChildren)||(r.value=C)}}),{items:d,transformIn:f,transformOut:c}=uo(e),m=ue(e,"modelValue",[],C=>f(C===null?[null]:Pe(C)),C=>{const D=c(C);return e.multiple?D:D[0]??null}),y=x(()=>typeof e.counterValue=="function"?e.counterValue(m.value):typeof e.counterValue=="number"?e.counterValue:m.value.length),b=no(),v=x(()=>m.value.map(C=>C.value)),p=se(!1),g=x(()=>u.value?e.closeText:e.openText);let h="",M;const L=x(()=>e.hideSelected?d.value.filter(C=>!m.value.some(D=>D===C)):d.value),R=x(()=>e.hideNoData&&!L.value.length||e.readonly||(b==null?void 0:b.isReadonly.value)),z=x(()=>{var C;return{...e.menuProps,activatorProps:{...((C=e.menuProps)==null?void 0:C.activatorProps)||{},"aria-haspopup":"listbox"}}}),P=K(),{onListScroll:T,onListKeydown:w}=Dr(P,l);function O(C){e.openOnClear&&(u.value=!0)}function S(){R.value||(u.value=!u.value)}function F(C){var J,re;if(!C.key||e.readonly||b!=null&&b.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(C.key)&&C.preventDefault(),["Enter","ArrowDown"," "].includes(C.key)&&(u.value=!0),["Escape","Tab"].includes(C.key)&&(u.value=!1),C.key==="Home"?(J=P.value)==null||J.focus("first"):C.key==="End"&&((re=P.value)==null||re.focus("last"));const D=1e3;function U(A){const Z=A.key.length===1,ce=!A.ctrlKey&&!A.metaKey&&!A.altKey;return Z&&ce}if(e.multiple||!U(C))return;const $=performance.now();$-M>D&&(h=""),h+=C.key.toLowerCase(),M=$;const le=d.value.find(A=>A.title.toLowerCase().startsWith(h));if(le!==void 0){m.value=[le];const A=L.value.indexOf(le);Te&&window.requestAnimationFrame(()=>{var Z;A>=0&&((Z=i.value)==null||Z.scrollToIndex(A))})}}function _(C){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!C.props.disabled)if(e.multiple){const U=m.value.findIndex(le=>e.valueComparator(le.value,C.value)),$=D??!~U;if(~U){const le=$?[...m.value,C]:[...m.value];le.splice(U,1),m.value=le}else $&&(m.value=[...m.value,C])}else{const U=D!==!1;m.value=U?[C]:[],be(()=>{u.value=!1})}}function E(C){var D;(D=P.value)!=null&&D.$el.contains(C.relatedTarget)||(u.value=!1)}function q(){var C;p.value&&((C=l.value)==null||C.focus())}function W(C){p.value=!0}function ve(C){if(C==null)m.value=[];else if(gt(l.value,":autofill")||gt(l.value,":-webkit-autofill")){const D=d.value.find(U=>U.title===C);D&&_(D)}else l.value&&(l.value.value="")}return te(u,()=>{if(!e.hideSelected&&u.value&&m.value.length){const C=L.value.findIndex(D=>m.value.some(U=>e.valueComparator(U.value,D.value)));Te&&window.requestAnimationFrame(()=>{var D;C>=0&&((D=i.value)==null||D.scrollToIndex(C))})}}),te(()=>e.items,(C,D)=>{u.value||p.value&&!D.length&&C.length&&(u.value=!0)}),ne(()=>{const C=!!(e.chips||a.chip),D=!!(!e.hideNoData||L.value.length||a["prepend-item"]||a["append-item"]||a["no-data"]),U=m.value.length>0,$=fe.filterProps(e),le=U||!p.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return s(fe,B({ref:l},$,{modelValue:m.value.map(J=>J.props.value).join(", "),"onUpdate:modelValue":ve,focused:p.value,"onUpdate:focused":J=>p.value=J,validationValue:m.externalValue,counterValue:y.value,dirty:U,class:["v-select",{"v-select--active-menu":u.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":m.value.length,"v-select--selection-slot":!!a.selection},e.class],style:e.style,inputmode:"none",placeholder:le,"onClick:clear":O,"onMousedown:control":S,onBlur:E,onKeydown:F,"aria-label":n(g.value),title:n(g.value)}),{...a,default:()=>s(H,null,[s(ma,B({ref:o,modelValue:u.value,"onUpdate:modelValue":J=>u.value=J,activator:"parent",contentClass:"v-select__content",disabled:R.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:q},z.value),{default:()=>[D&&s(ml,B({ref:P,selected:v.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:J=>J.preventDefault(),onKeydown:w,onFocusin:W,onScrollPassive:T,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},e.listProps),{default:()=>{var J,re,A;return[(J=a["prepend-item"])==null?void 0:J.call(a),!L.value.length&&!e.hideNoData&&(((re=a["no-data"])==null?void 0:re.call(a))??s(zt,{title:n(e.noDataText)},null)),s(Tr,{ref:i,renderless:!0,items:L.value},{default:Z=>{var qe;let{item:ce,index:Ee,itemRef:he}=Z;const Ae=B(ce.props,{ref:he,key:Ee,onClick:()=>_(ce,null)});return((qe=a.item)==null?void 0:qe.call(a,{item:ce,index:Ee,props:Ae}))??s(zt,B(Ae,{role:"option"}),{prepend:ct=>{let{isSelected:mt}=ct;return s(H,null,[e.multiple&&!e.hideSelected?s(ze,{key:ce.value,modelValue:mt,ripple:!1,tabindex:"-1"},null):void 0,ce.props.prependAvatar&&s(xn,{image:ce.props.prependAvatar},null),ce.props.prependIcon&&s(Be,{icon:ce.props.prependIcon},null)])}})}}),(A=a["append-item"])==null?void 0:A.call(a)]}})]}),m.value.map((J,re)=>{function A(he){he.stopPropagation(),he.preventDefault(),_(J,!1)}const Z={"onClick:close":A,onKeydown(he){he.key!=="Enter"&&he.key!==" "||(he.preventDefault(),he.stopPropagation(),A(he))},onMousedown(he){he.preventDefault(),he.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},ce=C?!!a.chip:!!a.selection,Ee=ce?Pn(C?a.chip({item:J,index:re,props:Z}):a.selection({item:J,index:re})):void 0;if(!(ce&&!Ee))return s("div",{key:J.value,class:"v-select__selection"},[C?a.chip?s(Ge,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:J.title}}},{default:()=>[Ee]}):s(pt,B({key:"chip",closable:e.closableChips,size:"small",text:J.title,disabled:J.props.disabled},Z),null):Ee??s("span",{class:"v-select__selection-text"},[J.title,e.multiple&&re<m.value.length-1&&s("span",{class:"v-select__selection-comma"},[ee(",")])])])})]),"append-inner":function(){var Z;for(var J=arguments.length,re=new Array(J),A=0;A<J;A++)re[A]=arguments[A];return s(H,null,[(Z=a["append-inner"])==null?void 0:Z.call(a,...re),e.menuIcon?s(Be,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),st({isFocused:p,menu:u,select:_},l)}}),_r={name:"SuperSelect",components:{},props:{modelValue:{type:[Number,Object],default(){return null}},filters:{type:String,default(){return"{}"}},model:{type:[Object,Function],required:!0},disabled:{type:Boolean,default(){return!1}},modelField:{type:Object,default(){return{}}},displayMapField:{type:Boolean,default(){return!1}},excludedCols:{type:Array,default(){return[]}},readonly:{type:Boolean,default(){return!1}},variant:{type:String,default(){return"outlined"}},density:{type:String,default(){return"compact"}},allowAll:{type:Boolean,default(){return!1}},user:{type:Object,default(){return{}}}},data(){return{search:"",pagination:{page:1,limit:5},loading:!1,noMoreShowMore:!1,fetchedItems:[]}},computed:{disabledComp(){return!!(this.disabled||this.readonly)},showMoreButtonVisible(){let e=!0;return(this.pagination.limit>=this.items.length||this.noMoreShowMore)&&(e=!1),e},quickListsIsMobile(){return ye.quickListsIsMobile()},title(){return this.headers.find(t=>t.value!=="id")},headers(){return ye.SupaerTableHeaders(this.model,this.excludedCols,!1,this.displayMapField)},items(){let e=[];if(!this.disabled){this.allowAll&&e.push({[this.title.value]:"All",id:null});const t=this.fetchedItems;e=[...e,...t]}return e},filtersComp(){const e=JSON.parse(this.filters);let t=e;return this.title.value&&this.search&&(t={...e,[this.title.value]:this.search}),t}},methods:{showMore(){this.pagination.page=this.pagination.page+1,this.fetchData()},quickListsGetIfMatchesAllChecks(e,t){return ye.quickListsGetIfMatchesAllChecks(e,t)},async fetchData(){var a,n;let e=[];(n=(a=this.modelField.fieldExtras)==null?void 0:a.relationRules)!=null&&n.linkables&&(e=this.modelField.fieldExtras.relationRules.linkables(this.user)),this.loading=!0;const t=await this.model.FetchAll({page:this.pagination.page,limit:this.pagination.limit,filters:this.filtersComp,flags:{...e,order:"id.desc"},moreHeaders:{Prefer:"count=exact"},clearPrimaryModelOnly:!1,relationships:[]});t.response.data.length==0&&(this.noMoreShowMore=!0),this.fetchedItems=t.response.data,this.loading=!1}},watch:{filters(){this.disabled||this.fetchData()},search(){this.disabled||this.fetchData()}},mounted(){this.disabled||this.fetchData()}};function Or(e,t,a,n,l,o){return k(),I("div",null,[s(Ce,{"menu-props":{offsetY:!0},modelValue:a.modelValue,"onUpdate:modelValue":t[2]||(t[2]=i=>{e.$emit("update:modelValue",i)}),variant:a.variant,density:a.density,items:o.items,label:a.modelField.label,"item-title":o.title.value,"item-value":"id",disabled:o.disabledComp,loading:l.loading,readonly:a.readonly},{"prepend-item":V(()=>[s(fe,{modelValue:l.search,"onUpdate:modelValue":t[0]||(t[0]=i=>l.search=i),label:"Search",density:"compact",variant:"outlined","single-line":"","hide-details":"",class:"ma-2 mt-0 pa-0"},null,8,["modelValue"]),s(fl,{class:"mt-2"})]),"append-item":V(()=>[o.showMoreButtonVisible?(k(),I("div",{key:0,onClick:t[1]||(t[1]=(...i)=>o.showMore&&o.showMore(...i)),class:"text-center pa-2"}," Show More ")):ie("",!0)]),_:1},8,["modelValue","variant","density","items","label","item-title","disabled","loading","readonly"])])}const fa=me(_r,[["render",Or]]),Fr={name:"CreateEditForm",components:{SuperSelect:fa,SearchGooglePlace:mr,DateAndTimePicker:ir,DateAndTimeRangePicker:tr,RelationComponent:Ko},props:{title:{type:String,default(){return""}},modelValue:{type:Object,default(){return{}}},superOptions:{type:Object,default(){return{headers:[],modelFields:[],displayMapField:!1,model:{},canEdit:!1,currentParentRecord:{},user:{}}}}},data(){return{itemData:{},loading:!1}},computed:{placeFieldsWithFieldNames(){let e=[];if(this.superOptions.modelFields.find(a=>a.usageType=="mapName"))for(const a of ye.mapPlaceFields()){const n=this.superOptions.modelFields.find(l=>l.usageType==a.flag);n&&e.push({...a,fieldNames:n.name})}return e}},methods:{cancel(){this.$emit("cancel")},editItemSubmit(){this.$refs.editForm.validate()&&this.$emit("submit")},setDefaultForEndTime(e){const t=this.superOptions.modelFields.find(a=>a.usageType=="timeRangeEnd");this.itemData[t.name]=Sn(e).add(2,"hours").toISOString()},async upsertAndGetEntityIds(e){},async searchGooglePlace(e){}},mounted(){this.itemData=this.modelValue,this.superOptions.modelFields.find(e=>e.usageType=="relForeignKeyCreatorType")},watch:{}};function Ir(e,t,a,n,l,o){const i=G("SuperSelect"),r=G("RelationComponent"),u=G("DateAndTimeRangePicker"),d=G("DateAndTimePicker"),f=G("SearchGooglePlace");return k(),N(we,null,{default:V(()=>[s(at,null,{default:V(()=>[ee(ke(a.title),1)]),_:1}),s(Fe,null,{default:V(()=>[s(oo,{ref:"editForm"},{default:V(()=>[(k(!0),I(H,null,pe(a.superOptions.modelFields,c=>(k(),I("div",{key:c.name},[c.dataType==="uid"?(k(),I(H,{key:0},[],64)):c.usageType.startsWith("rel")?(k(),I(H,{key:1},[c.usageType.startsWith("relLookup")?(k(),I(H,{key:0},[],64)):c.usageType.startsWith("relForeignKeyNormal")?(k(),N(i,{key:1,modelField:c,modelValue:l.itemData[c.name],"onUpdate:modelValue":m=>l.itemData[c.name]=m,model:c.meta.relatedModel,variant:"underlined",density:"default",user:a.superOptions.user},null,8,["modelField","modelValue","onUpdate:modelValue","model","user"])):c.usageType.startsWith("relForeignKeyMapExtraRel")?(k(),N(r,{key:2,configs:c,modelValue:l.itemData[c.name],"onUpdate:modelValue":m=>l.itemData[c.name]=m,readonly:""},null,8,["configs","modelValue","onUpdate:modelValue"])):c.usageType=="relForeignKeyOwnerAppliedToProviderType"?(k(),N(i,{key:3,modelField:c,modelValue:l.itemData[c.name],"onUpdate:modelValue":m=>l.itemData[c.name]=m,model:c.meta.relatedModel,readonly:"",variant:"underlined",density:"default",user:a.superOptions.user},null,8,["modelField","modelValue","onUpdate:modelValue","model","user"])):c.usageType.startsWith("relChildren")?(k(),I(H,{key:4},[],64)):(k(),N(r,{key:5,configs:c,modelValue:l.itemData[c.name],"onUpdate:modelValue":m=>l.itemData[c.name]=m},null,8,["configs","modelValue","onUpdate:modelValue"]))],64)):c.usageType=="timeRangeType"?(k(),N(u,{key:2,label:c.label,modelValue:l.itemData[c.name],"onUpdate:modelValue":m=>l.itemData[c.name]=m,rules:c.meta.rules},null,8,["label","modelValue","onUpdate:modelValue","rules"])):c.usageType=="timeRangeStart"?(k(),N(d,{key:3,label:c.label,modelValue:l.itemData[c.name],"onUpdate:modelValue":[m=>l.itemData[c.name]=m,o.setDefaultForEndTime],rules:c.meta.rules},null,8,["label","modelValue","onUpdate:modelValue","rules"])):c.usageType=="timeRangeEnd"?(k(),N(d,{key:4,label:c.label,modelValue:l.itemData[c.name],"onUpdate:modelValue":m=>l.itemData[c.name]=m,rules:c.meta.rules},null,8,["label","modelValue","onUpdate:modelValue","rules"])):c.usageType=="timestampType"?(k(),N(d,{key:5,label:c.label,modelValue:l.itemData[c.name],"onUpdate:modelValue":m=>l.itemData[c.name]=m,rules:c.meta.rules},null,8,["label","modelValue","onUpdate:modelValue","rules"])):c.usageType=="readOnlyTimestampType"?(k(),N(d,{key:6,label:c.label,modelValue:l.itemData[c.name],"onUpdate:modelValue":m=>l.itemData[c.name]=m,rules:c.meta.rules,disabled:""},null,8,["label","modelValue","onUpdate:modelValue","rules"])):c.usageType==="mapName"?(k(),N(f,{key:7,configs:c,modelValue:l.itemData[c.name],"onUpdate:modelValue":m=>l.itemData[c.name]=m,onChange:o.searchGooglePlace},null,8,["configs","modelValue","onUpdate:modelValue","onChange"])):c.usageType.startsWith("mapExtra")?(k(),N(fe,{key:8,label:c.label,modelValue:l.itemData[c.name],"onUpdate:modelValue":m=>l.itemData[c.name]=m,rules:c.meta.rules,disabled:"",style:{display:"none"},variant:"underlined"},null,8,["label","modelValue","onUpdate:modelValue","rules"])):c.usageType=="normal"?(k(),I(H,{key:9},[c.dataType==="string"?(k(),N(fe,{key:0,label:c.label,modelValue:l.itemData[c.name],"onUpdate:modelValue":m=>l.itemData[c.name]=m,rules:c.meta.rules,variant:"underlined"},null,8,["label","modelValue","onUpdate:modelValue","rules"])):c.dataType==="boolean"?(k(),N(yr,{key:1,label:c.label,modelValue:l.itemData[c.name],"onUpdate:modelValue":m=>l.itemData[c.name]=m,rules:c.meta.rules},null,8,["label","modelValue","onUpdate:modelValue","rules"])):c.dataType==="number"?(k(),N(fe,{key:2,label:c.label,modelValue:l.itemData[c.name],"onUpdate:modelValue":m=>l.itemData[c.name]=m,rules:c.meta.rules,type:"number",variant:"underlined"},null,8,["label","modelValue","onUpdate:modelValue","rules"])):c.dataType==="attr"?(k(),N(fe,{key:3,label:c.label,modelValue:l.itemData[c.name],"onUpdate:modelValue":m=>l.itemData[c.name]=m,rules:c.meta.rules,variant:"underlined"},null,8,["label","modelValue","onUpdate:modelValue","rules"])):ie("",!0)],64)):(k(),N(fe,{key:10,label:c.label,modelValue:l.itemData[c.name],"onUpdate:modelValue":m=>l.itemData[c.name]=m,rules:c.meta.rules,variant:"underlined"},null,8,["label","modelValue","onUpdate:modelValue","rules"]))]))),128))]),_:1},512)]),_:1}),s(Re,null,{default:V(()=>[s(Q,{onClick:o.cancel},{default:V(()=>[ee("Cancel")]),_:1},8,["onClick"]),s(Q,{onClick:o.editItemSubmit,disabled:l.loading},{default:V(()=>[ee("Save")]),_:1},8,["onClick","disabled"])]),_:1})]),_:1})}const va=me(Fr,[["render",Ir]]),Fl=Y({...Ie(),...bl()},"VExpansionPanelText"),Jt=ae()({name:"VExpansionPanelText",props:Fl(),setup(e,t){let{slots:a}=t;const n=Se(lt);if(!n)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:l,onAfterLeave:o}=kl(e,n.isSelected);return ne(()=>s(Tn,{onAfterLeave:o},{default:()=>{var i;return[Ye(s("div",{class:["v-expansion-panel-text",e.class],style:e.style},[a.default&&l.value&&s("div",{class:"v-expansion-panel-text__wrapper"},[(i=a.default)==null?void 0:i.call(a)])]),[[el,n.isSelected.value]])]}})),{}}}),Il=Y({color:String,expandIcon:{type:xe,default:"$expand"},collapseIcon:{type:xe,default:"$collapse"},hideActions:Boolean,focusable:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...Ie()},"VExpansionPanelTitle"),Xt=ae()({name:"VExpansionPanelTitle",directives:{Ripple:al},props:Il(),setup(e,t){let{slots:a}=t;const n=Se(lt);if(!n)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:l,backgroundColorStyles:o}=je(e,"color"),i=x(()=>({collapseIcon:e.collapseIcon,disabled:n.disabled.value,expanded:n.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly}));return ne(()=>{var r;return Ye(s("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":n.isSelected.value,"v-expansion-panel-title--focusable":e.focusable,"v-expansion-panel-title--static":e.static},l.value,e.class],style:[o.value,e.style],type:"button",tabindex:n.disabled.value?-1:void 0,disabled:n.disabled.value,"aria-expanded":n.isSelected.value,onClick:e.readonly?void 0:n.toggle},[s("span",{class:"v-expansion-panel-title__overlay"},null),(r=a.default)==null?void 0:r.call(a,i.value),!e.hideActions&&s("span",{class:"v-expansion-panel-title__icon"},[a.actions?a.actions(i.value):s(Be,{icon:n.isSelected.value?e.collapseIcon:e.expandIcon},null)])]),[[St("ripple"),e.ripple]])}),{}}}),Rl=Y({title:String,text:String,bgColor:String,...nl(),...Dn(),...ol(),...ia(),...Il(),...Fl()},"VExpansionPanel"),Rr=ae()({name:"VExpansionPanel",props:Rl(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:a}=t;const n=Cn(e,lt),{backgroundColorClasses:l,backgroundColorStyles:o}=je(e,"bgColor"),{elevationClasses:i}=Mn(e),{roundedClasses:r}=_n(e),u=x(()=>(n==null?void 0:n.disabled.value)||e.disabled),d=x(()=>n.group.items.value.reduce((m,y,b)=>(n.group.selected.value.includes(y.id)&&m.push(b),m),[])),f=x(()=>{const m=n.group.items.value.findIndex(y=>y.id===n.id);return!n.isSelected.value&&d.value.some(y=>y-m===1)}),c=x(()=>{const m=n.group.items.value.findIndex(y=>y.id===n.id);return!n.isSelected.value&&d.value.some(y=>y-m===-1)});return Me(lt,n),ne(()=>{const m=!!(a.text||e.text),y=!!(a.title||e.title),b=Xt.filterProps(e),v=Jt.filterProps(e);return s(e.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":n.isSelected.value,"v-expansion-panel--before-active":f.value,"v-expansion-panel--after-active":c.value,"v-expansion-panel--disabled":u.value},r.value,l.value,e.class],style:[o.value,e.style]},{default:()=>{var p;return[s("div",{class:["v-expansion-panel__shadow",...i.value]},null),y&&s(Xt,B({key:"title"},b),{default:()=>[a.title?a.title():e.title]}),m&&s(Jt,B({key:"text"},v),{default:()=>[a.text?a.text():e.text]}),(p=a.default)==null?void 0:p.call(a)]}})}),{}}}),lt=Symbol.for("vuetify:v-expansion-panel"),Er=["default","accordion","inset","popout"],Ar=Y({flat:Boolean,...On(),...Rl(),...rt(),variant:{type:String,default:"default",validator:e=>Er.includes(e)}},"VExpansionPanels"),Br=ae()({name:"VExpansionPanels",props:Ar(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;Fn(e,lt);const{themeClasses:n}=Pt(e),l=x(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return et({VExpansionPanel:{bgColor:j(e,"bgColor"),collapseIcon:j(e,"collapseIcon"),color:j(e,"color"),eager:j(e,"eager"),elevation:j(e,"elevation"),expandIcon:j(e,"expandIcon"),focusable:j(e,"focusable"),hideActions:j(e,"hideActions"),readonly:j(e,"readonly"),ripple:j(e,"ripple"),rounded:j(e,"rounded"),static:j(e,"static")}}),ne(()=>s(e.tag,{class:["v-expansion-panels",{"v-expansion-panels--flat":e.flat,"v-expansion-panels--tile":e.tile},n.value,l.value,e.class],style:e.style},a)),{}}}),Lr={name:"DestructableExpansionPanels",props:{destroy:{type:Boolean,default(){return!1}},title:{type:String,default(){return""}}}};function Nr(e,t,a,n,l,o){return k(),I("div",null,[a.destroy?Le(e.$slots,"default",{key:0}):(k(),N(Br,{key:1},{default:V(()=>[s(Rr,null,{default:V(()=>[s(Xt,null,{default:V(()=>[ee(ke(a.title),1)]),_:1}),s(Jt,null,{default:V(()=>[Le(e.$slots,"default")]),_:3})]),_:3})]),_:3}))])}const Hr=me(Lr,[["render",Nr]]),Yr={name:"FormattedColumn",components:{CreateEditForm:va},props:{isTag:{type:Boolean,default(){return!1}},header:{type:Object,default(){return{}}},item:{type:Object,default(){return{}}},superOptions:{type:Object,default(){return{headers:[],modelFields:[],displayMapField:!1,model:{},canEdit:!1,currentParentRecord:{},user:{}}}}},data(){return{deleteItemData:{showModal:!1,data:null},editItemData:{showModal:!1,data:null}}},computed:{},methods:{disabled(){var t;let e=!1;return(t=this.superOptions.model.rules)!=null&&t.editable&&(e=this.superOptions.model.rules.editable(this.superOptions.user,this.item)),!e},deleteItem(e){this.deleteItemData.data=e,this.deleteItemData.showModal=!0},deleteItemSubmit(){this.superOptions.model.Delete(this.deleteItemData.data.id).then(()=>{this.fetchData()}),this.deleteItemData.showModal=!1},editItem(e){this.editItemData.data={...e},this.editItemData.showModal=!0},editItemSubmit(){const e=ye.preparePayload(this.editItemData.data,this.superOptions.modelFields);this.superOptions.model.Update(e).then(()=>{this.fetchData()}),this.editItemData.showModal=!1},formatTimestamp(e){return e?rl.tz(e,"YYYY-MM-DDTHH:mm:ss.SSSSSSZ","UTC").tz("Africa/Johannesburg").format("dddd, MMMM D, YYYY h:mm A"):null}}},Ur={key:3,style:{"min-height":"32px"}};function zr(e,t,a,n,l,o){var r,u;const i=G("CreateEditForm");return k(),I("div",null,[a.header.usageType.startsWith("relChildren")?(k(),I(H,{key:0},[],64)):a.header.usageType=="readOnlyTimestampType"||a.header.usageType=="timestampType"||a.header.usageType=="timeRangeStart"||a.header.usageType=="timeRangeEnd"?(k(),I(H,{key:1},[ee(ke(o.formatTimestamp(a.item[a.header.value])),1)],64)):a.header.usageType=="actions"?(k(),I(H,{key:2},[de("div",{onClick:t[2]||(t[2]=$e(()=>{},["stop"])),style:sa(o.disabled()?"cursor: default;":"")},[s(Q,{onClick:t[0]||(t[0]=$e(d=>o.editItem(a.item),["stop"])),disabled:o.disabled(),color:"grey",icon:"mdi-pencil",variant:"plain",height:"36px",width:"36px"},null,8,["disabled"]),s(Q,{onClick:t[1]||(t[1]=$e(d=>o.deleteItem(a.item),["stop"])),disabled:o.disabled(),color:"grey",icon:"mdi-delete",variant:"plain",height:"36px",width:"36px"},null,8,["disabled"])],4),a.superOptions.canEdit?(k(),I(H,{key:0},[s(ge,{modelValue:l.editItemData.showModal,"onUpdate:modelValue":t[5]||(t[5]=d=>l.editItemData.showModal=d),"max-width":"800px",scrollable:""},{default:V(()=>[l.editItemData.showModal?(k(),N(i,{key:0,title:"Edit Item",modelValue:l.editItemData.data,"onUpdate:modelValue":t[3]||(t[3]=d=>l.editItemData.data=d),onSubmit:o.editItemSubmit,onCancel:t[4]||(t[4]=d=>l.editItemData.showModal=!1),superOptions:a.superOptions},null,8,["modelValue","onSubmit","superOptions"])):ie("",!0)]),_:1},8,["modelValue"]),s(ge,{modelValue:l.deleteItemData.showModal,"onUpdate:modelValue":t[7]||(t[7]=d=>l.deleteItemData.showModal=d),"max-width":"600px"},{default:V(()=>[s(we,null,{default:V(()=>[s(at,null,{default:V(()=>[ee(" Delete Item ")]),_:1}),s(Fe,null,{default:V(()=>[ee(" Delete item? ")]),_:1}),s(Re,null,{default:V(()=>[s(Q,{onClick:t[6]||(t[6]=d=>l.deleteItemData.showModal=!1)},{default:V(()=>[ee("Cancel")]),_:1}),s(Q,{onClick:o.deleteItemSubmit},{default:V(()=>[ee("Delete")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)):ie("",!0)],64)):a.header.usageType.startsWith("relLookup")?(k(),I("div",Ur,[(u=(r=a.item)==null?void 0:r[a.header.value])!=null&&u[a.header.meta.lookupDisplayField]?(k(),N(pt,{key:0},{default:V(()=>{var d,f;return[ee(ke((f=(d=a.item)==null?void 0:d[a.header.value])==null?void 0:f[a.header.meta.lookupDisplayField]),1)]}),_:1})):ie("",!0)])):(k(),I(H,{key:4},[a.isTag?(k(),I(H,{key:0},[a.isTag?(k(),N(pt,{key:0},{default:V(()=>[ee(ke(a.item[a.header.value]),1)]),_:1})):ie("",!0)],64)):(k(),I(H,{key:1},[ee(ke(a.item[a.header.value]),1)],64))],64))])}const ut=me(Yr,[["render",zr]]);function Wr(){const e=K([]);In(()=>e.value=[]);function t(a,n){e.value[n]=a}return{refs:e,updateRef:t}}const jr=Y({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:xe,default:"$first"},prevIcon:{type:xe,default:"$prev"},nextIcon:{type:xe,default:"$next"},lastIcon:{type:xe,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...Rn(),...Ie(),...oa(),...nl(),...ol(),...En(),...ia({tag:"nav"}),...rt(),...An({variant:"text"})},"VPagination"),Ya=ae()({name:"VPagination",props:jr(),emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,t){let{slots:a,emit:n}=t;const l=ue(e,"modelValue"),{t:o,n:i}=Ne(),{isRtl:r}=Xa(),{themeClasses:u}=Pt(e),{width:d}=We(),f=se(-1);et(void 0,{scoped:!0});const{resizeRef:c}=ra(T=>{if(!T.length)return;const{target:w,contentRect:O}=T[0],S=w.querySelector(".v-pagination__list > *");if(!S)return;const F=O.width,_=S.offsetWidth+parseFloat(getComputedStyle(S).marginRight)*2;f.value=v(F,_)}),m=x(()=>parseInt(e.length,10)),y=x(()=>parseInt(e.start,10)),b=x(()=>e.totalVisible!=null?parseInt(e.totalVisible,10):f.value>=0?f.value:v(d.value,58));function v(T,w){const O=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(+((T-w*O)/w).toFixed(2)))}const p=x(()=>{if(m.value<=0||isNaN(m.value)||m.value>Number.MAX_SAFE_INTEGER)return[];if(b.value<=0)return[];if(b.value===1)return[l.value];if(m.value<=b.value)return He(m.value,y.value);const T=b.value%2===0,w=T?b.value/2:Math.floor(b.value/2),O=T?w:w+1,S=m.value-w;if(O-l.value>=0)return[...He(Math.max(1,b.value-1),y.value),e.ellipsis,m.value];if(l.value-S>=(T?1:0)){const F=b.value-1,_=m.value-F+y.value;return[y.value,e.ellipsis,...He(F,_)]}else{const F=Math.max(1,b.value-3),_=F===1?l.value:l.value-Math.ceil(F/2)+y.value;return[y.value,e.ellipsis,...He(F,_),e.ellipsis,m.value]}});function g(T,w,O){T.preventDefault(),l.value=w,O&&n(O,w)}const{refs:h,updateRef:M}=Wr();et({VPaginationBtn:{color:j(e,"color"),border:j(e,"border"),density:j(e,"density"),size:j(e,"size"),variant:j(e,"variant"),rounded:j(e,"rounded"),elevation:j(e,"elevation")}});const L=x(()=>p.value.map((T,w)=>{const O=S=>M(S,w);if(typeof T=="string")return{isActive:!1,key:`ellipsis-${w}`,page:T,props:{ref:O,ellipsis:!0,icon:!0,disabled:!0}};{const S=T===l.value;return{isActive:S,key:T,page:i(T),props:{ref:O,ellipsis:!1,icon:!0,disabled:!!e.disabled||+e.length<2,color:S?e.activeColor:e.color,"aria-current":S,"aria-label":o(S?e.currentPageAriaLabel:e.pageAriaLabel,T),onClick:F=>g(F,T)}}}})),R=x(()=>{const T=!!e.disabled||l.value<=y.value,w=!!e.disabled||l.value>=y.value+m.value-1;return{first:e.showFirstLastPage?{icon:r.value?e.lastIcon:e.firstIcon,onClick:O=>g(O,y.value,"first"),disabled:T,"aria-label":o(e.firstAriaLabel),"aria-disabled":T}:void 0,prev:{icon:r.value?e.nextIcon:e.prevIcon,onClick:O=>g(O,l.value-1,"prev"),disabled:T,"aria-label":o(e.previousAriaLabel),"aria-disabled":T},next:{icon:r.value?e.prevIcon:e.nextIcon,onClick:O=>g(O,l.value+1,"next"),disabled:w,"aria-label":o(e.nextAriaLabel),"aria-disabled":w},last:e.showFirstLastPage?{icon:r.value?e.firstIcon:e.lastIcon,onClick:O=>g(O,y.value+m.value-1,"last"),disabled:w,"aria-label":o(e.lastAriaLabel),"aria-disabled":w}:void 0}});function z(){var w;const T=l.value-y.value;(w=h.value[T])==null||w.$el.focus()}function P(T){T.key===xa.left&&!e.disabled&&l.value>+e.start?(l.value=l.value-1,be(z)):T.key===xa.right&&!e.disabled&&l.value<y.value+m.value-1&&(l.value=l.value+1,be(z))}return ne(()=>s(e.tag,{ref:c,class:["v-pagination",u.value,e.class],style:e.style,role:"navigation","aria-label":o(e.ariaLabel),onKeydown:P,"data-test":"v-pagination-root"},{default:()=>[s("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&s("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[a.first?a.first(R.value.first):s(Q,B({_as:"VPaginationBtn"},R.value.first),null)]),s("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[a.prev?a.prev(R.value.prev):s(Q,B({_as:"VPaginationBtn"},R.value.prev),null)]),L.value.map((T,w)=>s("li",{key:T.key,class:["v-pagination__item",{"v-pagination__item--is-active":T.isActive}],"data-test":"v-pagination-item"},[a.item?a.item(T):s(Q,B({_as:"VPaginationBtn"},T.props),{default:()=>[T.page]})])),s("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[a.next?a.next(R.value.next):s(Q,B({_as:"VPaginationBtn"},R.value.next),null)]),e.showFirstLastPage&&s("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[a.last?a.last(R.value.last):s(Q,B({_as:"VPaginationBtn"},R.value.last),null)])])]})),{}}}),Gr=Y({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),El=Symbol.for("vuetify:data-table-pagination");function Kr(e){const t=ue(e,"page",void 0,n=>+(n??1)),a=ue(e,"itemsPerPage",void 0,n=>+(n??10));return{page:t,itemsPerPage:a}}function qr(e){const{page:t,itemsPerPage:a,itemsLength:n}=e,l=x(()=>a.value===-1?0:a.value*(t.value-1)),o=x(()=>a.value===-1?n.value:Math.min(n.value,l.value+a.value)),i=x(()=>a.value===-1||n.value===0?1:Math.ceil(n.value/a.value));De(()=>{t.value>i.value&&(t.value=i.value)});function r(m){a.value=m,t.value=1}function u(){t.value=_e(t.value+1,1,i.value)}function d(){t.value=_e(t.value-1,1,i.value)}function f(m){t.value=_e(m,1,i.value)}const c={page:t,itemsPerPage:a,startIndex:l,stopIndex:o,pageCount:i,itemsLength:n,nextPage:u,prevPage:d,setPage:f,setItemsPerPage:r};return Me(El,c),c}function Zr(){const e=Se(El);if(!e)throw new Error("Missing pagination!");return e}function Jr(e){const t=nt("usePaginatedItems"),{items:a,startIndex:n,stopIndex:l,itemsPerPage:o}=e,i=x(()=>o.value<=0?a.value:a.value.slice(n.value,l.value));return te(i,r=>{t.emit("update:currentItems",r)}),{paginatedItems:i}}const Al=Y({prevIcon:{type:String,default:"$prev"},nextIcon:{type:String,default:"$next"},firstIcon:{type:String,default:"$first"},lastIcon:{type:String,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),Ua=ae()({name:"VDataTableFooter",props:Al(),setup(e,t){let{slots:a}=t;const{t:n}=Ne(),{page:l,pageCount:o,startIndex:i,stopIndex:r,itemsLength:u,itemsPerPage:d,setItemsPerPage:f}=Zr(),c=x(()=>e.itemsPerPageOptions.map(m=>typeof m=="number"?{value:m,title:m===-1?n("$vuetify.dataFooter.itemsPerPageAll"):String(m)}:{...m,title:isNaN(Number(m.title))?n(m.title):m.title}));return ne(()=>{var y;const m=Ya.filterProps(e);return s("div",{class:"v-data-table-footer"},[(y=a.prepend)==null?void 0:y.call(a),s("div",{class:"v-data-table-footer__items-per-page"},[s("span",null,[n(e.itemsPerPageText)]),s(Ce,{items:c.value,modelValue:d.value,"onUpdate:modelValue":b=>f(Number(b)),density:"compact",variant:"outlined","hide-details":!0},null)]),s("div",{class:"v-data-table-footer__info"},[s("div",null,[n(e.pageText,u.value?i.value+1:0,r.value,u.value)])]),s("div",{class:"v-data-table-footer__pagination"},[s(Ya,B({modelValue:l.value,"onUpdate:modelValue":b=>l.value=b,density:"comfortable","first-aria-label":e.firstPageLabel,"last-aria-label":e.lastPageLabel,length:o.value,"next-aria-label":e.nextPageLabel,"previous-aria-label":e.prevPageLabel,rounded:!0,"show-first-last-page":!0,"total-visible":e.showCurrentPage?1:0,variant:"plain"},m),null)])])}),{}}}),Vt=Bn({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String],maxWidth:[Number,String],nowrap:Boolean},(e,t)=>{let{slots:a}=t;const n=e.tag??"td";return s(n,{class:["v-data-table__td",{"v-data-table-column--fixed":e.fixed,"v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--no-padding":e.noPadding,"v-data-table-column--nowrap":e.nowrap},`v-data-table-column--align-${e.align}`],style:{height:oe(e.height),width:oe(e.width),maxWidth:oe(e.maxWidth),left:oe(e.fixedOffset||null)}},{default:()=>{var l;return[(l=a.default)==null?void 0:l.call(a)]}})}),Xr=Y({headers:Array},"DataTable-header"),Bl=Symbol.for("vuetify:data-table-headers"),Ll={title:"",sortable:!1},Qr={...Ll,width:48};function $r(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(a=>({element:a,priority:0}));return{enqueue:(a,n)=>{let l=!1;for(let o=0;o<t.length;o++)if(t[o].priority>n){t.splice(o,0,{element:a,priority:n}),l=!0;break}l||t.push({element:a,priority:n})},size:()=>t.length,count:()=>{let a=0;if(!t.length)return 0;const n=Math.floor(t[0].priority);for(let l=0;l<t.length;l++)Math.floor(t[l].priority)===n&&(a+=1);return a},dequeue:()=>t.shift()}}function Qt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e.children)t.push(e);else for(const a of e.children)Qt(a,t);return t}function Nl(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const a of e)a.key&&t.add(a.key),a.children&&Nl(a.children,t);return t}function ei(e){if(e.key){if(e.key==="data-table-group")return Ll;if(["data-table-expand","data-table-select"].includes(e.key))return Qr}}function ha(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.children?Math.max(t,...e.children.map(a=>ha(a,t+1))):t}function ti(e){let t=!1;function a(o){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(o)if(i&&(o.fixed=!0),o.fixed)if(o.children)for(let r=o.children.length-1;r>=0;r--)a(o.children[r],!0);else t?isNaN(+o.width)&&Nn(`Multiple fixed columns should have a static width (key: ${o.key})`):o.lastFixed=!0,t=!0;else if(o.children)for(let r=o.children.length-1;r>=0;r--)a(o.children[r]);else t=!1}for(let o=e.length-1;o>=0;o--)a(e[o]);function n(o){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!o)return i;if(o.children){o.fixedOffset=i;for(const r of o.children)i=n(r,i)}else o.fixed&&(o.fixedOffset=i,i+=parseFloat(o.width||"0")||0);return i}let l=0;for(const o of e)l=n(o,l)}function ai(e,t){const a=[];let n=0;const l=$r(e);for(;l.size()>0;){let i=l.count();const r=[];let u=1;for(;i>0;){const{element:d,priority:f}=l.dequeue(),c=t-n-ha(d);if(r.push({...d,rowspan:c??1,colspan:d.children?Qt(d).length:1}),d.children)for(const m of d.children){const y=f%1+u/Math.pow(10,n+2);l.enqueue(m,n+c+y)}u+=1,i-=1}n+=1,a.push(r)}return{columns:e.map(i=>Qt(i)).flat(),headers:a}}function Hl(e){const t=[];for(const a of e){const n={...ei(a),...a},l=n.key??(typeof n.value=="string"?n.value:null),o=n.value??l??null,i={...n,key:l,value:o,sortable:n.sortable??(n.key!=null||!!n.sort),children:n.children?Hl(n.children):void 0};t.push(i)}return t}function li(e,t){const a=K([]),n=K([]),l=K({}),o=K({}),i=K({});De(()=>{var v,p,g;const d=(e.headers||Object.keys(e.items[0]??{}).map(h=>({key:h,title:Ln(h)}))).slice(),f=Nl(d);(v=t==null?void 0:t.groupBy)!=null&&v.value.length&&!f.has("data-table-group")&&d.unshift({key:"data-table-group",title:"Group"}),(p=t==null?void 0:t.showSelect)!=null&&p.value&&!f.has("data-table-select")&&d.unshift({key:"data-table-select"}),(g=t==null?void 0:t.showExpand)!=null&&g.value&&!f.has("data-table-expand")&&d.push({key:"data-table-expand"});const c=Hl(d);ti(c);const m=Math.max(...c.map(h=>ha(h)))+1,y=ai(c,m);a.value=y.headers,n.value=y.columns;const b=y.headers.flat(1);for(const h of b)h.key&&(h.sortable&&(h.sort&&(l.value[h.key]=h.sort),h.sortRaw&&(o.value[h.key]=h.sortRaw)),h.filter&&(i.value[h.key]=h.filter))});const r={headers:a,columns:n,sortFunctions:l,sortRawFunctions:o,filterFunctions:i};return Me(Bl,r),r}function Mt(){const e=Se(Bl);if(!e)throw new Error("Missing headers!");return e}const ni={showSelectAll:!1,allSelected:()=>[],select:e=>{var n;let{items:t,value:a}=e;return new Set(a?[(n=t[0])==null?void 0:n.value]:[])},selectAll:e=>{let{selected:t}=e;return t}},Yl={showSelectAll:!0,allSelected:e=>{let{currentPage:t}=e;return t},select:e=>{let{items:t,value:a,selected:n}=e;for(const l of t)a?n.add(l.value):n.delete(l.value);return n},selectAll:e=>{let{value:t,currentPage:a,selected:n}=e;return Yl.select({items:a,value:t,selected:n})}},Ul={showSelectAll:!0,allSelected:e=>{let{allItems:t}=e;return t},select:e=>{let{items:t,value:a,selected:n}=e;for(const l of t)a?n.add(l.value):n.delete(l.value);return n},selectAll:e=>{let{value:t,allItems:a,selected:n}=e;return Ul.select({items:a,value:t,selected:n})}},oi=Y({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:na}},"DataTable-select"),zl=Symbol.for("vuetify:data-table-selection");function ri(e,t){let{allItems:a,currentPage:n}=t;const l=ue(e,"modelValue",e.modelValue,g=>new Set(Pe(g).map(h=>{var M;return((M=a.value.find(L=>e.valueComparator(h,L.value)))==null?void 0:M.value)??h})),g=>[...g.values()]),o=x(()=>a.value.filter(g=>g.selectable)),i=x(()=>n.value.filter(g=>g.selectable)),r=x(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return ni;case"all":return Ul;case"page":default:return Yl}});function u(g){return Pe(g).every(h=>l.value.has(h.value))}function d(g){return Pe(g).some(h=>l.value.has(h.value))}function f(g,h){const M=r.value.select({items:g,value:h,selected:new Set(l.value)});l.value=M}function c(g){f([g],!u([g]))}function m(g){const h=r.value.selectAll({value:g,allItems:o.value,currentPage:i.value,selected:new Set(l.value)});l.value=h}const y=x(()=>l.value.size>0),b=x(()=>{const g=r.value.allSelected({allItems:o.value,currentPage:i.value});return!!g.length&&u(g)}),v=x(()=>r.value.showSelectAll),p={toggleSelect:c,select:f,selectAll:m,isSelected:u,isSomeSelected:d,someSelected:y,allSelected:b,showSelectAll:v};return Me(zl,p),p}function _t(){const e=Se(zl);if(!e)throw new Error("Missing selection!");return e}const ii=Y({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),Wl=Symbol.for("vuetify:data-table-sort");function si(e){const t=ue(e,"sortBy"),a=j(e,"mustSort"),n=j(e,"multiSort");return{sortBy:t,mustSort:a,multiSort:n}}function ui(e){const{sortBy:t,mustSort:a,multiSort:n,page:l}=e,o=u=>{if(u.key==null)return;let d=t.value.map(c=>({...c}))??[];const f=d.find(c=>c.key===u.key);f?f.order==="desc"?a.value?f.order="asc":d=d.filter(c=>c.key!==u.key):f.order="desc":n.value?d=[...d,{key:u.key,order:"asc"}]:d=[{key:u.key,order:"asc"}],t.value=d,l&&(l.value=1)};function i(u){return!!t.value.find(d=>d.key===u.key)}const r={sortBy:t,toggleSort:o,isSorted:i};return Me(Wl,r),r}function jl(){const e=Se(Wl);if(!e)throw new Error("Missing sort!");return e}function di(e,t,a,n){const l=Ne();return{sortedItems:x(()=>{var i,r;return a.value.length?ci(t.value,a.value,l.current.value,{transform:n==null?void 0:n.transform,sortFunctions:{...e.customKeySort,...(i=n==null?void 0:n.sortFunctions)==null?void 0:i.value},sortRawFunctions:(r=n==null?void 0:n.sortRawFunctions)==null?void 0:r.value}):t.value})}}function ci(e,t,a,n){const l=new Intl.Collator(a,{sensitivity:"accent",usage:"sort"});return e.map(i=>[i,n!=null&&n.transform?n.transform(i):i]).sort((i,r)=>{var u,d;for(let f=0;f<t.length;f++){let c=!1;const m=t[f].key,y=t[f].order??"asc";if(y===!1)continue;let b=i[1][m],v=r[1][m],p=i[0].raw,g=r[0].raw;if(y==="desc"&&([b,v]=[v,b],[p,g]=[g,p]),(u=n==null?void 0:n.sortRawFunctions)!=null&&u[m]){const h=n.sortRawFunctions[m](p,g);if(h==null)continue;if(c=!0,h)return h}if((d=n==null?void 0:n.sortFunctions)!=null&&d[m]){const h=n.sortFunctions[m](b,v);if(h==null)continue;if(c=!0,h)return h}if(!c){if(b instanceof Date&&v instanceof Date)return b.getTime()-v.getTime();if([b,v]=[b,v].map(h=>h!=null?h.toString().toLocaleLowerCase():h),b!==v)return ft(b)&&ft(v)?0:ft(b)?-1:ft(v)?1:!isNaN(b)&&!isNaN(v)?Number(b)-Number(v):l.compare(b,v)}}return 0}).map(i=>{let[r]=i;return r})}const Gl=Y({color:String,sticky:Boolean,multiSort:Boolean,sortAscIcon:{type:xe,default:"$sortAsc"},sortDescIcon:{type:xe,default:"$sortDesc"},headerProps:{type:Object},...ua(),...Hn()},"VDataTableHeaders"),za=ae()({name:"VDataTableHeaders",props:Gl(),setup(e,t){let{slots:a}=t;const{t:n}=Ne(),{toggleSort:l,sortBy:o,isSorted:i}=jl(),{someSelected:r,allSelected:u,selectAll:d,showSelectAll:f}=_t(),{columns:c,headers:m}=Mt(),{loaderClasses:y}=Yn(e);function b(T,w){if(!(!e.sticky&&!T.fixed))return{position:"sticky",left:T.fixed?oe(T.fixedOffset):void 0,top:e.sticky?`calc(var(--v-table-header-height) * ${w})`:void 0}}function v(T){const w=o.value.find(O=>O.key===T.key);return w?w.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:p,backgroundColorStyles:g}=je(e,"color"),{displayClasses:h,mobile:M}=We(e),L=x(()=>({headers:m.value,columns:c.value,toggleSort:l,isSorted:i,sortBy:o.value,someSelected:r.value,allSelected:u.value,selectAll:d,getSortIcon:v})),R=x(()=>["v-data-table__th",{"v-data-table__th--sticky":e.sticky},h.value,y.value]),z=T=>{let{column:w,x:O,y:S}=T;const F=w.key==="data-table-select"||w.key==="data-table-expand",_=B(e.headerProps??{},w.headerProps??{});return s(Vt,B({tag:"th",align:w.align,class:[{"v-data-table__th--sortable":w.sortable,"v-data-table__th--sorted":i(w),"v-data-table__th--fixed":w.fixed},...R.value],style:{width:oe(w.width),minWidth:oe(w.minWidth),maxWidth:oe(w.maxWidth),...b(w,S)},colspan:w.colspan,rowspan:w.rowspan,onClick:w.sortable?()=>l(w):void 0,fixed:w.fixed,nowrap:w.nowrap,lastFixed:w.lastFixed,noPadding:F},_),{default:()=>{var W;const E=`header.${w.key}`,q={column:w,selectAll:d,isSorted:i,toggleSort:l,sortBy:o.value,someSelected:r.value,allSelected:u.value,getSortIcon:v};return a[E]?a[E](q):w.key==="data-table-select"?((W=a["header.data-table-select"])==null?void 0:W.call(a,q))??(f.value&&s(ze,{modelValue:u.value,indeterminate:r.value&&!u.value,"onUpdate:modelValue":d},null)):s("div",{class:"v-data-table-header__content"},[s("span",null,[w.title]),w.sortable&&s(Be,{key:"icon",class:"v-data-table-header__sort-icon",icon:v(w)},null),e.multiSort&&i(w)&&s("div",{key:"badge",class:["v-data-table-header__sort-badge",...p.value],style:g.value},[o.value.findIndex(ve=>ve.key===w.key)+1])])}})},P=()=>{const T=B(e.headerProps??{}??{}),w=x(()=>c.value.filter(S=>S==null?void 0:S.sortable)),O=x(()=>{if(c.value.find(F=>F.key==="data-table-select")!=null)return u.value?"$checkboxOn":r.value?"$checkboxIndeterminate":"$checkboxOff"});return s(Vt,B({tag:"th",class:[...R.value],colspan:m.value.length+1},T),{default:()=>[s("div",{class:"v-data-table-header__content"},[s(Ce,{chips:!0,class:"v-data-table__td-sort-select",clearable:!0,density:"default",items:w.value,label:n("$vuetify.dataTable.sortBy"),multiple:e.multiSort,variant:"underlined","onClick:clear":()=>o.value=[],appendIcon:O.value,"onClick:append":()=>d(!u.value)},{...a,chip:S=>{var F;return s(pt,{onClick:(F=S.item.raw)!=null&&F.sortable?()=>l(S.item.raw):void 0,onMousedown:_=>{_.preventDefault(),_.stopPropagation()}},{default:()=>[S.item.title,s(Be,{class:["v-data-table__td-sort-icon",i(S.item.raw)&&"v-data-table__td-sort-icon-active"],icon:v(S.item.raw),size:"small"},null)]})}})])]})};ne(()=>M.value?s("tr",null,[s(P,null,null)]):s(H,null,[a.headers?a.headers(L.value):m.value.map((T,w)=>s("tr",null,[T.map((O,S)=>s(z,{column:O,x:S,y:w},null))])),e.loading&&s("tr",{class:"v-data-table-progress"},[s("th",{colspan:c.value.length},[s(Un,{name:"v-data-table-progress",absolute:!0,active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:a.loader})])])]))}}),mi=Y({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),Kl=Symbol.for("vuetify:data-table-group");function fi(e){return{groupBy:ue(e,"groupBy")}}function vi(e){const{groupBy:t,sortBy:a}=e,n=K(new Set),l=x(()=>t.value.map(d=>({...d,order:d.order??!1})).concat(a.value));function o(d){return n.value.has(d.id)}function i(d){const f=new Set(n.value);o(d)?f.delete(d.id):f.add(d.id),n.value=f}function r(d){function f(c){const m=[];for(const y of c.items)"type"in y&&y.type==="group"?m.push(...f(y)):m.push(y);return m}return f({type:"group",items:d,id:"dummy",key:"dummy",value:"dummy",depth:0})}const u={sortByWithGroups:l,toggleGroup:i,opened:n,groupBy:t,extractRows:r,isGroupOpen:o};return Me(Kl,u),u}function ql(){const e=Se(Kl);if(!e)throw new Error("Missing group!");return e}function hi(e,t){if(!e.length)return[];const a=new Map;for(const n of e){const l=il(n.raw,t);a.has(l)||a.set(l,[]),a.get(l).push(n)}return a}function Zl(e,t){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!t.length)return[];const l=hi(e,t[0]),o=[],i=t.slice(1);return l.forEach((r,u)=>{const d=t[0],f=`${n}_${d}_${u}`;o.push({depth:a,id:f,key:d,value:u,items:i.length?Zl(r,i,a+1,f):r,type:"group"})}),o}function Jl(e,t){const a=[];for(const n of e)"type"in n&&n.type==="group"?(n.value!=null&&a.push(n),(t.has(n.id)||n.value==null)&&a.push(...Jl(n.items,t))):a.push(n);return a}function yi(e,t,a){return{flatItems:x(()=>{if(!t.value.length)return e.value;const l=Zl(e.value,t.value.map(o=>o.key));return Jl(l,a.value)})}}const gi=Y({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),pi=ae()({name:"VDataTableGroupHeaderRow",props:gi(),setup(e,t){let{slots:a}=t;const{isGroupOpen:n,toggleGroup:l,extractRows:o}=ql(),{isSelected:i,isSomeSelected:r,select:u}=_t(),{columns:d}=Mt(),f=x(()=>o([e.item]));return()=>s("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[d.value.map(c=>{var m,y;if(c.key==="data-table-group"){const b=n(e.item)?"$expand":"$next",v=()=>l(e.item);return((m=a["data-table-group"])==null?void 0:m.call(a,{item:e.item,count:f.value.length,props:{icon:b,onClick:v}}))??s(Vt,{class:"v-data-table-group-header-row__column"},{default:()=>[s(Q,{size:"small",variant:"text",icon:b,onClick:v},null),s("span",null,[e.item.value]),s("span",null,[ee("("),f.value.length,ee(")")])]})}if(c.key==="data-table-select"){const b=i(f.value),v=r(f.value)&&!b,p=g=>u(f.value,g);return((y=a["data-table-select"])==null?void 0:y.call(a,{props:{modelValue:b,indeterminate:v,"onUpdate:modelValue":p}}))??s("td",null,[s(ze,{modelValue:b,indeterminate:v,"onUpdate:modelValue":p},null)])}return s("td",null,null)})])}}),bi=Y({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),Xl=Symbol.for("vuetify:datatable:expanded");function ki(e){const t=j(e,"expandOnClick"),a=ue(e,"expanded",e.expanded,r=>new Set(r),r=>[...r.values()]);function n(r,u){const d=new Set(a.value);u?d.add(r.value):d.delete(r.value),a.value=d}function l(r){return a.value.has(r.value)}function o(r){n(r,!l(r))}const i={expand:n,expanded:a,expandOnClick:t,isExpanded:l,toggleExpand:o};return Me(Xl,i),i}function Ql(){const e=Se(Xl);if(!e)throw new Error("foo");return e}const wi=Y({index:Number,item:Object,cellProps:[Object,Function],onClick:vt(),onContextmenu:vt(),onDblclick:vt(),...ua()},"VDataTableRow"),Vi=ae()({name:"VDataTableRow",props:wi(),setup(e,t){let{slots:a}=t;const{displayClasses:n,mobile:l}=We(e,"v-data-table__tr"),{isSelected:o,toggleSelect:i,someSelected:r,allSelected:u,selectAll:d}=_t(),{isExpanded:f,toggleExpand:c}=Ql(),{toggleSort:m,sortBy:y,isSorted:b}=jl(),{columns:v}=Mt();ne(()=>s("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!(e.onClick||e.onContextmenu||e.onDblclick)},n.value],onClick:e.onClick,onContextmenu:e.onContextmenu,onDblclick:e.onDblclick},[e.item&&v.value.map((p,g)=>{const h=e.item,M=`item.${p.key}`,L=`header.${p.key}`,R={index:e.index,item:h.raw,internalItem:h,value:il(h.columns,p.key),column:p,isSelected:o,toggleSelect:i,isExpanded:f,toggleExpand:c},z={column:p,selectAll:d,isSorted:b,toggleSort:m,sortBy:y.value,someSelected:r.value,allSelected:u.value,getSortIcon:()=>""},P=typeof e.cellProps=="function"?e.cellProps({index:R.index,item:R.item,internalItem:R.internalItem,value:R.value,column:p}):e.cellProps,T=typeof p.cellProps=="function"?p.cellProps({index:R.index,item:R.item,internalItem:R.internalItem,value:R.value}):p.cellProps;return s(Vt,B({align:p.align,class:{"v-data-table__td--expanded-row":p.key==="data-table-expand","v-data-table__td--select-row":p.key==="data-table-select"},fixed:p.fixed,fixedOffset:p.fixedOffset,lastFixed:p.lastFixed,maxWidth:l.value?void 0:p.maxWidth,noPadding:p.key==="data-table-select"||p.key==="data-table-expand",nowrap:p.nowrap,width:l.value?void 0:p.width},P,T),{default:()=>{var O,S,F,_,E;if(a[M]&&!l.value)return(O=a[M])==null?void 0:O.call(a,R);if(p.key==="data-table-select")return((S=a["item.data-table-select"])==null?void 0:S.call(a,R))??s(ze,{disabled:!h.selectable,modelValue:o([h]),onClick:$e(()=>i(h),["stop"])},null);if(p.key==="data-table-expand")return((F=a["item.data-table-expand"])==null?void 0:F.call(a,R))??s(Q,{icon:f(h)?"$collapse":"$expand",size:"small",variant:"text",onClick:$e(()=>c(h),["stop"])},null);const w=ke(R.value);return l.value?s(H,null,[s("div",{class:"v-data-table__td-title"},[((_=a[L])==null?void 0:_.call(a,z))??p.title]),s("div",{class:"v-data-table__td-value"},[((E=a[M])==null?void 0:E.call(a,R))??w])]):w}})})]))}}),$l=Y({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function],...ua()},"VDataTableRows"),Wa=ae()({name:"VDataTableRows",inheritAttrs:!1,props:$l(),setup(e,t){let{attrs:a,slots:n}=t;const{columns:l}=Mt(),{expandOnClick:o,toggleExpand:i,isExpanded:r}=Ql(),{isSelected:u,toggleSelect:d}=_t(),{toggleGroup:f,isGroupOpen:c}=ql(),{t:m}=Ne(),{mobile:y}=We(e);return ne(()=>{var b,v;return e.loading&&(!e.items.length||n.loading)?s("tr",{class:"v-data-table-rows-loading",key:"loading"},[s("td",{colspan:l.value.length},[((b=n.loading)==null?void 0:b.call(n))??m(e.loadingText)])]):!e.loading&&!e.items.length&&!e.hideNoData?s("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[s("td",{colspan:l.value.length},[((v=n["no-data"])==null?void 0:v.call(n))??m(e.noDataText)])]):s(H,null,[e.items.map((p,g)=>{var L;if(p.type==="group"){const R={index:g,item:p,columns:l.value,isExpanded:r,toggleExpand:i,isSelected:u,toggleSelect:d,toggleGroup:f,isGroupOpen:c};return n["group-header"]?n["group-header"](R):s(pi,B({key:`group-header_${p.id}`,item:p},Da(a,":group-header",()=>R)),n)}const h={index:g,item:p.raw,internalItem:p,columns:l.value,isExpanded:r,toggleExpand:i,isSelected:u,toggleSelect:d},M={...h,props:B({key:`item_${p.key??p.index}`,onClick:o.value?()=>{i(p)}:void 0,index:g,item:p,cellProps:e.cellProps,mobile:y.value},Da(a,":row",()=>h),typeof e.rowProps=="function"?e.rowProps({item:h.item,index:h.index,internalItem:h.internalItem}):e.rowProps)};return s(H,{key:M.props.key},[n.item?n.item(M):s(Vi,M.props,n),r(p)&&((L=n["expanded-row"])==null?void 0:L.call(n,h))])})])}),{}}}),en=Y({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...Ie(),...oa(),...ia(),...rt()},"VTable"),ja=ae()({name:"VTable",props:en(),setup(e,t){let{slots:a,emit:n}=t;const{themeClasses:l}=Pt(e),{densityClasses:o}=ll(e);return ne(()=>s(e.tag,{class:["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!a.top,"v-table--has-bottom":!!a.bottom,"v-table--hover":e.hover},l.value,o.value,e.class],style:e.style},{default:()=>{var i,r,u;return[(i=a.top)==null?void 0:i.call(a),a.default?s("div",{class:"v-table__wrapper",style:{height:oe(e.height)}},[s("table",null,[a.default()])]):(r=a.wrapper)==null?void 0:r.call(a),(u=a.bottom)==null?void 0:u.call(a)]}})),{}}}),xi=Y({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function Pi(e,t,a,n){const l=e.returnObject?t:Xe(t,e.itemValue),o=Xe(t,e.itemSelectable,!0),i=n.reduce((r,u)=>(u.key!=null&&(r[u.key]=Xe(t,u.value)),r),{});return{type:"item",key:e.returnObject?Xe(t,e.itemValue):l,index:a,value:l,selectable:o,columns:i,raw:t}}function Si(e,t,a){return t.map((n,l)=>Pi(e,n,l,a))}function Ti(e,t){return{items:x(()=>Si(e,e.items,t.value))}}function Di(e){let{page:t,itemsPerPage:a,sortBy:n,groupBy:l,search:o}=e;const i=nt("VDataTable"),r=x(()=>({page:t.value,itemsPerPage:a.value,sortBy:n.value,groupBy:l.value,search:o.value}));let u=null;te(r,()=>{na(u,r.value)||(u&&u.search!==r.value.search&&(t.value=1),i.emit("update:options",r.value),u=r.value)},{deep:!0,immediate:!0})}const Ci=(e,t,a)=>e==null||t==null?-1:e.toString().toLocaleLowerCase().indexOf(t.toString().toLocaleLowerCase()),Mi=Y({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function _i(e,t,a){var r;const n=[],l=(a==null?void 0:a.default)??Ci,o=a!=null&&a.filterKeys?Pe(a.filterKeys):!1,i=Object.keys((a==null?void 0:a.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return n;e:for(let u=0;u<e.length;u++){const[d,f=d]=Pe(e[u]),c={},m={};let y=-1;if(t&&!(a!=null&&a.noFilter)){if(typeof d=="object"){const p=o||Object.keys(f);for(const g of p){const h=Xe(f,g),M=(r=a==null?void 0:a.customKeyFilter)==null?void 0:r[g];if(y=M?M(h,t,d):l(h,t,d),y!==-1&&y!==!1)M?c[g]=y:m[g]=y;else if((a==null?void 0:a.filterMode)==="every")continue e}}else y=l(d,t,d),y!==-1&&y!==!1&&(m.title=y);const b=Object.keys(m).length,v=Object.keys(c).length;if(!b&&!v||(a==null?void 0:a.filterMode)==="union"&&v!==i&&!b||(a==null?void 0:a.filterMode)==="intersection"&&(v!==i||!b))continue}n.push({index:u,matches:{...m,...c}})}return n}function Oi(e,t,a,n){const l=K([]),o=K(new Map),i=x(()=>n!=null&&n.transform?Ze(t).map(u=>[u,n.transform(u)]):Ze(t));De(()=>{const u=typeof a=="function"?a():Ze(a),d=typeof u!="string"&&typeof u!="number"?"":String(u),f=_i(i.value,d,{customKeyFilter:{...e.customKeyFilter,...Ze(n==null?void 0:n.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),c=Ze(t),m=[],y=new Map;f.forEach(b=>{let{index:v,matches:p}=b;const g=c[v];m.push(g),y.set(g.value,p)}),l.value=m,o.value=y});function r(u){return o.value.get(u.value)}return{filteredItems:l,filteredMatches:o,getMatches:r}}const Fi=Y({...$l(),width:[String,Number],search:String,...bi(),...mi(),...Xr(),...xi(),...oi(),...ii(),...Gl(),...en()},"DataTable"),Ii=Y({...Gr(),...Fi(),...Mi(),...Al()},"VDataTable"),Ri=ae()({name:"VDataTable",props:Ii(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,t){let{attrs:a,slots:n}=t;const{groupBy:l}=fi(e),{sortBy:o,multiSort:i,mustSort:r}=si(e),{page:u,itemsPerPage:d}=Kr(e),{columns:f,headers:c,sortFunctions:m,sortRawFunctions:y,filterFunctions:b}=li(e,{groupBy:l,showSelect:j(e,"showSelect"),showExpand:j(e,"showExpand")}),{items:v}=Ti(e,f),p=j(e,"search"),{filteredItems:g}=Oi(e,v,p,{transform:Z=>Z.columns,customKeyFilter:b}),{toggleSort:h}=ui({sortBy:o,multiSort:i,mustSort:r,page:u}),{sortByWithGroups:M,opened:L,extractRows:R,isGroupOpen:z,toggleGroup:P}=vi({groupBy:l,sortBy:o}),{sortedItems:T}=di(e,g,M,{transform:Z=>Z.columns,sortFunctions:m,sortRawFunctions:y}),{flatItems:w}=yi(T,l,L),O=x(()=>w.value.length),{startIndex:S,stopIndex:F,pageCount:_,setItemsPerPage:E}=qr({page:u,itemsPerPage:d,itemsLength:O}),{paginatedItems:q}=Jr({items:w,startIndex:S,stopIndex:F,itemsPerPage:d}),W=x(()=>R(q.value)),{isSelected:ve,select:C,selectAll:D,toggleSelect:U,someSelected:$,allSelected:le}=ri(e,{allItems:v,currentPage:W}),{isExpanded:J,toggleExpand:re}=ki(e);Di({page:u,itemsPerPage:d,sortBy:o,groupBy:l,search:p}),et({VDataTableRows:{hideNoData:j(e,"hideNoData"),noDataText:j(e,"noDataText"),loading:j(e,"loading"),loadingText:j(e,"loadingText")}});const A=x(()=>({page:u.value,itemsPerPage:d.value,sortBy:o.value,pageCount:_.value,toggleSort:h,setItemsPerPage:E,someSelected:$.value,allSelected:le.value,isSelected:ve,select:C,selectAll:D,toggleSelect:U,isExpanded:J,toggleExpand:re,isGroupOpen:z,toggleGroup:P,items:W.value.map(Z=>Z.raw),internalItems:W.value,groupedItems:q.value,columns:f.value,headers:c.value}));return ne(()=>{const Z=Ua.filterProps(e),ce=za.filterProps(e),Ee=Wa.filterProps(e),he=ja.filterProps(e);return s(ja,B({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},he),{top:()=>{var Ae;return(Ae=n.top)==null?void 0:Ae.call(n,A.value)},default:()=>{var Ae,qe,ct,mt,ya,ga;return n.default?n.default(A.value):s(H,null,[(Ae=n.colgroup)==null?void 0:Ae.call(n,A.value),s("thead",null,[s(za,ce,n)]),(qe=n.thead)==null?void 0:qe.call(n,A.value),s("tbody",null,[(ct=n["body.prepend"])==null?void 0:ct.call(n,A.value),n.body?n.body(A.value):s(Wa,B(a,Ee,{items:q.value}),n),(mt=n["body.append"])==null?void 0:mt.call(n,A.value)]),(ya=n.tbody)==null?void 0:ya.call(n,A.value),(ga=n.tfoot)==null?void 0:ga.call(n,A.value)])},bottom:()=>n.bottom?n.bottom(A.value):s(H,null,[s(fl,null,null),s(Ua,Z,{prepend:n["footer.prepend"]})])})}),{}}}),Ei={name:"SuperTableTable",components:{CreateEditForm:va,FormattedColumn:ut},props:{items:{type:Array,default(){return[]}},pagination:{type:Object,default(){return{}}},superOptions:{type:Object,default(){return{headers:[],modelFields:[],displayMapField:!1,model:{},canEdit:!1,currentParentRecord:{}}}}},computed:{paginatedGetSet:{get(){return this.pagination},set(e){this.$emit("updatePagination",e)}},flattenedHeaders(){let e=[];for(const t of this.superOptions.headers)if(e.push(t),t.headerChildren)for(const a of t.headerChildren)e.push({...a});return e},flattenedHeadersHideMapField(){let e=[];for(const t of this.flattenedHeaders)(this.superOptions.superOptions||!t.usageType.startsWith("relLookupMapExtra")&&!t.usageType.startsWith("mapExtra"))&&e.push(t);return e}},methods:{updateOptions(e){this.$emit("updateOptions",e)},deleteItem(e){this.$emit("deleteItem",e)},editItem(e){this.$emit("editItem",e)},clickRow(e,t){this.$emit("clickRow",t.item)}},watch:{"editItemData.showModal"(e){e||(this.editItemData.data={})}}},Ai={key:0},Bi={key:1};function Li(e,t,a,n,l,o){const i=G("FormattedColumn");return k(),I("div",null,[s(Ri,{"mobile-breakpoint":0,"onClick:row":o.clickRow,headers:o.flattenedHeadersHideMapField,items:a.items,page:o.paginatedGetSet.page,"sort-desc":"","items-per-page":o.paginatedGetSet.itemsPerPage,"server-items-length":+a.pagination.totalItems,"onUpdate:options":o.updateOptions,"sort-by":["id"]},tt({_:2},[pe(o.flattenedHeaders,(r,u)=>({name:`item.${r.value}`,fn:V(({item:d})=>[r.isChildOf?(k(),I("div",Ai,[s(i,{isTag:!0,header:r,item:d[r.isChildOf.value],superOptions:a.superOptions},null,8,["header","item","superOptions"])])):(k(),I("div",Bi,[s(i,{header:r,item:d,superOptions:a.superOptions},null,8,["header","item","superOptions"])]))])}))]),1032,["onClick:row","headers","items","page","items-per-page","server-items-length","onUpdate:options"])])}const tn=me(Ei,[["render",Li]]),Ni={name:"FilterPlace",components:{SuperTableTable:tn,SuperSelect:fa},props:{filterField:{type:Object,default(){return{}}},modelValue:{type:Object,default(){return{}}},user:{type:Object,default(){return{}}}},data(){return{placeFieldLevelTypes:["relForeignKeyMapExtraRelCountry","relForeignKeyMapExtraRelAdminArea1","relForeignKeyMapExtraRelAdminArea2","relForeignKeyMapExtraRelLocality","relForeignKeyMapExtraRelSublocality"],parentRelationships:{relForeignKeyMapExtraRelCountry:null,relForeignKeyMapExtraRelAdminArea1:"relForeignKeyMapExtraRelCountry",relForeignKeyMapExtraRelAdminArea2:"relForeignKeyMapExtraRelAdminArea1",relForeignKeyMapExtraRelLocality:"relForeignKeyMapExtraRelAdminArea2",relForeignKeyMapExtraRelSublocality:"relForeignKeyMapExtraRelLocality"},menu:!1,filtersData:[]}},computed:{displayPlace(){let e="";const t=this.filterField.children;for(let a of this.placeFieldLevelTypes){let n=t.find(l=>l.usageType===a);if(n&&this.filtersData[n.name]&&this.filtersData[n.name]){let l=this.fetchDisplayNameFromVuex(n.meta.relatedModel,this.filtersData[n.name]);l&&(e=l)}}return e}},methods:{handleSelectChange(e){const t=this.filterField.children.find(a=>a.name===e);if(t){const a=this.getChildFields(t.usageType);for(let n of a){const l=this.filterField.children.find(o=>o.usageType===n);l&&this.filtersData[l.name]&&(this.filtersData[l.name]=null)}}},getChildFields(e){const t=this.placeFieldLevelTypes.indexOf(e);return t===-1||t===this.placeFieldLevelTypes.length-1?[]:this.placeFieldLevelTypes.slice(t+1)},fetchDisplayNameFromVuex(e,t){let a="PlaceholderName";return a=e.query().whereId(t).first()[this.title(e).name],a},title(e){return ye.computedAttrs(e).find(n=>n.name!=="id")},filterParentName(e){const a=this.parentRelationships[e.usageType];let n=null;if(a){const l=this.filterField.children.find(o=>o.usageType==a);l&&(n=l.name)}return n},getFilters(e){const t=this.filterParentName(e),a=this.modelValue[t]?{parent_id:this.modelValue[t]}:{};return JSON.stringify(a)}},mounted(){this.filtersData=this.modelValue},watch:{filtersData:{handler(){console.log("handler"),this.$emit("update:modelValue",this.filtersData)},deep:!0}}};function Hi(e,t,a,n,l,o){const i=G("SuperSelect");return k(),I("div",null,[s(ma,{modelValue:l.menu,"onUpdate:modelValue":t[1]||(t[1]=r=>l.menu=r),"close-on-content-click":!1,"nudge-width":200,"nudge-top":25,"offset-y":""},{activator:V(({props:r})=>[de("div",ta(aa(r)),[s(fe,{label:"Place Filter",type:"text",modelValue:o.displayPlace,readonly:"",density:"compact",variant:"outlined",placeholder:"All"},null,8,["modelValue"])],16)]),default:V(()=>[s(we,null,{default:V(()=>[s(Fe,null,{default:V(()=>[(k(!0),I(H,null,pe(a.filterField.children,r=>(k(),I(H,null,[r.usageType.startsWith("relForeignKeyMapExtraRel")?(k(),I("div",{key:r.name,class:"ma-2"},[typeof l.filtersData[r.name]<"u"?(k(),N(i,{key:0,allowAll:"",modelField:r,model:r.meta.relatedModel,filters:o.getFilters(r),modelValue:l.filtersData[r.name],"onUpdate:modelValue":[u=>l.filtersData[r.name]=u,u=>o.handleSelectChange(r.name)],disabled:o.filterParentName(r)&&!a.modelValue[o.filterParentName(r)],user:a.user},null,8,["modelField","model","filters","modelValue","onUpdate:modelValue","disabled","user"])):ie("",!0)])):ie("",!0)],64))),256)),s(Re,null,{default:V(()=>[s(Ke),s(Q,{color:"primary",onClick:t[0]||(t[0]=r=>l.menu=!1)},{default:V(()=>[ee("OK")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const Yi=me(Ni,[["render",Hi]]),Ui={name:"FilterTime",props:{modelField:{type:Object,default(){return{}}},modelValue:{type:Object,default:()=>({year:null,month:null,week:null,day:null,range:{start:null,end:null}})}},data(){return{years:this.generateYears(),months:[],weeks:[],days:[],menu:!1}},computed:{displayDate(){if(this.selectedDay)return X(this.selectedDay).format("ddd, MMM D, YYYY");if(this.selectedWeek){const e=X().year(this.selectedYear).month(this.selectedMonth-1).isoWeek(this.selectedWeek).startOf("isoWeek"),t=e.clone().endOf("isoWeek");return e.month()===t.month()?`${e.format("ddd D")} - ${t.format("ddd D, MMM, YYYY")}`:`${e.format("ddd D, MMM")} - ${t.format("ddd D, MMM, YYYY")}`}return this.selectedMonth?X(`${this.selectedYear}-${this.selectedMonth}-01`).format("MMM, YYYY"):this.selectedYear?this.selectedYear.toString():""},selectedYear:{get(){var e,t;return(e=this.modelValue)!=null&&e.year?(t=this.modelValue)==null?void 0:t.year:null},set(e){const t={...this.modelValue,year:e,month:null,week:null,day:null};this.$emit("update:modelValue",{...t,range:this.computeRange(t)}),this.months=this.generateMonths()}},selectedMonth:{get(){var e,t;return(e=this.modelValue)!=null&&e.month?(t=this.modelValue)==null?void 0:t.month:null},set(e){const t={...this.modelValue,month:e,week:null,day:null};this.$emit("update:modelValue",{...t,range:this.computeRange(t)}),this.weeks=this.generateWeeks(this.selectedYear,e)}},selectedWeek:{get(){var e,t;return(e=this.modelValue)!=null&&e.week?(t=this.modelValue)==null?void 0:t.week:null},set(e){const t={...this.modelValue,week:e,day:null};this.$emit("update:modelValue",{...t,range:this.computeRange(t)}),this.days=this.generateDays(this.selectedYear,this.selectedMonth,e)}},selectedDay:{get(){var e,t;return(e=this.modelValue)!=null&&e.day?(t=this.modelValue)==null?void 0:t.day:null},set(e){const t={...this.modelValue,day:e};this.$emit("update:modelValue",{...t,range:this.computeRange(t)})}}},methods:{computeRange(e){let t,a;return e.day?t=a=X(e.day):e.week?(t=X().year(e.year).isoWeek(e.week).isoWeekday(1),a=t.clone().endOf("isoWeek")):e.month?(t=X(`${e.year}-${e.month}-01`,"YYYY-MM-DD"),a=t.clone().endOf("month")):e.year&&(t=X(`${e.year}-01-01`,"YYYY-MM-DD"),a=X(`${e.year}-12-31`,"YYYY-MM-DD")),{start:t?t.format("YYYY-MM-DD"):null,end:a?a.format("YYYY-MM-DD"):null}},generateYears(){const e=X().year(),t=[];t.push({label:"All",value:null});for(let a=0;a<10;a++)t.push({label:e-a,value:e-a});return t},generateMonths(){const e=[];e.push({label:"All",value:null});for(let t=0;t<12;t++)e.push({label:X().month(t).format("MMMM"),value:+X().month(t).format("MM")});return e},generateWeeks(e,t){const a=X(`${e}-${t}-01`,"YYYY-MM-DD").startOf("month"),n=a.clone().endOf("month"),l=[];for(l.push({label:"All",value:null});a<=n;){const o=a.clone().startOf("isoWeek"),i=o.clone().endOf("isoWeek");let r;o.month()===i.month()?r=`${o.format("D")} - ${i.format("D MMM")}`:r=`${o.format("D MMM")} - ${i.format("D MMM")}`,l.push({label:r,value:o.week()}),a.add(1,"week")}return l},generateDays(e,t,a){const n=a,l=X().year(e).isoWeek(n).isoWeekday(1),o=l.clone().endOf("isoWeek"),i=[];for(;l<=o;)i.push({label:l.format("Do"),value:l.format("YYYY-MM-DD")}),l.add(1,"day");const r=i.filter(d=>+X(d.value).format("MM")===t);return[{label:"All",value:null},...r]}}};function zi(e,t,a,n,l,o){return k(),I("div",null,[s(ma,{modelValue:l.menu,"onUpdate:modelValue":t[5]||(t[5]=i=>l.menu=i),"close-on-content-click":!1,"nudge-width":200,"nudge-top":25,"offset-y":""},{activator:V(({props:i})=>[de("div",ta(aa(i)),[s(fe,{label:"Time Filter",type:"text",modelValue:o.displayDate,readonly:"",density:"compact",variant:"outlined"},null,8,["modelValue"])],16)]),default:V(()=>[s(we,null,{default:V(()=>[s(Fe,null,{default:V(()=>[s(Ce,{items:l.years,modelValue:o.selectedYear,"onUpdate:modelValue":t[0]||(t[0]=i=>o.selectedYear=i),label:"Year","item-title":"label","item-value":"value",density:"compact",variant:"outlined"},null,8,["items","modelValue"]),s(Ce,{items:l.months,modelValue:o.selectedMonth,"onUpdate:modelValue":t[1]||(t[1]=i=>o.selectedMonth=i),label:"Month",disabled:!o.selectedYear,"item-title":"label","item-value":"value",density:"compact",variant:"outlined"},null,8,["items","modelValue","disabled"]),s(Ce,{items:l.weeks,modelValue:o.selectedWeek,"onUpdate:modelValue":t[2]||(t[2]=i=>o.selectedWeek=i),label:"Week",disabled:!o.selectedMonth,"item-title":"label","item-value":"value",density:"compact",variant:"outlined"},null,8,["items","modelValue","disabled"]),s(Ce,{items:l.days,modelValue:o.selectedDay,"onUpdate:modelValue":t[3]||(t[3]=i=>o.selectedDay=i),label:"Day",disabled:!o.selectedWeek,"item-title":"label","item-value":"value",density:"compact",variant:"outlined"},null,8,["items","modelValue","disabled"]),s(Re,null,{default:V(()=>[s(Ke),s(Q,{color:"primary",onClick:t[4]||(t[4]=i=>l.menu=!1)},{default:V(()=>[ee("OK")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const Wi=me(Ui,[["render",zi]]),ji={name:"MyGoogleMap",components:{InocanGoogleMap:zn,InocanMarker:Wn,InocanMarkerCluster:jn},props:{markers:{type:Array,default(){return[]}},modelValue:{type:Object,default(){return{}}},zoom:{type:Number,default(){return 2}}},data(){return{selectedPlaceIndex:null,iconAndLabelLabel:{icon:{url:"/mapIconCluster.svg"},label:{color:"white"}}}},computed:{clusterStyles(){return[{...this.clusterStyle,height:40,width:40},{...this.clusterStyle,height:40,width:40},{...this.clusterStyle,height:40,width:40},{...this.clusterStyle,height:40,width:40},{...this.clusterStyle,height:40,width:40}]}},methods:{iconAndLabelLabelMethod(e){return{icon:this.iconAndLabelLabel.icon,label:{text:String(e),...this.iconAndLabelLabel.label}}},clusterOptions(e){return{renderer:{render:({count:t,position:a})=>new e.Marker({position:a,...this.iconAndLabelLabelMethod(t),zIndex:999+t})}}},markerOptions(e){return{url:"/mapIconPin.svg",size:{width:30,height:30,f:"px",b:"px"},scaledSize:{width:30,height:30,f:"px",b:"px"}}},selectedMarkerOptions(e){return{id:e.meta.id,url:"/mapIconPin.svg",size:{width:40,height:40,f:"px",b:"px"},scaledSize:{width:40,height:40,f:"px",b:"px"}}},markerOptionsMethod(e,t){return t==this.selectedPlaceIndex?this.selectedMarkerOptions(e,t):this.markerOptions(e,t)},position(e){return{lng:Number(e.lng),lat:Number(e.lat)}},clickedMarker(e,t){this.$emit("update:modelValue",e.position),this.selectedPlaceIndex=t,this.$emit("clickMarker",e,t)}},mounted(){},watch:{}};function Gi(e,t,a,n,l,o){const i=G("InocanMarker"),r=G("InocanMarkerCluster"),u=G("InocanGoogleMap");return k(),I("div",null,[s(u,{center:a.modelValue,zoom:a.zoom,"map-type-id":"terrain",style:{height:"500px",width:"904px"}},{default:V(({api:d})=>[s(r,{options:o.clusterOptions(d)},{default:V(()=>[(k(!0),I(H,null,pe(a.markers,(f,c)=>(k(),N(i,{key:c,onClick:m=>o.clickedMarker(f,c),options:{position:f.position,icon:o.markerOptionsMethod(f,c)}},null,8,["onClick","options"]))),128))]),_:2},1032,["options"])]),_:1},8,["center","zoom"])])}const Ki=me(ji,[["render",Gi]]),qi={name:"RecordOverview",components:{FormattedColumn:ut},props:{clickable:{type:Boolean,default(){return!1}},maxFields:{type:Number,default(){return 999}},item:{type:Object,default(){return{}}},superOptions:{type:Object,default(){return{headers:[],modelFields:[],displayMapField:!1,model:{},canEdit:!1,currentParentRecord:{},user:{}}}}},methods:{deleteItem(e){this.$emit("deleteItem",e)},editItem(e){this.$emit("editItem",e)},clickRow(e){this.$emit("clickRow",e)}}},Zi={class:"text-caption"},Ji={class:"text-caption"};function Xi(e,t,a,n,l,o){const i=G("FormattedColumn");return k(),I("div",{style:sa(a.clickable?"cursor: pointer":""),onClick:t[0]||(t[0]=r=>o.clickRow(a.item))},[(k(!0),I(H,null,pe(a.superOptions.headers,(r,u)=>(k(),I(H,null,[r.value!=="id"&&(u<a.maxFields||r.type=="actions")?(k(),I("div",{key:r.name,style:{"min-height":"1.375rem"}},[u<2?(k(),I(H,{key:0},[a.superOptions.headers[0].value=="id"?(k(),I(H,{key:0},[u==0?(k(),I(H,{key:0},[],64)):(k(),N(at,{key:1},{default:V(()=>[s(i,{header:r,item:a.item,superOptions:a.superOptions},null,8,["header","item","superOptions"])]),_:2},1024))],64)):(k(),I(H,{key:1},[u==0?(k(),N(at,{key:0},{default:V(()=>[s(i,{header:r,item:a.item,superOptions:a.superOptions},null,8,["header","item","superOptions"])]),_:2},1024)):(k(),N(Fe,{key:1},{default:V(()=>[de("div",Zi,ke(r.title),1),(k(),N(i,{key:u,header:r,item:a.item,superOptions:a.superOptions},null,8,["header","item","superOptions"]))]),_:2},1024))],64))],64)):(k(),N(Fe,{key:1},{default:V(()=>[de("div",Ji,ke(r.title),1),(k(),N(i,{key:u,header:r,item:a.item,superOptions:a.superOptions},null,8,["header","item","superOptions"]))]),_:2},1024))])):ie("",!0)],64))),256))],4)}const dt=me(qi,[["render",Xi]]),Qi={name:"RecordOverviewDynamicDataPoint",components:{RecordOverview:dt,SuperTable:Gn(()=>tl(()=>Promise.resolve().then(()=>an),void 0)),FormattedColumn:ut},props:{dataPoint:{type:Object,default(){return{}}},item:{type:Object,default(){return{}}},childRelations:{type:Array,default(){return[]}},superOptions:{type:Object,default(){return{headers:[],modelFields:[],displayMapField:!1,model:{},canEdit:!1,currentParentRecord:{},user:{}}}}},methods:{deleteItem(e){this.$emit("deleteItem",e)},editItem(e){this.$emit("editItem",e)},clickRow(e){this.$emit("clickRow",e)}},computed:{compHeader(){return this.superOptions.headers.find(t=>t.value==this.dataPoint.data)},compRelation(){let e={};return this.compHeader.usageType.startsWith("relChildren")&&(e=this.childRelations.find(t=>t.field.name==this.dataPoint.data)),e}}},$i={key:0,class:""},es={class:"d-flex flex-row"},ts={class:"pr-2"},as={key:0,class:"text-caption",style:{"line-height":"1.6rem"}},ls={key:0,class:"pt-1"},ns={key:1,class:"d-flex flex-column",style:{height:"100%"}},os={key:0,class:"text-caption"},rs={key:0,class:"pt-1"};function is(e,t,a,n,l,o){const i=G("SuperTable"),r=G("FormattedColumn");return k(),I("div",null,[a.dataPoint.xOrientation?(k(),I("div",$i,[de("div",es,[de("div",ts,[a.dataPoint.hideLabel?ie("",!0):(k(),I("div",as,ke(o.compHeader.title)+": ",1))]),de("div",null,[(k(),N(Sa(a.dataPoint.tag?a.dataPoint.tag:"div"),{class:Pa(a.dataPoint.class?a.dataPoint.class:"")},{default:V(()=>[o.compHeader.usageType.startsWith("relChildren")?(k(),I("div",ls,[o.compRelation?(k(),N(i,{key:0,currentParentRel:o.compRelation,model:o.compRelation.field.meta.field.related,canEdit:a.superOptions.canEdit,defaultViewModeProp:a.dataPoint.relationViewMode?a.dataPoint.relationViewMode:"table"},tt({_:2},[e.$slots[o.compRelation.field.name]?{name:"create",fn:V(()=>[Le(e.$slots,o.compRelation.field.name)]),key:"0"}:void 0]),1032,["currentParentRel","model","canEdit","defaultViewModeProp"])):ie("",!0)])):(k(),N(r,{key:1,header:o.compHeader,item:a.item,superOptions:a.superOptions},null,8,["header","item","superOptions"]))]),_:3},8,["class"]))])])])):(k(),I("div",ns,[a.dataPoint.hideLabel?ie("",!0):(k(),I("div",os,ke(o.compHeader.title),1)),(k(),N(Sa(a.dataPoint.tag?a.dataPoint.tag:"div"),{class:Pa(a.dataPoint.class?a.dataPoint.class:"")},{default:V(()=>[o.compHeader.usageType.startsWith("relChildren")?(k(),I("div",rs,[o.compRelation?(k(),N(i,{key:0,currentParentRel:o.compRelation,model:o.compRelation.field.meta.field.related,canEdit:a.superOptions.canEdit,defaultViewModeProp:a.dataPoint.relationViewMode?a.dataPoint.relationViewMode:"table"},tt({_:2},[e.$slots[o.compRelation.field.name]?{name:"create",fn:V(()=>[Le(e.$slots,o.compRelation.field.name)]),key:"0"}:void 0]),1032,["currentParentRel","model","canEdit","defaultViewModeProp"])):ie("",!0)])):(k(),N(r,{key:1,header:o.compHeader,item:a.item,superOptions:a.superOptions},null,8,["header","item","superOptions"]))]),_:3},8,["class"]))]))])}const ss=me(Qi,[["render",is]]),us={name:"RecordOverviewDynamic",components:{RecordOverview:dt,RecordOverviewDynamicDataPoint:ss},props:{isSummary:{type:Boolean,default(){return!1}},childRelations:{type:Array,default(){return[]}},item:{type:Object,default(){return{}}},clickable:{type:Boolean,default(){return!1}},maxFields:{type:Number,default(){return 999}},rowsAndDataIndicators:{type:Object,default(){return{}}},superOptions:{type:Object,default(){return{headers:[],modelFields:[],displayMapField:!1,model:{},canEdit:!1,currentParentRecord:{},user:{}}}},filteredChildRelations:{type:Array,default(){return[]}}},methods:{deleteItem(e){this.$emit("deleteItem",e)},editItem(e){this.$emit("editItem",e)},clickRow(e){this.$emit("clickRow",e)}},computed:{rows(){let e=[];return this.isSummary?this.superOptions.model.displayMapSummary&&this.superOptions.model.displayMapSummary.rows&&(e=this.superOptions.model.displayMapSummary.rows):this.superOptions.model.displayMapFull&&this.superOptions.model.displayMapFull.rows&&(e=this.superOptions.model.displayMapFull.rows),e}},mounted(){}};function ds(e,t,a,n,l,o){const i=G("RecordOverviewDynamicDataPoint");return k(),I("div",{style:sa(a.clickable?"cursor: pointer":""),onClick:t[0]||(t[0]=r=>o.clickRow(a.item)),class:"pa-2"},[(k(!0),I(H,null,pe(o.rows,(r,u)=>(k(),N(jt,{key:u,"no-gutters":""},{default:V(()=>[(k(!0),I(H,null,pe(r.cols,(d,f)=>(k(),N(Wt,{key:f,cols:d.width},{default:V(()=>[d.rows?(k(!0),I(H,{key:0},pe(d.rows,(c,m)=>(k(),N(jt,{key:m,"no-gutters":""},{default:V(()=>[(k(!0),I(H,null,pe(c.cols,(y,b)=>(k(),N(Wt,{key:b,cols:y.width},{default:V(()=>[s(i,{item:a.item,dataPoint:y.dataPoint,childRelations:a.childRelations,onClickRow:o.clickRow,superOptions:a.superOptions,filteredChildRelations:a.filteredChildRelations},tt({_:2},[pe(e.$slots,(v,p)=>({name:p,fn:V(g=>[Le(e.$slots,p,B({ref_for:!0},g))])}))]),1032,["item","dataPoint","childRelations","onClickRow","superOptions","filteredChildRelations"])]),_:2},1032,["cols"]))),128))]),_:2},1024))),128)):(k(),N(i,{key:1,item:a.item,dataPoint:d.dataPoint,childRelations:a.childRelations,onClickRow:o.clickRow,superOptions:a.superOptions,filteredChildRelations:a.filteredChildRelations},tt({_:2},[pe(e.$slots,(c,m)=>({name:m,fn:V(y=>[Le(e.$slots,m,B({ref_for:!0},y))])}))]),1032,["item","dataPoint","childRelations","onClickRow","superOptions","filteredChildRelations"]))]),_:2},1032,["cols"]))),128))]),_:2},1024))),128))],4)}const cs=me(us,[["render",ds]]),ms={name:"SuperTableCalendar",components:{RecordOverview:dt,VueCal:Kn},props:{items:{type:Array,default(){return[]}},superOptions:{type:Object,default(){return{headers:[],modelFields:[],displayMapField:!1,model:{},canEdit:!1,currentParentRecord:{},user:{}}}}},data:()=>({type:"week",types:["month","week","day","4day"],mode:"stack",modes:["stack","column"],weekday:[1,2,3,4,5,6,0],weekdays:[{title:"Sun - Sat",value:[0,1,2,3,4,5,6]},{title:"Mon - Sun",value:[1,2,3,4,5,6,0]},{title:"Mon - Fri",value:[1,2,3,4,5]},{title:"Mon, Wed, Fri",value:[1,3,5]}],value:[new Date],colors:["blue","indigo","deep-purple","cyan","green","orange","grey darken-1"],viewItemData:{showModal:!1,data:{}}}),computed:{firstNonIdKey(){const e=Object.keys(this.superOptions.headers).find(a=>this.superOptions.headers[a].value!=="id");return this.superOptions.headers[e].value},startFieldName(){let e=this.superOptions.headers.find(t=>t.usageType=="timeRangeStart");if(!e){for(const t of this.superOptions.headers)if(t.headerChildren){e=t.headerChildren.find(a=>a.usageType=="timeRangeStart"),e={...e,isChildOf:t};break}}return e},endFieldName(){let e=this.superOptions.headers.find(t=>t.usageType=="timeRangeEnd");if(!e){for(const t of this.superOptions.headers)if(t.headerChildren){e=t.headerChildren.find(a=>a.usageType=="timeRangeEnd"),e={...e,isChildOf:t};break}}return e},events(){var t;let e=[];if((t=this.startFieldName)!=null&&t.value)for(const a of this.items)this.startFieldName.isChildOf?e.push({title:a[this.firstNonIdKey],start:new Date(a[this.startFieldName.isChildOf.value][this.startFieldName.value]),end:new Date(a[this.startFieldName.isChildOf.value][this.endFieldName.value]),color:"deep-purple",timed:!0,meta:a}):e.push({title:a[this.firstNonIdKey],start:new Date(a[this.startFieldName.value]),end:new Date(a[this.endFieldName.value]),color:"deep-purple",timed:!0,meta:a});return e},myEvents(){var t;let e=[];if((t=this.startFieldName)!=null&&t.value)for(const a of this.items)this.startFieldName.isChildOf?e.push({title:a[this.firstNonIdKey],start:new Date(a[this.startFieldName.isChildOf.value][this.startFieldName.value]),end:new Date(a[this.startFieldName.isChildOf.value][this.endFieldName.value]),color:"deep-purple",timed:!0,meta:a}):e.push({title:a[this.firstNonIdKey],start:new Date(a[this.startFieldName.value]),end:new Date(a[this.endFieldName.value]),color:"deep-purple",timed:!0,meta:a});return e}},methods:{clickRow(e){this.viewItemData.showModal=!1,this.$emit("clickRow",e)},updateTimeWindow(){},getEventColor(e){return e.color},rnd(e,t){return Math.floor((t-e+1)*Math.random())+e},showEvent(e){this.viewItemData.showModal=!0,this.viewItemData.data=e.meta},viewDay({date:e}){this.modelValue=e,this.type="day"}},mounted(){ye.quickListsIsMobile()&&(this.type="day")}},fs=["onClick"];function vs(e,t,a,n,l,o){const i=G("vue-cal"),r=G("v-calendar"),u=G("RecordOverview");return k(),I("div",null,[s(Rt,{tile:"",height:"54",class:"d-flex"},{default:V(()=>[s(Ce,{modelValue:e.type,"onUpdate:modelValue":t[0]||(t[0]=d=>e.type=d),items:e.types,density:"compact",variant:"outlined","hide-details":"",class:"ma-2",label:"Type"},null,8,["modelValue","items"]),s(Ce,{modelValue:e.mode,"onUpdate:modelValue":t[1]||(t[1]=d=>e.mode=d),items:e.modes,density:"compact",variant:"outlined","hide-details":"",label:"Event Overlap Mode",class:"ma-2"},null,8,["modelValue","items"])]),_:1}),s(Rt,{height:"800"},{default:V(()=>[s(i,{view:"month",events:o.myEvents,"editable-events":!1,indicators:!0,onEventClick:o.showEvent,"time-from":8*60,"time-to":22*60},null,8,["events","onEventClick"])]),_:1}),s(Rt,{height:"800"},{default:V(()=>[s(r,{ref:"calendar",modelValue:e.value,"onUpdate:modelValue":t[2]||(t[2]=d=>e.value=d),weekdays:e.weekday,"view-mode":e.type,events:o.events,"event-overlap-mode":e.mode,"event-overlap-threshold":30,"event-color":o.getEventColor,onChange:o.updateTimeWindow,"interval-start":8,"interval-duration":60,intervals:14,"onClick:event":o.showEvent,"onClick:more":o.viewDay,"onClick:date":o.viewDay},{day:V(({date:d,day:f})=>[de("div",{onClick:c=>o.showEvent(d),class:"day-cell"},ke(f),9,fs)]),_:1},8,["modelValue","weekdays","view-mode","events","event-overlap-mode","event-color","onChange","onClick:event","onClick:more","onClick:date"])]),_:1}),s(ge,{modelValue:e.viewItemData.showModal,"onUpdate:modelValue":t[5]||(t[5]=d=>e.viewItemData.showModal=d),"max-width":"800px"},{default:V(()=>[s(we,{class:"pt-4"},{default:V(()=>[s(Fe,null,{default:V(()=>[s(u,{item:e.viewItemData.data,superOptions:a.superOptions},null,8,["item","superOptions"])]),_:1}),s(Re,null,{default:V(()=>[s(Q,{onClick:t[3]||(t[3]=d=>o.clickRow(e.viewItemData.data))},{default:V(()=>[ee("Open")]),_:1}),s(Q,{onClick:t[4]||(t[4]=d=>e.viewItemData.showModal=!1)},{default:V(()=>[ee("Cancel")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const hs=me(ms,[["render",vs]]),ys={name:"SuperTableGrid",components:{FormattedColumn:ut,RecordOverview:dt,RecordOverviewDynamic:cs},props:{items:{type:Array,default(){return[]}},superOptions:{type:Object,default(){return{headers:[],modelFields:[],displayMapField:!1,model:{},canEdit:!1,currentParentRecord:{},user:{}}}}},methods:{deleteItem(e){this.$emit("deleteItem",e)},editItem(e){this.$emit("editItem",e)},clickRow(e){this.$emit("clickRow",e)}},mounted(){},computed:{}},gs={key:0,style:{"text-align":"center"}};function ps(e,t,a,n,l,o){const i=G("RecordOverviewDynamic"),r=G("RecordOverview");return k(),I("div",null,[s(jt,{class:"fill-height ma-n2",justify:"center"},{default:V(()=>[(k(!0),I(H,null,pe(a.items,u=>(k(),N(Wt,{key:u.name,cols:"12",md:"3",class:"pa-2"},{default:V(()=>[s(we,{class:"mx-auto",style:{height:"100%"}},{default:V(()=>[a.superOptions.model.displayMapSummary&&a.superOptions.model.displayMapSummary.rows?(k(),N(i,{key:0,item:u,onClickRow:o.clickRow,clickable:!0,maxFields:6,childRelations:[],isSummary:"",superOptions:a.superOptions},null,8,["item","onClickRow","superOptions"])):(k(),N(r,{key:1,item:u,onClickRow:o.clickRow,clickable:!0,maxFields:6,superOptions:a.superOptions},null,8,["item","onClickRow","superOptions"]))]),_:2},1024)]),_:2},1024))),128))]),_:1}),a.items.length?ie("",!0):(k(),I("div",gs,"No data available"))])}const bs=me(ys,[["render",ps]]);function ks(e){return qn()?(Ve(e),!0):!1}const ws=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Vs=ws?window.navigator:void 0;function xs(){const e=K(!1),t=Zn();return t&&ot(()=>{e.value=!0},t),e}function Ps(e){const t=xs();return x(()=>(t.value,!!e()))}function Ss(e={}){const{enableHighAccuracy:t=!0,maximumAge:a=3e4,timeout:n=27e3,navigator:l=Vs,immediate:o=!0}=e,i=Ps(()=>l&&"geolocation"in l),r=K(null),u=se(null),d=K({accuracy:0,latitude:Number.POSITIVE_INFINITY,longitude:Number.POSITIVE_INFINITY,altitude:null,altitudeAccuracy:null,heading:null,speed:null});function f(b){r.value=b.timestamp,d.value=b.coords,u.value=null}let c;function m(){i.value&&(c=l.geolocation.watchPosition(f,b=>u.value=b,{enableHighAccuracy:t,maximumAge:a,timeout:n}))}o&&m();function y(){c&&l&&l.geolocation.clearWatch(c)}return ks(()=>{y()}),{isSupported:i,coords:d,locatedAt:r,error:u,resume:m,pause:y}}const Ts={name:"SuperTableMap",components:{MyGoogleMap:Ki,RecordOverview:dt},props:{items:{type:Array,default(){return[]}},mapHeaders:{type:Array,default(){return[]}},superOptions:{type:Object,default(){return{headers:[],modelFields:[],displayMapField:!1,model:{},canEdit:!1,currentParentRecord:{},user:{}}}}},data(){return{locationHasBeenGranted:!1,zoom:2,geolocation:Ss(),center:{lat:0,lng:0},geoLocate:{},selectedPlaceIndex:null,clusterStyle:{textColor:"white",url:"/mapIconCluster.svg",anchorText:[1.5,1]},viewItemData:{showModal:!1,data:{}}}},computed:{clusterStyles(){return[{...this.clusterStyle,height:40,width:40},{...this.clusterStyle,height:40,width:40},{...this.clusterStyle,height:40,width:40},{...this.clusterStyle,height:40,width:40},{...this.clusterStyle,height:40,width:40}]},markers(){let e=[],t=this.mapHeaders.find(n=>n.usageType=="mapExtraGeoLocLong"),a=this.mapHeaders.find(n=>n.usageType=="mapExtraGeoLocLat");if(a&&t)for(const n of this.items)n[a.value]!==null&&e.push({position:{lat:n[a.value],lng:n[t.value]},keys:{long:t.value,lat:a.value},meta:n});else{let n="";for(const l of this.mapHeaders)if(n=l.value,l.headerChildren&&(t=l.headerChildren.find(o=>o.usageType=="mapExtraGeoLocLong"),a=l.headerChildren.find(o=>o.usageType=="mapExtraGeoLocLat"),a&&t))break;for(const l of this.items)l[a.value]!==null&&e.push({position:{lat:l[n][a.value],lng:l[n][t.value]},keys:{long:t.value,lat:a.value},meta:l})}return e}},methods:{deleteItem(e){this.$emit("deleteItem",e)},editItem(e){this.$emit("editItem",e)},clickRow(e){this.viewItemData.showModal=!1,this.$emit("clickRow",e)},position(e){return{lng:Number(e.lng),lat:Number(e.lat)}},positionString(e){return e.lat+", "+e.lng},markerOptionsMethod(e,t){return t==this.selectedPlaceIndex?this.selectedMarkerOptions(e,t):this.markerOptions(e,t)},clickedMarker(e,t){this.viewItemData.showModal=!0,this.viewItemData.data=e.meta,this.selectedPlaceIndex=t},markerOptions(e){return{id:e.meta.id,url:"/mapIconPin.svg",size:{width:30,height:30,f:"px",b:"px"},scaledSize:{width:30,height:30,f:"px",b:"px"}}},selectedMarkerOptions(e){return{id:e.meta.id,url:"/mapIconPin.svg",size:{width:40,height:40,f:"px",b:"px"},scaledSize:{width:40,height:40,f:"px",b:"px"}}}},mounted(){},watch:{"geolocation.coords.latitude"(){if(!this.locationHasBeenGranted){this.locationHasBeenGranted=!0,this.center={lng:this.geolocation.coords.longitude,lat:this.geolocation.coords.latitude};let e=2;this.geolocation.coords.accuracy<=100||this.geolocation.coords.altitude?e=9:this.geolocation.coords.accuracy<=1e3?e=8:e=7,this.zoom=e}}}};function Ds(e,t,a,n,l,o){const i=G("MyGoogleMap"),r=G("RecordOverview");return k(),I("div",null,[s(i,{markers:o.markers,modelValue:l.center,"onUpdate:modelValue":t[0]||(t[0]=u=>l.center=u),zoom:l.zoom,onClickMarker:o.clickedMarker},null,8,["markers","modelValue","zoom","onClickMarker"]),s(ge,{modelValue:l.viewItemData.showModal,"onUpdate:modelValue":t[3]||(t[3]=u=>l.viewItemData.showModal=u),"max-width":"800px"},{default:V(()=>[s(we,{class:"pt-4"},{default:V(()=>[s(Fe,null,{default:V(()=>[s(r,{item:l.viewItemData.data,superOptions:a.superOptions},null,8,["item","superOptions"])]),_:1}),s(Re,null,{default:V(()=>[s(Q,{onClick:t[1]||(t[1]=u=>o.clickRow(l.viewItemData.data))},{default:V(()=>[ee("Open")]),_:1}),s(Q,{onClick:t[2]||(t[2]=u=>l.viewItemData.showModal=!1)},{default:V(()=>[ee("Cancel")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const Cs=me(Ts,[["render",Ds]]),Ms={name:"SuperTableList",components:{FormattedColumn:ut},props:{items:{type:Array,default(){return[]}},modelValue:{type:Number,default(){return null}},superOptions:{type:Object,default(){return{headers:[],modelFields:[],displayMapField:!1,model:{},canEdit:!1,currentParentRecord:{},user:{}}}}},methods:{clickRow(e){this.$emit("update:modelValue",e)}},computed:{title(){return this.superOptions.headers.find(t=>t.value!=="id")}}},_s={style:{"max-height":"330px","overflow-y":"scroll"}};function Os(e,t,a,n,l,o){const i=G("FormattedColumn"),r=G("v-list-item-content"),u=G("v-list-item-group");return k(),I("div",_s,[s(ml,{density:"compact"},{default:V(()=>[s(u,{modelValue:a.modelValue,color:"primary"},{default:V(()=>[(k(!0),I(H,null,pe(a.items,(d,f)=>(k(),N(zt,{key:f,modelValue:d.id,onClick:c=>o.clickRow(d)},{default:V(()=>[s(r,null,{default:V(()=>[s(co,null,{default:V(()=>[s(i,{header:o.title,item:d},null,8,["header","item"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue","onClick"]))),128))]),_:1},8,["modelValue"])]),_:1})])}const Fs=me(Ms,[["render",Os]]),Is={name:"SuperTable",components:{CreateButton:zo,DestructableExpansionPanels:Hr,FilterPlace:Yi,FilterTime:Wi,SuperSelect:fa,SuperTableList:Fs,SuperTableMap:Cs,SuperTableTable:tn,SuperTableGrid:bs,SuperTableCalendar:hs,CreateEditForm:va},props:{forcedFilters:{type:Object,default(){return{}}},user:{type:Object,default(){return{}}},model:{type:[Object,Function],required:!0},displayMapField:{type:Boolean,default(){return!1}},isForSelectingRelation:{type:Boolean,default(){return!1}},modelValue:{type:[Number,Object],default(){return null}},showMap:{type:Boolean,default(){return!1}},canEdit:{type:Boolean,default(){return!1}},currentParentRel:{type:Object,default(){return null}},defaultViewModeProp:{type:String,default(){return""}}},data(){return{years:Array.from({length:5},(e,t)=>new Date().getFullYear()-t),pagination:{page:1,itemsPerPage:15,totalItems:0},createItemData:{showModal:!1,data:{}},highlightedRow:null,filters:{},activeTab:"table"}},computed:{excludedCols(){var t;let e=[];return(t=this.currentParentRel)!=null&&t.currentParentRecord&&(e=[this.currentParentRel.currentParentRecord.foreignKeyToParentRecord]),e},filtersComp(){var t;const e={...this.filters,...this.forcedFilters};return(t=this.currentParentRel)!=null&&t.currentParentRecord&&this.currentParentRel.currentParentRecord.item&&(e[this.currentParentRel.currentParentRecord.foreignKeyToParentRecord]=this.currentParentRel.currentParentRecord.item.id),e},quickListsIsMobile(){return ye.quickListsIsMobile()},filterInputs(){const e=this.modelFields,t=[];for(const a of e)if(a.usageType.startsWith("relForeignKeyNormal")||a.usageType=="timeRangeStart")t.push(a);else if(a.usageType=="relForeignKeyMapExtraRelSublocality"){const n=e.filter(l=>l.usageType.startsWith("relForeignKeyMapExtraRel"));t.push({label:"Place",name:"Place",usageType:"mapFilter",dataType:"normal",children:n})}return t},headers(){return ye.SupaerTableHeaders(this.model,this.excludedCols,this.canEdit,this.displayMapField)},mapHeaders(){return ye.SupaerTableHeaders(this.model,this.excludedCols,this.canEdit,!0)},modelFields(){return ye.computedAttrs(this.model,this.excludedCols)},items(){return this.model.query().where(t=>this.quickListsGetIfMatchesAllChecks(t,this.filtersComp)).withAll().orderBy("id","desc").get()}},methods:{quickListsGetIfMatchesAllChecks(e,t){return ye.quickListsGetIfMatchesAllChecks(e,t)},openRecord(e){this.$emit("openRecord",e)},formatTimestamp(e){return e?rl.tz(e,"YYYY-MM-DDTHH:mm:ss.SSSSSSZ","UTC").tz("Africa/Johannesburg").format("dddd, MMMM D, YYYY h:mm A"):null},createNewInstance(){return new this.model},clickRow(e){this.isForSelectingRelation&&(this.highlightedRow=e.id),this.$emit("update:modelValue",e)},createItem(){this.createItemData.showModal=!0},createItemSubmit(){let e=ye.preparePayload(this.createItemData.data,this.modelFields);delete e.id;const t=this.items.length;this.model.Store(e).then(()=>{t||this.fetchData()}),this.createItemData.data={},this.createItemData.showModal=!1},updateOptions(e){this.pagination.page=e.page,this.pagination.limit=e.itemsPerPage,this.fetchData()},async fetchData(){var n,l,o,i,r;let e=[];(n=this.model.rules)!=null&&n.readables&&(e=this.model.rules.readables(this.user));const t=await this.model.FetchAll({page:this.pagination.page,limit:this.pagination.itemsPerPage,filters:this.filtersComp,flags:{...e,order:"id.desc"},moreHeaders:{Prefer:"count=exact"},clearPrimaryModelOnly:!1,relationships:[]});let a=-1;(o=(l=t==null?void 0:t.response)==null?void 0:l.headers)!=null&&o["content-range"]&&(a=((r=(i=t==null?void 0:t.response)==null?void 0:i.headers)==null?void 0:r["content-range"]).split("/")[1]),this.pagination.totalItems=a}},watch:{filters:{handler(){this.fetchData()},deep:!0},"createItemData.showModal"(e){var t;e&&(this.createItemData.data=this.createNewInstance(),(t=this.currentParentRel)!=null&&t.currentParentRecord&&(this.createItemData.data[this.currentParentRel.currentParentRecord.foreignKeyToParentRecord]=this.currentParentRel.currentParentRecord.item.id))}},mounted(){var e,t;this.quickListsIsMobile?this.activeTab="grid":this.defaultViewModeProp!==""?this.activeTab=this.defaultViewModeProp:(t=(e=this.model)==null?void 0:e.displayMapFull)!=null&&t.defaultViewMode&&(this.activeTab=this.model.displayMapFull.defaultViewMode);for(const a of this.modelFields)a.usageType.startsWith("relForeignKey")||a.dataType.startsWith("mapExtraRel")?this.filters[a.name]=null:a.usageType=="timeRangeStart"&&(this.filters[a.name]={value:null,usageType:"timeRangeStart"});this.fetchData()}},Rs={key:0,class:"d-flex align-center mb-4 gap-1em"},Es={class:"d-flex align-center flex-wrap"},As={class:"my-4"},Bs={key:1,class:"my-4"};function Ls(e,t,a,n,l,o){const i=G("CreateButton"),r=G("SuperTableList"),u=G("SuperSelect"),d=G("FilterTime"),f=G("FilterPlace"),c=G("DestructableExpansionPanels"),m=G("SuperTableTable"),y=G("SuperTableGrid"),b=G("SuperTableMap"),v=G("SuperTableCalendar"),p=G("CreateEditForm");return k(),I("div",null,[a.canEdit?(k(),I("div",Rs,[e.$slots.create?Le(e.$slots,"create",{key:0}):(k(),N(i,{key:1,modelFields:o.modelFields,onCreateItem:o.createItem,model:a.model,superOptions:{headers:o.headers,modelFields:o.modelFields,displayMapField:a.displayMapField,model:a.model,canEdit:a.canEdit,currentParentRel:a.currentParentRel,user:a.user}},null,8,["modelFields","onCreateItem","model","superOptions"]))])):ie("",!0),a.isForSelectingRelation?(k(),N(r,{key:1,items:o.items,modelValue:a.modelValue,"onUpdate:modelValue":o.clickRow,superOptions:{headers:o.headers,modelFields:o.modelFields,displayMapField:a.displayMapField,model:a.model,canEdit:a.canEdit,currentParentRel:a.currentParentRel,user:a.user}},null,8,["items","modelValue","onUpdate:modelValue","superOptions"])):(k(),I(H,{key:2},[s(c,{destroy:!o.quickListsIsMobile,title:"Settings"},{default:V(()=>[de("div",Es,[s(Ce,{style:{width:"250px"},items:[{text:"Table",value:"table"},{text:"Grid",value:"grid"},{text:"Map",value:"map"},{text:"Calendar",value:"calendar"}],modelValue:l.activeTab,"onUpdate:modelValue":t[0]||(t[0]=g=>l.activeTab=g),variant:"outlined",label:"View As","item-title":"text","item-value":"value",density:"compact",class:"ma-2 flex-grow-1 is-flex","menu-props":{offsetY:!0}},null,8,["modelValue"]),(k(!0),I(H,null,pe(o.filterInputs,g=>(k(),I("div",{class:"ma-2 flex-grow-1 is-flex",key:g.name},[typeof l.filters[g.name]<"u"?(k(),I(H,{key:0},[g.usageType.startsWith("relForeignKey")?(k(),N(u,{allowAll:"",key:g.name,modelField:g,modelValue:l.filters[g.name],"onUpdate:modelValue":h=>l.filters[g.name]=h,model:g.meta.relatedModel,class:"ma-2 flex-grow-1 is-flex",variant:"outlined",density:"compact",user:a.user},null,8,["modelField","modelValue","onUpdate:modelValue","model","user"])):ie("",!0),g.usageType=="timeRangeStart"?(k(),N(d,{key:g.name,modelField:g,modelValue:l.filters[g.name].value,"onUpdate:modelValue":h=>l.filters[g.name].value=h,class:"ma-2 flex-grow-1 is-flex"},null,8,["modelField","modelValue","onUpdate:modelValue"])):ie("",!0)],64)):(k(),I(H,{key:1},[g.usageType=="mapFilter"?(k(),N(f,{key:g.name,filterField:g,modelValue:l.filters,"onUpdate:modelValue":t[1]||(t[1]=h=>l.filters=h),class:"ma-2 flex-grow-1 is-flex",user:a.user},null,8,["filterField","modelValue","user"])):ie("",!0)],64))]))),128))])]),_:1},8,["destroy"]),de("div",As,[l.activeTab=="table"?(k(),N(m,{key:0,onUpdateOptions:o.updateOptions,items:o.items,onClickRow:o.clickRow,pagination:l.pagination,superOptions:{headers:o.headers,modelFields:o.modelFields,displayMapField:a.displayMapField,model:a.model,canEdit:a.canEdit,currentParentRel:a.currentParentRel,user:a.user}},null,8,["onUpdateOptions","items","onClickRow","pagination","superOptions"])):ie("",!0),l.activeTab=="grid"?(k(),I("div",Bs,[s(y,{items:o.items,onClickRow:o.clickRow,superOptions:{headers:o.headers,modelFields:o.modelFields,displayMapField:a.displayMapField,model:a.model,canEdit:a.canEdit,currentParentRel:a.currentParentRel,user:a.user}},null,8,["items","onClickRow","superOptions"])])):ie("",!0),l.activeTab=="map"?(k(),N(b,{key:2,mapHeaders:o.mapHeaders,items:o.items,onClickRow:o.clickRow,superOptions:{headers:o.headers,modelFields:o.modelFields,displayMapField:a.displayMapField,model:a.model,canEdit:a.canEdit,currentParentRel:a.currentParentRel,user:a.user}},null,8,["mapHeaders","items","onClickRow","superOptions"])):ie("",!0),l.activeTab=="calendar"?(k(),N(v,{key:3,items:o.items,onClickRow:o.clickRow,superOptions:{headers:o.headers,modelFields:o.modelFields,displayMapField:a.displayMapField,model:a.model,canEdit:a.canEdit,currentParentRel:a.currentParentRel,user:a.user}},null,8,["items","onClickRow","superOptions"])):ie("",!0)])],64)),a.canEdit?(k(),N(ge,{key:3,modelValue:l.createItemData.showModal,"onUpdate:modelValue":t[4]||(t[4]=g=>l.createItemData.showModal=g),"max-width":"800px"},{default:V(()=>[l.createItemData.showModal?(k(),N(p,{key:0,title:"Create Item",modelValue:l.createItemData.data,"onUpdate:modelValue":t[2]||(t[2]=g=>l.createItemData.data=g),onSubmit:o.createItemSubmit,onCancel:t[3]||(t[3]=g=>l.createItemData.showModal=!1),superOptions:{headers:o.headers,modelFields:o.modelFields,displayMapField:a.displayMapField,model:a.model,canEdit:a.canEdit,currentParentRel:a.currentParentRel,user:a.user}},null,8,["modelValue","onSubmit","superOptions"])):ie("",!0)]),_:1},8,["modelValue"])):ie("",!0)])}const Ns=me(Is,[["render",Ls]]),an=Object.freeze(Object.defineProperty({__proto__:null,default:Ns},Symbol.toStringTag,{value:"Module"}));export{ye as H,cs as R,Ns as S,Fs as a,dt as b,bl as m,kl as u};

import{_ as p,aM as l,aL as c,o as i,e as d,f as s,w as o,l as V,ao as g,k as h,s as m,aO as w,F as S,i as f,t as _}from"./index-DE-DoR6d.js";import{V as b}from"./VCard-Bpt8-xLU.js";import{V as u,a as k}from"./VTextField-B2gvSP3X.js";const x={name:"SigninView",components:{},data(){return{form:{email:"",password:""},loading:!1}},methods:{submit(){l.deleteAll(),this.loading=!0,l.signIn(this.form).then(n=>{c.set("VITE_AUTH",n.response.data,"2h"),this.loading=!1}).catch(()=>{this.loading=!1})}},computed:{loginSession(){return l.query().withAllRecursive().first()}},mounted(){}},y=f("h1",{class:"text-center"},"Sign In",-1);function v(n,a,B,F,e,r){return i(),d("div",null,[s(b,{class:"pa-2"},{default:o(()=>[s(V,{width:"300",class:"mx-auto"},{default:o(()=>[y,r.loginSession?(i(),d(S,{key:1},[m(" Welcome "),f("b",null,_(this.loginSession.user.email),1)],64)):(i(),g(k,{key:0,onSubmit:w(r.submit,["prevent"])},{default:o(()=>[s(u,{required:"",modelValue:e.form.email,"onUpdate:modelValue":a[0]||(a[0]=t=>e.form.email=t),label:"Email",type:"email",variant:"underlined"},null,8,["modelValue"]),s(u,{modelValue:e.form.password,"onUpdate:modelValue":a[1]||(a[1]=t=>e.form.password=t),label:"Password",type:"password",variant:"underlined"},null,8,["modelValue"]),s(h,{type:"submit",block:"",class:"mt-2",loading:e.loading},{default:o(()=>[m("Submit ")]),_:1},8,["loading"])]),_:1},8,["onSubmit"]))]),_:1})]),_:1})])}const E=p(x,[["render",v]]);export{E as default};
